var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,s=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&o(e,n,t[n]);if(r)for(var n of r(t))a.call(t,n)&&o(e,n,t[n]);return e},c=(e,r)=>t(e,n(r)),u=(e,t)=>{var n={};for(var o in e)i.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&r)for(var o of r(e))t.indexOf(o)<0&&a.call(e,o)&&(n[o]=e[o]);return n};function l(){}function d(e,t){for(const n in t)e[n]=t[n];return e}function f(e){return e()}function h(){return Object.create(null)}function p(e){e.forEach(f)}function g(e){return"function"==typeof e}function y(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function m(e,...t){if(null==e)return l;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function v(e,t,n,r){if(e){const i=b(e,t,n,r);return e[0](i)}}function b(e,t,n,r){return e[1]&&r?d(n.ctx.slice(),e[1](r(t))):n.ctx}function w(e,t,n,r,i,a,o){const s=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,a);if(s){const i=b(t,n,r,o);e.p(i,s)}}function S(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function O(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function C(e,t){e.appendChild(t)}function x(e,t,n){e.insertBefore(t,n||null)}function q(e){e.parentNode.removeChild(e)}function $(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function I(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function k(){return E(" ")}function A(){return E("")}function j(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function R(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function P(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:R(e,r,t[r])}function T(e){return""===e?null:+e}function _(e){return Array.from(e.childNodes)}function F(e,t,n,r){for(let i=0;i<e.length;i+=1){const r=e[i];if(r.nodeName===t){let t=0;const a=[];for(;t<r.attributes.length;){const e=r.attributes[t++];n[e.name]||a.push(e.name)}for(let e=0;e<a.length;e++)r.removeAttribute(a[e]);return e.splice(i,1)[0]}}return r?function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}(t):I(t)}function M(e,t){for(let n=0;n<e.length;n+=1){const r=e[n];if(3===r.nodeType)return r.data=""+t,e.splice(n,1)[0]}return E(t)}function V(e){return M(e," ")}function D(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function L(e,t){e.value=null==t?"":t}function N(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function z(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];r.selected=~t.indexOf(r.__value)}}function U(e,t=document.body){return Array.from(t.querySelectorAll(e))}let H;function Q(e){H=e}function B(){if(!H)throw new Error("Function called outside component initialization");return H}function Y(e){B().$$.on_mount.push(e)}function W(e){B().$$.after_update.push(e)}function J(e,t){B().$$.context.set(e,t)}function K(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const Z=[],G=[],X=[],ee=[],te=Promise.resolve();let ne=!1;function re(e){X.push(e)}function ie(e){ee.push(e)}let ae=!1;const oe=new Set;function se(){if(!ae){ae=!0;do{for(let e=0;e<Z.length;e+=1){const t=Z[e];Q(t),ce(t.$$)}for(Q(null),Z.length=0;G.length;)G.pop()();for(let e=0;e<X.length;e+=1){const t=X[e];oe.has(t)||(oe.add(t),t())}X.length=0}while(Z.length);for(;ee.length;)ee.pop()();ne=!1,ae=!1,oe.clear()}}function ce(e){if(null!==e.fragment){e.update(),p(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}const ue=new Set;let le;function de(){le={r:0,c:[],p:le}}function fe(){le.r||p(le.c),le=le.p}function he(e,t){e&&e.i&&(ue.delete(e),e.i(t))}function pe(e,t,n,r){if(e&&e.o){if(ue.has(e))return;ue.add(e),le.c.push((()=>{ue.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function ge(e,t){const n={},r={},i={$$scope:1};let a=e.length;for(;a--;){const o=e[a],s=t[a];if(s){for(const e in o)e in s||(r[e]=1);for(const e in s)i[e]||(n[e]=s[e],i[e]=1);e[a]=s}else for(const e in o)i[e]=1}for(const o in r)o in n||(n[o]=void 0);return n}function ye(e){return"object"==typeof e&&null!==e?e:{}}function me(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ve(e){e&&e.c()}function be(e,t){e&&e.l(t)}function we(e,t,n,r){const{fragment:i,on_mount:a,on_destroy:o,after_update:s}=e.$$;i&&i.m(t,n),r||re((()=>{const t=a.map(f).filter(g);o?o.push(...t):p(t),e.$$.on_mount=[]})),s.forEach(re)}function Se(e,t){const n=e.$$;null!==n.fragment&&(p(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Oe(e,t){-1===e.$$.dirty[0]&&(Z.push(e),ne||(ne=!0,te.then(se)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ce(e,t,n,r,i,a,o=[-1]){const s=H;Q(e);const c=e.$$={fragment:null,ctx:null,props:a,update:l,not_equal:i,bound:h(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:t.context||[]),callbacks:h(),dirty:o,skip_bound:!1};let u=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...r)=>{const a=r.length?r[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=a)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](a),u&&Oe(e,t)),n})):[],c.update(),u=!0,p(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){const e=_(t.target);c.fragment&&c.fragment.l(e),e.forEach(q)}else c.fragment&&c.fragment.c();t.intro&&he(e.$$.fragment),we(e,t.target,t.anchor,t.customElement),se()}Q(s)}class xe{$destroy(){Se(this,1),this.$destroy=l}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const qe=[];function $e(e,t=l){let n;const r=[];function i(t){if(y(e,t)&&(e=t,n)){const t=!qe.length;for(let n=0;n<r.length;n+=1){const t=r[n];t[1](),qe.push(t,e)}if(t){for(let e=0;e<qe.length;e+=2)qe[e][0](qe[e+1]);qe.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a,o=l){const s=[a,o];return r.push(s),1===r.length&&(n=t(i)||l),a(e),()=>{const e=r.indexOf(s);-1!==e&&r.splice(e,1),0===r.length&&(n(),n=null)}}}}function Ie(e){const t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ee(e,t,n){return!0===n||""===n?e?"col":`col-${t}`:"auto"===n?e?"col-auto":`col-${t}-auto`:e?`col-${n}`:`col-${t}-${n}`}function ke(e){let t="";if("string"==typeof e||"number"==typeof e)t+=e;else if("object"==typeof e)if(Array.isArray(e))t=e.map(ke).filter(Boolean).join(" ");else for(let n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Ae(...e){return e.map(ke).filter(Boolean).join(" ")}function je(e){let t,n,r,i;const a=e[9].default,o=v(a,e,e[8],null);let s=[e[2],{class:e[1]},{style:e[0]}],c={};for(let u=0;u<s.length;u+=1)c=d(c,s[u]);return{c(){t=I("div"),o&&o.c(),this.h()},l(e){t=F(e,"DIV",{class:!0,style:!0});var n=_(t);o&&o.l(n),n.forEach(q),this.h()},h(){P(t,c)},m(a,s){x(a,t,s),o&&o.m(t,null),n=!0,r||(i=j(t,"click",e[10]),r=!0)},p(e,[r]){o&&o.p&&(!n||256&r)&&w(o,a,e,e[8],r,null,null),P(t,c=ge(s,[4&r&&e[2],(!n||2&r)&&{class:e[1]},(!n||1&r)&&{style:e[0]}]))},i(e){n||(he(o,e),n=!0)},o(e){pe(o,e),n=!1},d(e){e&&q(t),o&&o.d(e),r=!1,i()}}}function Re(e,t,n){let r;const i=["class","body","color","inverse","outline","style"];let a=O(t,i),{$$slots:o={},$$scope:s}=t,{class:c=""}=t,{body:u=!1}=t,{color:l=""}=t,{inverse:f=!1}=t,{outline:h=!1}=t,{style:p=""}=t;return e.$$set=e=>{t=d(d({},t),S(e)),n(2,a=O(t,i)),"class"in e&&n(3,c=e.class),"body"in e&&n(4,u=e.body),"color"in e&&n(5,l=e.color),"inverse"in e&&n(6,f=e.inverse),"outline"in e&&n(7,h=e.outline),"style"in e&&n(0,p=e.style),"$$scope"in e&&n(8,s=e.$$scope)},e.$$.update=()=>{248&e.$$.dirty&&n(1,r=Ae(c,"card",!!f&&"text-white",!!u&&"card-body",!!l&&`${h?"border":"bg"}-${l}`))},[p,r,a,c,u,l,f,h,s,o,function(t){K(e,t)}]}class Pe extends xe{constructor(e){super(),Ce(this,e,Re,je,y,{class:3,body:4,color:5,inverse:6,outline:7,style:0})}}function Te(e){let t,n;const r=e[4].default,i=v(r,e,e[3],null);let a=[e[1],{class:e[0]}],o={};for(let s=0;s<a.length;s+=1)o=d(o,a[s]);return{c(){t=I("div"),i&&i.c(),this.h()},l(e){t=F(e,"DIV",{class:!0});var n=_(t);i&&i.l(n),n.forEach(q),this.h()},h(){P(t,o)},m(e,r){x(e,t,r),i&&i.m(t,null),n=!0},p(e,[s]){i&&i.p&&(!n||8&s)&&w(i,r,e,e[3],s,null,null),P(t,o=ge(a,[2&s&&e[1],(!n||1&s)&&{class:e[0]}]))},i(e){n||(he(i,e),n=!0)},o(e){pe(i,e),n=!1},d(e){e&&q(t),i&&i.d(e)}}}function _e(e,t,n){let r;const i=["class"];let a=O(t,i),{$$slots:o={},$$scope:s}=t,{class:c=""}=t;return e.$$set=e=>{t=d(d({},t),S(e)),n(1,a=O(t,i)),"class"in e&&n(2,c=e.class),"$$scope"in e&&n(3,s=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&n(0,r=Ae(c,"card-body"))},[r,a,c,s,o]}class Fe extends xe{constructor(e){super(),Ce(this,e,_e,Te,y,{class:2})}}function Me(e){let t,n,r,i;const a=e[5].default,o=v(a,e,e[4],null);let s=[e[2],{class:e[1]}],c={};for(let u=0;u<s.length;u+=1)c=d(c,s[u]);return{c(){t=I("div"),o&&o.c(),this.h()},l(e){t=F(e,"DIV",{class:!0});var n=_(t);o&&o.l(n),n.forEach(q),this.h()},h(){P(t,c)},m(a,s){x(a,t,s),o&&o.m(t,null),n=!0,r||(i=j(t,"click",e[7]),r=!0)},p(e,r){o&&o.p&&(!n||16&r)&&w(o,a,e,e[4],r,null,null),P(t,c=ge(s,[4&r&&e[2],(!n||2&r)&&{class:e[1]}]))},i(e){n||(he(o,e),n=!0)},o(e){pe(o,e),n=!1},d(e){e&&q(t),o&&o.d(e),r=!1,i()}}}function Ve(e){let t,n,r,i;const a=e[5].default,o=v(a,e,e[4],null);let s=[e[2],{class:e[1]}],c={};for(let u=0;u<s.length;u+=1)c=d(c,s[u]);return{c(){t=I("h3"),o&&o.c(),this.h()},l(e){t=F(e,"H3",{class:!0});var n=_(t);o&&o.l(n),n.forEach(q),this.h()},h(){P(t,c)},m(a,s){x(a,t,s),o&&o.m(t,null),n=!0,r||(i=j(t,"click",e[6]),r=!0)},p(e,r){o&&o.p&&(!n||16&r)&&w(o,a,e,e[4],r,null,null),P(t,c=ge(s,[4&r&&e[2],(!n||2&r)&&{class:e[1]}]))},i(e){n||(he(o,e),n=!0)},o(e){pe(o,e),n=!1},d(e){e&&q(t),o&&o.d(e),r=!1,i()}}}function De(e){let t,n,r,i;const a=[Ve,Me],o=[];function s(e,t){return"h3"===e[0]?0:1}return t=s(e),n=o[t]=a[t](e),{c(){n.c(),r=A()},l(e){n.l(e),r=A()},m(e,n){o[t].m(e,n),x(e,r,n),i=!0},p(e,[i]){let c=t;t=s(e),t===c?o[t].p(e,i):(de(),pe(o[c],1,1,(()=>{o[c]=null})),fe(),n=o[t],n?n.p(e,i):(n=o[t]=a[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){i||(he(n),i=!0)},o(e){pe(n),i=!1},d(e){o[t].d(e),e&&q(r)}}}function Le(e,t,n){let r;const i=["class","tag"];let a=O(t,i),{$$slots:o={},$$scope:s}=t,{class:c=""}=t,{tag:u="div"}=t;return e.$$set=e=>{t=d(d({},t),S(e)),n(2,a=O(t,i)),"class"in e&&n(3,c=e.class),"tag"in e&&n(0,u=e.tag),"$$scope"in e&&n(4,s=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&n(1,r=Ae(c,"card-header"))},[u,r,a,c,s,o,function(t){K(e,t)},function(t){K(e,t)}]}class Ne extends xe{constructor(e){super(),Ce(this,e,Le,De,y,{class:3,tag:0})}}function ze(e){let t,n;const r=e[4].default,i=v(r,e,e[3],null);let a=[e[1],{class:e[0]}],o={};for(let s=0;s<a.length;s+=1)o=d(o,a[s]);return{c(){t=I("h5"),i&&i.c(),this.h()},l(e){t=F(e,"H5",{class:!0});var n=_(t);i&&i.l(n),n.forEach(q),this.h()},h(){P(t,o)},m(e,r){x(e,t,r),i&&i.m(t,null),n=!0},p(e,[s]){i&&i.p&&(!n||8&s)&&w(i,r,e,e[3],s,null,null),P(t,o=ge(a,[2&s&&e[1],(!n||1&s)&&{class:e[0]}]))},i(e){n||(he(i,e),n=!0)},o(e){pe(i,e),n=!1},d(e){e&&q(t),i&&i.d(e)}}}function Ue(e,t,n){let r;const i=["class"];let a=O(t,i),{$$slots:o={},$$scope:s}=t,{class:c=""}=t;return e.$$set=e=>{t=d(d({},t),S(e)),n(1,a=O(t,i)),"class"in e&&n(2,c=e.class),"$$scope"in e&&n(3,s=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&n(0,r=Ae(c,"card-title"))},[r,a,c,s,o]}class He extends xe{constructor(e){super(),Ce(this,e,Ue,ze,y,{class:2})}}function Qe(e){let t,n,r;const i=e[10].default,a=v(i,e,e[9],null);let o=[e[1],{class:n=e[0].join(" ")}],s={};for(let c=0;c<o.length;c+=1)s=d(s,o[c]);return{c(){t=I("div"),a&&a.c(),this.h()},l(e){t=F(e,"DIV",{class:!0});var n=_(t);a&&a.l(n),n.forEach(q),this.h()},h(){P(t,s)},m(e,n){x(e,t,n),a&&a.m(t,null),r=!0},p(e,[c]){a&&a.p&&(!r||512&c)&&w(a,i,e,e[9],c,null,null),P(t,s=ge(o,[2&c&&e[1],{class:n}]))},i(e){r||(he(a,e),r=!0)},o(e){pe(a,e),r=!1},d(e){e&&q(t),a&&a.d(e)}}}function Be(e,t,n){const r=["class","xs","sm","md","lg","xl","xxl"];let i=O(t,r),{$$slots:a={},$$scope:o}=t,{class:s=""}=t,{xs:c}=t,{sm:u}=t,{md:l}=t,{lg:f}=t,{xl:h}=t,{xxl:p}=t;const g=[],y={xs:c,sm:u,md:l,lg:f,xl:h,xxl:p};return Object.keys(y).forEach((e=>{const t=y[e];if(!t&&""!==t)return;const n="xs"===e;if(Ie(t)){const r=n?"-":`-${e}-`,i=Ee(n,e,t.size);(t.size||""===t.size)&&g.push(i),t.push&&g.push(`push${r}${t.push}`),t.pull&&g.push(`pull${r}${t.pull}`),t.offset&&g.push(`offset${r}${t.offset}`)}else g.push(Ee(n,e,t))})),g.length||g.push("col"),s&&g.push(s),e.$$set=e=>{t=d(d({},t),S(e)),n(1,i=O(t,r)),"class"in e&&n(2,s=e.class),"xs"in e&&n(3,c=e.xs),"sm"in e&&n(4,u=e.sm),"md"in e&&n(5,l=e.md),"lg"in e&&n(6,f=e.lg),"xl"in e&&n(7,h=e.xl),"xxl"in e&&n(8,p=e.xxl),"$$scope"in e&&n(9,o=e.$$scope)},[g,i,s,c,u,l,f,h,p,o,a]}class Ye extends xe{constructor(e){super(),Ce(this,e,Be,Qe,y,{class:2,xs:3,sm:4,md:5,lg:6,xl:7,xxl:8})}}function We(e){let t,n;const r=e[10].default,i=v(r,e,e[9],null);let a=[e[1],{class:e[0]}],o={};for(let s=0;s<a.length;s+=1)o=d(o,a[s]);return{c(){t=I("div"),i&&i.c(),this.h()},l(e){t=F(e,"DIV",{class:!0});var n=_(t);i&&i.l(n),n.forEach(q),this.h()},h(){P(t,o)},m(e,r){x(e,t,r),i&&i.m(t,null),n=!0},p(e,[s]){i&&i.p&&(!n||512&s)&&w(i,r,e,e[9],s,null,null),P(t,o=ge(a,[2&s&&e[1],(!n||1&s)&&{class:e[0]}]))},i(e){n||(he(i,e),n=!0)},o(e){pe(i,e),n=!1},d(e){e&&q(t),i&&i.d(e)}}}function Je(e,t,n){let r;const i=["class","sm","md","lg","xl","xxl","fluid"];let a=O(t,i),{$$slots:o={},$$scope:s}=t,{class:c=""}=t,{sm:u}=t,{md:l}=t,{lg:f}=t,{xl:h}=t,{xxl:p}=t,{fluid:g=!1}=t;return e.$$set=e=>{t=d(d({},t),S(e)),n(1,a=O(t,i)),"class"in e&&n(2,c=e.class),"sm"in e&&n(3,u=e.sm),"md"in e&&n(4,l=e.md),"lg"in e&&n(5,f=e.lg),"xl"in e&&n(6,h=e.xl),"xxl"in e&&n(7,p=e.xxl),"fluid"in e&&n(8,g=e.fluid),"$$scope"in e&&n(9,s=e.$$scope)},e.$$.update=()=>{508&e.$$.dirty&&n(0,r=Ae(c,{"container-sm":u,"container-md":l,"container-lg":f,"container-xl":h,"container-xxl":p,"container-fluid":g,container:!(u||l||f||h||p||g)}))},[r,a,c,u,l,f,h,p,g,s,o]}class Ke extends xe{constructor(e){super(),Ce(this,e,Je,We,y,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}function Ze(e){let t,n;const r=e[9].default,i=v(r,e,e[8],null);let a=[e[2],{class:e[1]}],o={};for(let s=0;s<a.length;s+=1)o=d(o,a[s]);return{c(){t=I("div"),i&&i.c(),this.h()},l(e){t=F(e,"DIV",{class:!0});var n=_(t);i&&i.l(n),n.forEach(q),this.h()},h(){P(t,o)},m(e,r){x(e,t,r),i&&i.m(t,null),n=!0},p(e,s){i&&i.p&&(!n||256&s)&&w(i,r,e,e[8],s,null,null),P(t,o=ge(a,[4&s&&e[2],(!n||2&s)&&{class:e[1]}]))},i(e){n||(he(i,e),n=!0)},o(e){pe(i,e),n=!1},d(e){e&&q(t),i&&i.d(e)}}}function Ge(e){let t,n;const r=e[9].default,i=v(r,e,e[8],null);let a=[e[2],{class:e[1]}],o={};for(let s=0;s<a.length;s+=1)o=d(o,a[s]);return{c(){t=I("fieldset"),i&&i.c(),this.h()},l(e){t=F(e,"FIELDSET",{class:!0});var n=_(t);i&&i.l(n),n.forEach(q),this.h()},h(){P(t,o)},m(e,r){x(e,t,r),i&&i.m(t,null),n=!0},p(e,s){i&&i.p&&(!n||256&s)&&w(i,r,e,e[8],s,null,null),P(t,o=ge(a,[4&s&&e[2],(!n||2&s)&&{class:e[1]}]))},i(e){n||(he(i,e),n=!0)},o(e){pe(i,e),n=!1},d(e){e&&q(t),i&&i.d(e)}}}function Xe(e){let t,n,r,i;const a=[Ge,Ze],o=[];function s(e,t){return"fieldset"===e[0]?0:1}return t=s(e),n=o[t]=a[t](e),{c(){n.c(),r=A()},l(e){n.l(e),r=A()},m(e,n){o[t].m(e,n),x(e,r,n),i=!0},p(e,[i]){let c=t;t=s(e),t===c?o[t].p(e,i):(de(),pe(o[c],1,1,(()=>{o[c]=null})),fe(),n=o[t],n?n.p(e,i):(n=o[t]=a[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){i||(he(n),i=!0)},o(e){pe(n),i=!1},d(e){o[t].d(e),e&&q(r)}}}function et(e,t,n){let r;const i=["class","check","disabled","inline","row","tag"];let a=O(t,i),{$$slots:o={},$$scope:s}=t,{class:c=""}=t,{check:u=!1}=t,{disabled:l=!1}=t,{inline:f=!1}=t,{row:h=!1}=t,{tag:p=null}=t;return e.$$set=e=>{t=d(d({},t),S(e)),n(2,a=O(t,i)),"class"in e&&n(3,c=e.class),"check"in e&&n(4,u=e.check),"disabled"in e&&n(5,l=e.disabled),"inline"in e&&n(6,f=e.inline),"row"in e&&n(7,h=e.row),"tag"in e&&n(0,p=e.tag),"$$scope"in e&&n(8,s=e.$$scope)},e.$$.update=()=>{248&e.$$.dirty&&n(1,r=Ae(c,"mb-3",{row:h,"form-check":u,"form-check-inline":u&&f,disabled:u&&l}))},[p,r,a,c,u,l,f,h,s,o]}class tt extends xe{constructor(e){super(),Ce(this,e,et,Xe,y,{class:3,check:4,disabled:5,inline:6,row:7,tag:0})}}const nt=e=>({}),rt=e=>({});function it(e){let t,n,r,i=[e[10],{class:e[8]},{id:e[9]},{type:"checkbox"},{disabled:e[2]},{name:e[4]},{__value:e[6]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,id:!0,type:!0,disabled:!0,name:!0,value:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),t.checked=e[0],n||(r=[j(t,"blur",e[27]),j(t,"change",e[28]),j(t,"focus",e[29]),j(t,"input",e[30]),j(t,"change",e[34])],n=!0)},p(e,n){P(t,a=ge(i,[1024&n[0]&&e[10],256&n[0]&&{class:e[8]},512&n[0]&&{id:e[9]},{type:"checkbox"},4&n[0]&&{disabled:e[2]},16&n[0]&&{name:e[4]},64&n[0]&&{__value:e[6]}])),1&n[0]&&(t.checked=e[0])},d(e){e&&q(t),n=!1,p(r)}}}function at(e){let t,n,r,i=[e[10],{class:e[8]},{id:e[9]},{type:"checkbox"},{disabled:e[2]},{name:e[4]},{__value:e[6]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,id:!0,type:!0,disabled:!0,name:!0,value:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),t.checked=e[0],n||(r=[j(t,"blur",e[23]),j(t,"change",e[24]),j(t,"focus",e[25]),j(t,"input",e[26]),j(t,"change",e[33])],n=!0)},p(e,n){P(t,a=ge(i,[1024&n[0]&&e[10],256&n[0]&&{class:e[8]},512&n[0]&&{id:e[9]},{type:"checkbox"},4&n[0]&&{disabled:e[2]},16&n[0]&&{name:e[4]},64&n[0]&&{__value:e[6]}])),1&n[0]&&(t.checked=e[0])},d(e){e&&q(t),n=!1,p(r)}}}function ot(e){let t,n,r,i=[e[10],{class:e[8]},{id:e[9]},{type:"radio"},{disabled:e[2]},{name:e[4]},{__value:e[6]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,id:!0,type:!0,disabled:!0,name:!0,value:!0}),this.h()},h(){P(t,a),e[32][0].push(t)},m(i,a){x(i,t,a),t.checked=t.__value===e[1],n||(r=[j(t,"blur",e[19]),j(t,"change",e[20]),j(t,"focus",e[21]),j(t,"input",e[22]),j(t,"change",e[31])],n=!0)},p(e,n){P(t,a=ge(i,[1024&n[0]&&e[10],256&n[0]&&{class:e[8]},512&n[0]&&{id:e[9]},{type:"radio"},4&n[0]&&{disabled:e[2]},16&n[0]&&{name:e[4]},64&n[0]&&{__value:e[6]}])),2&n[0]&&(t.checked=t.__value===e[1])},d(i){i&&q(t),e[32][0].splice(e[32][0].indexOf(t),1),n=!1,p(r)}}}function st(e){let t,n;const r=e[18].label,i=v(r,e,e[17],rt),a=i||function(e){let t;return{c(){t=E(e[3])},l(n){t=M(n,e[3])},m(e,n){x(e,t,n)},p(e,n){8&n[0]&&D(t,e[3])},d(e){e&&q(t)}}}(e);return{c(){t=I("label"),a&&a.c(),this.h()},l(e){t=F(e,"LABEL",{class:!0,for:!0});var n=_(t);a&&a.l(n),n.forEach(q),this.h()},h(){R(t,"class","form-check-label"),R(t,"for",e[9])},m(e,r){x(e,t,r),a&&a.m(t,null),n=!0},p(e,o){i?i.p&&(!n||131072&o[0])&&w(i,r,e,e[17],o,nt,rt):a&&a.p&&8&o[0]&&a.p(e,o),(!n||512&o[0])&&R(t,"for",e[9])},i(e){n||(he(a,e),n=!0)},o(e){pe(a,e),n=!1},d(e){e&&q(t),a&&a.d(e)}}}function ct(e){let t,n,r;function i(e,t){return"radio"===e[5]?ot:"switch"===e[5]?at:it}let a=i(e),o=a(e),s=e[3]&&st(e);return{c(){t=I("div"),o.c(),n=k(),s&&s.c(),this.h()},l(e){t=F(e,"DIV",{class:!0});var r=_(t);o.l(r),n=V(r),s&&s.l(r),r.forEach(q),this.h()},h(){R(t,"class",e[7])},m(e,i){x(e,t,i),o.m(t,null),C(t,n),s&&s.m(t,null),r=!0},p(e,c){a===(a=i(e))&&o?o.p(e,c):(o.d(1),o=a(e),o&&(o.c(),o.m(t,n))),e[3]?s?(s.p(e,c),8&c[0]&&he(s,1)):(s=st(e),s.c(),he(s,1),s.m(t,null)):s&&(de(),pe(s,1,1,(()=>{s=null})),fe()),(!r||128&c[0])&&R(t,"class",e[7])},i(e){r||(he(s),r=!0)},o(e){pe(s),r=!1},d(e){e&&q(t),o.d(),s&&s.d()}}}function ut(e,t,n){let r,i,a;const o=["class","size","checked","disabled","group","id","inline","invalid","label","name","type","valid","value"];let s=O(t,o),{$$slots:c={},$$scope:u}=t,{class:l=""}=t,{size:f=""}=t,{checked:h=!1}=t,{disabled:p=!1}=t,{group:g}=t,{id:y}=t,{inline:m=!1}=t,{invalid:v=!1}=t,{label:b=""}=t,{name:w=""}=t,{type:C="checkbox"}=t,{valid:x=!1}=t,{value:q}=t;return e.$$set=e=>{t=d(d({},t),S(e)),n(10,s=O(t,o)),"class"in e&&n(11,l=e.class),"size"in e&&n(12,f=e.size),"checked"in e&&n(0,h=e.checked),"disabled"in e&&n(2,p=e.disabled),"group"in e&&n(1,g=e.group),"id"in e&&n(13,y=e.id),"inline"in e&&n(14,m=e.inline),"invalid"in e&&n(15,v=e.invalid),"label"in e&&n(3,b=e.label),"name"in e&&n(4,w=e.name),"type"in e&&n(5,C=e.type),"valid"in e&&n(16,x=e.valid),"value"in e&&n(6,q=e.value),"$$scope"in e&&n(17,u=e.$$scope)},e.$$.update=()=>{22560&e.$$.dirty[0]&&n(7,r=Ae(l,"form-check",{"form-switch":"switch"===C,"form-check-inline":m,[`form-control-${f}`]:f})),98304&e.$$.dirty[0]&&n(8,i=Ae("form-check-input",{"is-invalid":v,"is-valid":x})),8200&e.$$.dirty[0]&&n(9,a=y||b)},[h,g,p,b,w,C,q,r,i,a,s,l,f,y,m,v,x,u,c,function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(){g=this.__value,n(1,g)},[[]],function(){h=this.checked,n(0,h)},function(){h=this.checked,n(0,h)}]}class lt extends xe{constructor(e){super(),Ce(this,e,ut,ct,y,{class:11,size:12,checked:0,disabled:2,group:1,id:13,inline:14,invalid:15,label:3,name:4,type:5,valid:16,value:6},[-1,-1])}}function dt(e){let t,n,r,i;const a=e[24].default,o=v(a,e,e[23],null);let s=[e[19],{class:e[16]},{name:e[11]},{disabled:e[7]},{readonly:e[13]}],c={};for(let u=0;u<s.length;u+=1)c=d(c,s[u]);return{c(){t=I("select"),o&&o.c(),this.h()},l(e){t=F(e,"SELECT",{class:!0,name:!0,disabled:!0,readonly:!0});var n=_(t);o&&o.l(n),n.forEach(q),this.h()},h(){P(t,c),void 0===e[5]&&re((()=>e[171].call(t)))},m(a,s){x(a,t,s),o&&o.m(t,null),c.multiple&&z(t,c.value),N(t,e[5]),e[172](t),n=!0,r||(i=[j(t,"blur",e[128]),j(t,"change",e[129]),j(t,"focus",e[130]),j(t,"input",e[131]),j(t,"change",e[171])],r=!0)},p(e,r){o&&o.p&&(!n||8388608&r[0])&&w(o,a,e,e[23],r,null,null),P(t,c=ge(s,[524288&r[0]&&e[19],(!n||65536&r[0])&&{class:e[16]},(!n||2048&r[0])&&{name:e[11]},(!n||128&r[0])&&{disabled:e[7]},(!n||8192&r[0])&&{readonly:e[13]}])),600192&r[0]&&c.multiple&&z(t,c.value),32&r[0]&&N(t,e[5])},i(e){n||(he(o,e),n=!0)},o(e){pe(o,e),n=!1},d(n){n&&q(t),o&&o.d(n),e[172](null),r=!1,p(i)}}}function ft(e){let t,n,r,i=[e[19],{class:e[16]},{disabled:e[7]},{name:e[11]},{placeholder:e[12]},{readOnly:e[13]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("textarea"),this.h()},l(e){t=F(e,"TEXTAREA",{class:!0,disabled:!0,name:!0,placeholder:!0,readonly:!0}),_(t).forEach(q),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[170](t),n||(r=[j(t,"blur",e[121]),j(t,"change",e[122]),j(t,"focus",e[123]),j(t,"input",e[124]),j(t,"keydown",e[125]),j(t,"keypress",e[126]),j(t,"keyup",e[127]),j(t,"input",e[169])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},128&n[0]&&{disabled:e[7]},2048&n[0]&&{name:e[11]},4096&n[0]&&{placeholder:e[12]},8192&n[0]&&{readOnly:e[13]}])),32&n[0]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[170](null),n=!1,p(r)}}}function ht(e){let t,n,r,i;const a=[Et,It,$t,qt,xt,Ct,Ot,St,wt,bt,vt,mt,yt,gt,pt],o=[];function s(e,t){return"text"===e[14]?0:"password"===e[14]?1:"color"===e[14]?2:"email"===e[14]?3:"file"===e[14]?4:"checkbox"===e[14]||"radio"===e[14]||"switch"===e[14]?5:"url"===e[14]?6:"number"===e[14]?7:"date"===e[14]?8:"time"===e[14]?9:"datetime"===e[14]?10:"color"===e[14]?11:"range"===e[14]?12:"search"===e[14]?13:14}return t=s(e),n=o[t]=a[t](e),{c(){n.c(),r=A()},l(e){n.l(e),r=A()},m(e,n){o[t].m(e,n),x(e,r,n),i=!0},p(e,i){let c=t;t=s(e),t===c?o[t].p(e,i):(de(),pe(o[c],1,1,(()=>{o[c]=null})),fe(),n=o[t],n?n.p(e,i):(n=o[t]=a[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){i||(he(n),i=!0)},o(e){pe(n),i=!1},d(e){o[t].d(e),e&&q(r)}}}function pt(e){let t,n,r,i=[e[19],{type:e[14]},{readOnly:e[13]},{class:e[16]},{name:e[11]},{disabled:e[7]},{placeholder:e[12]},{value:e[5]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{type:!0,readonly:!0,class:!0,name:!0,disabled:!0,placeholder:!0,value:!0}),this.h()},h(){P(t,a)},m(i,o){x(i,t,o),t.value=a.value,n||(r=[j(t,"blur",e[116]),j(t,"change",e[18]),j(t,"focus",e[117]),j(t,"input",e[18]),j(t,"keydown",e[118]),j(t,"keypress",e[119]),j(t,"keyup",e[120])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],16384&n[0]&&{type:e[14]},8192&n[0]&&{readOnly:e[13]},65536&n[0]&&{class:e[16]},2048&n[0]&&{name:e[11]},128&n[0]&&{disabled:e[7]},4096&n[0]&&{placeholder:e[12]},32&n[0]&&t.value!==e[5]&&{value:e[5]}])),"value"in a&&(t.value=a.value)},i:l,o:l,d(e){e&&q(t),n=!1,p(r)}}}function gt(e){let t,n,r,i=[e[19],{type:"search"},{readOnly:e[13]},{class:e[16]},{name:e[11]},{disabled:e[7]},{placeholder:e[12]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{type:!0,readonly:!0,class:!0,name:!0,disabled:!0,placeholder:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[168](t),n||(r=[j(t,"blur",e[109]),j(t,"change",e[110]),j(t,"focus",e[111]),j(t,"input",e[112]),j(t,"keydown",e[113]),j(t,"keypress",e[114]),j(t,"keyup",e[115]),j(t,"input",e[167])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],{type:"search"},8192&n[0]&&{readOnly:e[13]},65536&n[0]&&{class:e[16]},2048&n[0]&&{name:e[11]},128&n[0]&&{disabled:e[7]},4096&n[0]&&{placeholder:e[12]}])),32&n[0]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[168](null),n=!1,p(r)}}}function yt(e){let t,n,r,i=[e[19],{type:"range"},{readOnly:e[13]},{class:e[16]},{name:e[11]},{disabled:e[7]},{placeholder:e[12]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{type:!0,readonly:!0,class:!0,name:!0,disabled:!0,placeholder:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[166](t),n||(r=[j(t,"blur",e[102]),j(t,"change",e[103]),j(t,"focus",e[104]),j(t,"input",e[105]),j(t,"keydown",e[106]),j(t,"keypress",e[107]),j(t,"keyup",e[108]),j(t,"change",e[165]),j(t,"input",e[165])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],{type:"range"},8192&n[0]&&{readOnly:e[13]},65536&n[0]&&{class:e[16]},2048&n[0]&&{name:e[11]},128&n[0]&&{disabled:e[7]},4096&n[0]&&{placeholder:e[12]}])),32&n[0]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[166](null),n=!1,p(r)}}}function mt(e){let t,n,r,i=[e[19],{type:"color"},{readOnly:e[13]},{class:e[16]},{name:e[11]},{disabled:e[7]},{placeholder:e[12]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{type:!0,readonly:!0,class:!0,name:!0,disabled:!0,placeholder:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[164](t),n||(r=[j(t,"blur",e[95]),j(t,"change",e[96]),j(t,"focus",e[97]),j(t,"input",e[98]),j(t,"keydown",e[99]),j(t,"keypress",e[100]),j(t,"keyup",e[101]),j(t,"input",e[163])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],{type:"color"},8192&n[0]&&{readOnly:e[13]},65536&n[0]&&{class:e[16]},2048&n[0]&&{name:e[11]},128&n[0]&&{disabled:e[7]},4096&n[0]&&{placeholder:e[12]}])),32&n[0]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[164](null),n=!1,p(r)}}}function vt(e){let t,n,r,i=[e[19],{type:"datetime"},{readOnly:e[13]},{class:e[16]},{name:e[11]},{disabled:e[7]},{placeholder:e[12]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{type:!0,readonly:!0,class:!0,name:!0,disabled:!0,placeholder:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[162](t),n||(r=[j(t,"blur",e[88]),j(t,"change",e[89]),j(t,"focus",e[90]),j(t,"input",e[91]),j(t,"keydown",e[92]),j(t,"keypress",e[93]),j(t,"keyup",e[94]),j(t,"input",e[161])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],{type:"datetime"},8192&n[0]&&{readOnly:e[13]},65536&n[0]&&{class:e[16]},2048&n[0]&&{name:e[11]},128&n[0]&&{disabled:e[7]},4096&n[0]&&{placeholder:e[12]}])),32&n[0]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[162](null),n=!1,p(r)}}}function bt(e){let t,n,r,i=[e[19],{class:e[16]},{type:"time"},{disabled:e[7]},{name:e[11]},{placeholder:e[12]},{readOnly:e[13]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,type:!0,disabled:!0,name:!0,placeholder:!0,readonly:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[160](t),n||(r=[j(t,"blur",e[81]),j(t,"change",e[82]),j(t,"focus",e[83]),j(t,"input",e[84]),j(t,"keydown",e[85]),j(t,"keypress",e[86]),j(t,"keyup",e[87]),j(t,"input",e[159])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},{type:"time"},128&n[0]&&{disabled:e[7]},2048&n[0]&&{name:e[11]},4096&n[0]&&{placeholder:e[12]},8192&n[0]&&{readOnly:e[13]}])),32&n[0]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[160](null),n=!1,p(r)}}}function wt(e){let t,n,r,i=[e[19],{class:e[16]},{type:"date"},{disabled:e[7]},{name:e[11]},{placeholder:e[12]},{readOnly:e[13]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,type:!0,disabled:!0,name:!0,placeholder:!0,readonly:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[158](t),n||(r=[j(t,"blur",e[74]),j(t,"change",e[75]),j(t,"focus",e[76]),j(t,"input",e[77]),j(t,"keydown",e[78]),j(t,"keypress",e[79]),j(t,"keyup",e[80]),j(t,"input",e[157])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},{type:"date"},128&n[0]&&{disabled:e[7]},2048&n[0]&&{name:e[11]},4096&n[0]&&{placeholder:e[12]},8192&n[0]&&{readOnly:e[13]}])),32&n[0]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[158](null),n=!1,p(r)}}}function St(e){let t,n,r,i=[e[19],{class:e[16]},{type:"number"},{readOnly:e[13]},{name:e[11]},{disabled:e[7]},{placeholder:e[12]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,type:!0,readonly:!0,name:!0,disabled:!0,placeholder:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[156](t),n||(r=[j(t,"blur",e[67]),j(t,"change",e[68]),j(t,"focus",e[69]),j(t,"input",e[70]),j(t,"keydown",e[71]),j(t,"keypress",e[72]),j(t,"keyup",e[73]),j(t,"input",e[155])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},{type:"number"},8192&n[0]&&{readOnly:e[13]},2048&n[0]&&{name:e[11]},128&n[0]&&{disabled:e[7]},4096&n[0]&&{placeholder:e[12]}])),32&n[0]&&T(t.value)!==e[5]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[156](null),n=!1,p(r)}}}function Ot(e){let t,n,r,i=[e[19],{class:e[16]},{type:"url"},{disabled:e[7]},{name:e[11]},{placeholder:e[12]},{readOnly:e[13]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,type:!0,disabled:!0,name:!0,placeholder:!0,readonly:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[154](t),n||(r=[j(t,"blur",e[60]),j(t,"change",e[61]),j(t,"focus",e[62]),j(t,"input",e[63]),j(t,"keydown",e[64]),j(t,"keypress",e[65]),j(t,"keyup",e[66]),j(t,"input",e[153])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},{type:"url"},128&n[0]&&{disabled:e[7]},2048&n[0]&&{name:e[11]},4096&n[0]&&{placeholder:e[12]},8192&n[0]&&{readOnly:e[13]}])),32&n[0]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[154](null),n=!1,p(r)}}}function Ct(e){let t,n,r,i,a;const o=[e[19],{class:e[6]},{size:e[0]},{type:e[14]},{disabled:e[7]},{invalid:e[8]},{label:e[9]},{name:e[11]},{placeholder:e[12]},{readonly:e[13]},{valid:e[15]}];function s(t){e[142](t)}function c(t){e[143](t)}function u(t){e[144](t)}let l={};for(let f=0;f<o.length;f+=1)l=d(l,o[f]);return void 0!==e[2]&&(l.checked=e[2]),void 0!==e[4]&&(l.group=e[4]),void 0!==e[5]&&(l.value=e[5]),t=new lt({props:l}),G.push((()=>me(t,"checked",s))),G.push((()=>me(t,"group",c))),G.push((()=>me(t,"value",u))),e[145](t),t.$on("blur",e[146]),t.$on("change",e[147]),t.$on("focus",e[148]),t.$on("input",e[149]),t.$on("keydown",e[150]),t.$on("keypress",e[151]),t.$on("keyup",e[152]),{c(){ve(t.$$.fragment)},l(e){be(t.$$.fragment,e)},m(e,n){we(t,e,n),a=!0},p(e,a){const s=588737&a[0]?ge(o,[524288&a[0]&&ye(e[19]),64&a[0]&&{class:e[6]},1&a[0]&&{size:e[0]},16384&a[0]&&{type:e[14]},128&a[0]&&{disabled:e[7]},256&a[0]&&{invalid:e[8]},512&a[0]&&{label:e[9]},2048&a[0]&&{name:e[11]},4096&a[0]&&{placeholder:e[12]},8192&a[0]&&{readonly:e[13]},32768&a[0]&&{valid:e[15]}]):{};!n&&4&a[0]&&(n=!0,s.checked=e[2],ie((()=>n=!1))),!r&&16&a[0]&&(r=!0,s.group=e[4],ie((()=>r=!1))),!i&&32&a[0]&&(i=!0,s.value=e[5],ie((()=>i=!1))),t.$set(s)},i(e){a||(he(t.$$.fragment,e),a=!0)},o(e){pe(t.$$.fragment,e),a=!1},d(n){e[145](null),Se(t,n)}}}function xt(e){let t,n,r,i=[e[19],{class:e[16]},{type:"file"},{disabled:e[7]},{invalid:e[8]},{multiple:e[10]},{name:e[11]},{placeholder:e[12]},{readOnly:e[13]},{valid:e[15]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,type:!0,disabled:!0,invalid:!0,multiple:!0,name:!0,placeholder:!0,readonly:!0,valid:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),e[141](t),n||(r=[j(t,"blur",e[53]),j(t,"change",e[54]),j(t,"focus",e[55]),j(t,"input",e[56]),j(t,"keydown",e[57]),j(t,"keypress",e[58]),j(t,"keyup",e[59]),j(t,"change",e[140])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},{type:"file"},128&n[0]&&{disabled:e[7]},256&n[0]&&{invalid:e[8]},1024&n[0]&&{multiple:e[10]},2048&n[0]&&{name:e[11]},4096&n[0]&&{placeholder:e[12]},8192&n[0]&&{readOnly:e[13]},32768&n[0]&&{valid:e[15]}]))},i:l,o:l,d(i){i&&q(t),e[141](null),n=!1,p(r)}}}function qt(e){let t,n,r,i=[e[19],{class:e[16]},{type:"email"},{disabled:e[7]},{name:e[11]},{placeholder:e[12]},{readOnly:e[13]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,type:!0,disabled:!0,name:!0,placeholder:!0,readonly:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[139](t),n||(r=[j(t,"blur",e[46]),j(t,"change",e[47]),j(t,"focus",e[48]),j(t,"input",e[49]),j(t,"keydown",e[50]),j(t,"keypress",e[51]),j(t,"keyup",e[52]),j(t,"input",e[138])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},{type:"email"},128&n[0]&&{disabled:e[7]},2048&n[0]&&{name:e[11]},4096&n[0]&&{placeholder:e[12]},8192&n[0]&&{readOnly:e[13]}])),32&n[0]&&t.value!==e[5]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[139](null),n=!1,p(r)}}}function $t(e){let t,n,r,i=[e[19],{class:e[16]},{type:"color"},{disabled:e[7]},{name:e[11]},{placeholder:e[12]},{readOnly:e[13]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,type:!0,disabled:!0,name:!0,placeholder:!0,readonly:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[137](t),n||(r=[j(t,"blur",e[39]),j(t,"change",e[40]),j(t,"focus",e[41]),j(t,"input",e[42]),j(t,"keydown",e[43]),j(t,"keypress",e[44]),j(t,"keyup",e[45]),j(t,"input",e[136])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},{type:"color"},128&n[0]&&{disabled:e[7]},2048&n[0]&&{name:e[11]},4096&n[0]&&{placeholder:e[12]},8192&n[0]&&{readOnly:e[13]}])),32&n[0]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[137](null),n=!1,p(r)}}}function It(e){let t,n,r,i=[e[19],{class:e[16]},{type:"password"},{disabled:e[7]},{name:e[11]},{placeholder:e[12]},{readOnly:e[13]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,type:!0,disabled:!0,name:!0,placeholder:!0,readonly:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[135](t),n||(r=[j(t,"blur",e[32]),j(t,"change",e[33]),j(t,"focus",e[34]),j(t,"input",e[35]),j(t,"keydown",e[36]),j(t,"keypress",e[37]),j(t,"keyup",e[38]),j(t,"input",e[134])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},{type:"password"},128&n[0]&&{disabled:e[7]},2048&n[0]&&{name:e[11]},4096&n[0]&&{placeholder:e[12]},8192&n[0]&&{readOnly:e[13]}])),32&n[0]&&t.value!==e[5]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[135](null),n=!1,p(r)}}}function Et(e){let t,n,r,i=[e[19],{class:e[16]},{type:"text"},{disabled:e[7]},{name:e[11]},{placeholder:e[12]},{readOnly:e[13]}],a={};for(let o=0;o<i.length;o+=1)a=d(a,i[o]);return{c(){t=I("input"),this.h()},l(e){t=F(e,"INPUT",{class:!0,type:!0,disabled:!0,name:!0,placeholder:!0,readonly:!0}),this.h()},h(){P(t,a)},m(i,a){x(i,t,a),L(t,e[5]),e[133](t),n||(r=[j(t,"blur",e[25]),j(t,"change",e[26]),j(t,"focus",e[27]),j(t,"input",e[28]),j(t,"keydown",e[29]),j(t,"keypress",e[30]),j(t,"keyup",e[31]),j(t,"input",e[132])],n=!0)},p(e,n){P(t,a=ge(i,[524288&n[0]&&e[19],65536&n[0]&&{class:e[16]},{type:"text"},128&n[0]&&{disabled:e[7]},2048&n[0]&&{name:e[11]},4096&n[0]&&{placeholder:e[12]},8192&n[0]&&{readOnly:e[13]}])),32&n[0]&&t.value!==e[5]&&L(t,e[5])},i:l,o:l,d(i){i&&q(t),e[133](null),n=!1,p(r)}}}function kt(e){let t,n,r,i;const a=[ht,ft,dt],o=[];function s(e,t){return"input"===e[17]?0:"textarea"===e[17]?1:"select"!==e[17]||e[10]?-1:2}return~(t=s(e))&&(n=o[t]=a[t](e)),{c(){n&&n.c(),r=A()},l(e){n&&n.l(e),r=A()},m(e,n){~t&&o[t].m(e,n),x(e,r,n),i=!0},p(e,i){let c=t;t=s(e),t===c?~t&&o[t].p(e,i):(n&&(de(),pe(o[c],1,1,(()=>{o[c]=null})),fe()),~t?(n=o[t],n?n.p(e,i):(n=o[t]=a[t](e),n.c()),he(n,1),n.m(r.parentNode,r)):n=null)},i(e){i||(he(n),i=!0)},o(e){pe(n),i=!1},d(e){~t&&o[t].d(e),e&&q(r)}}}function At(e,t,n){const r=["class","inner","bsSize","checked","color","disabled","files","group","invalid","label","multiple","name","placeholder","plaintext","readonly","size","type","valid","value"];let i,a,o=O(t,r),{$$slots:s={},$$scope:c}=t,{class:u=""}=t,{inner:l}=t,{bsSize:f}=t,{checked:h=!1}=t,{color:p}=t,{disabled:g}=t,{files:y}=t,{group:m}=t,{invalid:v=!1}=t,{label:b}=t,{multiple:w}=t,{name:C=""}=t,{placeholder:x=""}=t,{plaintext:q=!1}=t,{readonly:$}=t,{size:I}=t,{type:E="text"}=t,{valid:k=!1}=t,{value:A=""}=t;return e.$$set=e=>{t=d(d({},t),S(e)),n(19,o=O(t,r)),"class"in e&&n(6,u=e.class),"inner"in e&&n(1,l=e.inner),"bsSize"in e&&n(0,f=e.bsSize),"checked"in e&&n(2,h=e.checked),"color"in e&&n(21,p=e.color),"disabled"in e&&n(7,g=e.disabled),"files"in e&&n(3,y=e.files),"group"in e&&n(4,m=e.group),"invalid"in e&&n(8,v=e.invalid),"label"in e&&n(9,b=e.label),"multiple"in e&&n(10,w=e.multiple),"name"in e&&n(11,C=e.name),"placeholder"in e&&n(12,x=e.placeholder),"plaintext"in e&&n(22,q=e.plaintext),"readonly"in e&&n(13,$=e.readonly),"size"in e&&n(20,I=e.size),"type"in e&&n(14,E=e.type),"valid"in e&&n(15,k=e.valid),"value"in e&&n(5,A=e.value),"$$scope"in e&&n(23,c=e.$$scope)},e.$$.update=()=>{if(7389505&e.$$.dirty[0]){const e=new RegExp("\\D","g");let t=!1,r="form-control";switch(n(17,a="input"),E){case"color":r="form-control form-control-color";break;case"range":r="form-range";break;case"select":r="form-select",n(17,a="select");break;case"textarea":n(17,a="textarea");break;case"button":case"reset":case"submit":r=`btn btn-${p||"secondary"}`,t=!0;break;case"hidden":case"image":r=void 0;break;default:r="form-control",n(17,a="input")}q&&(r=`${r}-plaintext`,n(17,a="input")),I&&e.test(I)&&(console.warn('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),n(0,f=I),n(20,I=void 0)),n(16,i=Ae(u,r,{"is-invalid":v,"is-valid":k,[`form-control-${f}`]:f&&!t,[`btn-${f}`]:f&&t}))}},[f,l,h,y,m,A,u,g,v,b,w,C,x,$,E,k,i,a,e=>{n(5,A=e.target.value)},o,I,p,q,c,s,function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){y=this.files,A=this.value,n(3,y),n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(e){h=e,n(2,h)},function(e){m=e,n(4,m)},function(e){A=e,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(t){K(e,t)},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=T(this.value),n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=T(this.value),n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=this.value,n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){A=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(5,A)},function(e){G[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class jt extends xe{constructor(e){super(),Ce(this,e,At,kt,y,{class:6,inner:1,bsSize:0,checked:2,color:21,disabled:7,files:3,group:4,invalid:8,label:9,multiple:10,name:11,placeholder:12,plaintext:22,readonly:13,size:20,type:14,valid:15,value:5},[-1,-1,-1,-1,-1,-1])}}function Rt(e){let t,n;const r=e[15].default,i=v(r,e,e[14],null);let a=[e[2],{class:e[1]},{for:e[0]}],o={};for(let s=0;s<a.length;s+=1)o=d(o,a[s]);return{c(){t=I("label"),i&&i.c(),this.h()},l(e){t=F(e,"LABEL",{class:!0,for:!0});var n=_(t);i&&i.l(n),n.forEach(q),this.h()},h(){P(t,o)},m(e,r){x(e,t,r),i&&i.m(t,null),n=!0},p(e,[s]){i&&i.p&&(!n||16384&s)&&w(i,r,e,e[14],s,null,null),P(t,o=ge(a,[4&s&&e[2],(!n||2&s)&&{class:e[1]},(!n||1&s)&&{for:e[0]}]))},i(e){n||(he(i,e),n=!0)},o(e){pe(i,e),n=!1},d(e){e&&q(t),i&&i.d(e)}}}function Pt(e,t,n){let r;const i=["class","hidden","check","size","for","xs","sm","md","lg","xl","xxl","widths"];let a=O(t,i),{$$slots:o={},$$scope:s}=t,{class:c=""}=t,{hidden:u=!1}=t,{check:l=!1}=t,{size:f=""}=t,{for:h=null}=t,{xs:p=""}=t,{sm:g=""}=t,{md:y=""}=t,{lg:m=""}=t,{xl:v=""}=t,{xxl:b=""}=t;const w={xs:p,sm:g,md:y,lg:m,xl:v,xxl:b};let{widths:C=Object.keys(w)}=t;const x=[];return C.forEach((e=>{let n=t[e];if(!n&&""!==n)return;const r="xs"===e;let i;if(Ie(n)){const t=r?"-":`-${e}-`;i=Ee(r,e,n.size),x.push(Ae({[i]:n.size||""===n.size,[`order${t}${n.order}`]:n.order||0===n.order,[`offset${t}${n.offset}`]:n.offset||0===n.offset}))}else i=Ee(r,e,n),x.push(i)})),e.$$set=e=>{n(18,t=d(d({},t),S(e))),n(2,a=O(t,i)),"class"in e&&n(3,c=e.class),"hidden"in e&&n(4,u=e.hidden),"check"in e&&n(5,l=e.check),"size"in e&&n(6,f=e.size),"for"in e&&n(0,h=e.for),"xs"in e&&n(7,p=e.xs),"sm"in e&&n(8,g=e.sm),"md"in e&&n(9,y=e.md),"lg"in e&&n(10,m=e.lg),"xl"in e&&n(11,v=e.xl),"xxl"in e&&n(12,b=e.xxl),"widths"in e&&n(13,C=e.widths),"$$scope"in e&&n(14,s=e.$$scope)},e.$$.update=()=>{120&e.$$.dirty&&n(1,r=Ae(c,!!u&&"visually-hidden",!!l&&"form-check-label",!!f&&`col-form-label-${f}`,x,x.length?"col-form-label":"form-label"))},t=S(t),[h,r,a,c,u,l,f,p,g,y,m,v,b,C,s,o]}class Tt extends xe{constructor(e){super(),Ce(this,e,Pt,Rt,y,{class:3,hidden:4,check:5,size:6,for:0,xs:7,sm:8,md:9,lg:10,xl:11,xxl:12,widths:13})}}function _t(e){let t,n;const r=e[7].default,i=v(r,e,e[6],null);let a=[e[1],{class:e[0]}],o={};for(let s=0;s<a.length;s+=1)o=d(o,a[s]);return{c(){t=I("div"),i&&i.c(),this.h()},l(e){t=F(e,"DIV",{class:!0});var n=_(t);i&&i.l(n),n.forEach(q),this.h()},h(){P(t,o)},m(e,r){x(e,t,r),i&&i.m(t,null),n=!0},p(e,[s]){i&&i.p&&(!n||64&s)&&w(i,r,e,e[6],s,null,null),P(t,o=ge(a,[2&s&&e[1],(!n||1&s)&&{class:e[0]}]))},i(e){n||(he(i,e),n=!0)},o(e){pe(i,e),n=!1},d(e){e&&q(t),i&&i.d(e)}}}function Ft(e,t,n){let r;const i=["class","noGutters","form","cols"];let a=O(t,i),{$$slots:o={},$$scope:s}=t,{class:c=""}=t,{noGutters:u=!1}=t,{form:l=!1}=t,{cols:f=0}=t;return e.$$set=e=>{t=d(d({},t),S(e)),n(1,a=O(t,i)),"class"in e&&n(2,c=e.class),"noGutters"in e&&n(3,u=e.noGutters),"form"in e&&n(4,l=e.form),"cols"in e&&n(5,f=e.cols),"$$scope"in e&&n(6,s=e.$$scope)},e.$$.update=()=>{60&e.$$.dirty&&n(0,r=Ae(c,u?"gx-0":null,l?"form-row":"row",...function(e){const t=parseInt(e);if(isNaN(t)){if("object"==typeof e)return["xs","sm","md","lg","xl"].map((t=>{const n="xs"===t?"-":`-${t}-`,r=e[t];return"number"==typeof r&&r>0?`row-cols${n}${r}`:null})).filter((e=>!!e))}else if(t>0)return[`row-cols-${t}`];return[]}(f)))},[r,a,c,u,l,f,s,o]}class Mt extends xe{constructor(e){super(),Ce(this,e,Ft,_t,y,{class:2,noGutters:3,form:4,cols:5})}}function Vt(e){let t;return{c(){t=I("link"),this.h()},l(e){t=F(e,"LINK",{rel:!0,href:!0}),this.h()},h(){R(t,"rel","stylesheet"),R(t,"href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css")},m(e,n){x(e,t,n)},d(e){e&&q(t)}}}function Dt(e){let t,n,r=e[0]&&Vt();return{c(){t=I("link"),r&&r.c(),n=A(),this.h()},l(e){const i=U('[data-svelte="svelte-4z5jpf"]',document.head);t=F(i,"LINK",{rel:!0,href:!0}),r&&r.l(i),n=A(),i.forEach(q),this.h()},h(){R(t,"rel","stylesheet"),R(t,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css")},m(e,i){C(document.head,t),r&&r.m(document.head,null),C(document.head,n)},p(e,[t]){e[0]?r||(r=Vt(),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:l,o:l,d(e){q(t),r&&r.d(e),q(n)}}}function Lt(e,t,n){let{icons:r=!0}=t;return e.$$set=e=>{"icons"in e&&n(0,r=e.icons)},[r]}class Nt extends xe{constructor(e){super(),Ce(this,e,Lt,Dt,y,{icons:0})}}function zt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ut(e){return!!e&&!!e[kn]}function Ht(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[En]||!!e.constructor[En]||Kt(e)||Zt(e))}function Qt(e,t,n){void 0===n&&(n=!1),0===Bt(e)?(n?Object.keys:An)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Bt(e){var t=e[kn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Kt(e)?2:Zt(e)?3:0}function Yt(e,t){return 2===Bt(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Wt(e,t,n){var r=Bt(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Jt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Kt(e){return xn&&e instanceof Map}function Zt(e){return qn&&e instanceof Set}function Gt(e){return e.o||e.t}function Xt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=jn(e);delete t[kn];for(var n=An(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function en(e,t){return void 0===t&&(t=!1),nn(e)||Ut(e)||!Ht(e)||(Bt(e)>1&&(e.set=e.add=e.clear=e.delete=tn),Object.freeze(e),t&&Qt(e,(function(e,t){return en(t,!0)}),!0)),e}function tn(){zt(2)}function nn(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function rn(e){var t=Rn[e];return t||zt(18,e),t}function an(){return On}function on(e,t){t&&(rn("Patches"),e.u=[],e.s=[],e.v=t)}function sn(e){cn(e),e.p.forEach(ln),e.p=null}function cn(e){e===On&&(On=e.l)}function un(e){return On={p:[],l:On,h:e,m:!0,_:0}}function ln(e){var t=e[kn];0===t.i||1===t.i?t.j():t.g=!0}function dn(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||rn("ES5").S(t,e,r),r?(n[kn].P&&(sn(t),zt(4)),Ht(e)&&(e=fn(t,e),t.l||pn(t,e)),t.u&&rn("Patches").M(n[kn],e,t.u,t.s)):e=fn(t,n,[]),sn(t),t.u&&t.v(t.u,t.s),e!==In?e:void 0}function fn(e,t,n){if(nn(t))return t;var r=t[kn];if(!r)return Qt(t,(function(i,a){return hn(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return pn(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Xt(r.k):r.o;Qt(3===r.i?new Set(i):i,(function(t,a){return hn(e,r,i,t,a,n)})),pn(e,i,!1),n&&e.u&&rn("Patches").R(r,n,e.u,e.s)}return r.o}function hn(e,t,n,r,i,a){if(Ut(i)){var o=fn(e,i,a&&t&&3!==t.i&&!Yt(t.D,r)?a.concat(r):void 0);if(Wt(n,r,o),!Ut(o))return;e.m=!1}if(Ht(i)&&!nn(i)){if(!e.h.N&&e._<1)return;fn(e,i),t&&t.A.l||pn(e,i)}}function pn(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&en(t,n)}function gn(e,t){var n=e[kn];return(n?Gt(n):e)[t]}function yn(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function mn(e){e.P||(e.P=!0,e.l&&mn(e.l))}function vn(e){e.o||(e.o=Xt(e.t))}function bn(e,t,n){var r=Kt(t)?rn("MapSet").T(t,n):Zt(t)?rn("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:an(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Pn;n&&(i=[r],a=Tn);var o=Proxy.revocable(i,a),s=o.revoke,c=o.proxy;return r.k=c,r.j=s,c}(t,n):rn("ES5").J(t,n);return(n?n.A:an()).p.push(r),r}function wn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Xt(e)}var Sn,On,Cn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),xn="undefined"!=typeof Map,qn="undefined"!=typeof Set,$n="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,In=Cn?Symbol.for("immer-nothing"):((Sn={})["immer-nothing"]=!0,Sn),En=Cn?Symbol.for("immer-draftable"):"__$immer_draftable",kn=Cn?Symbol.for("immer-state"):"__$immer_state",An="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,jn=Object.getOwnPropertyDescriptors||function(e){var t={};return An(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Rn={},Pn={get:function(e,t){if(t===kn)return e;var n,r,i,a=Gt(e);if(!Yt(a,t))return n=e,(i=yn(a,t))?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(n.k):void 0;var o=a[t];return e.I||!Ht(o)?o:o===gn(e.t,t)?(vn(e),e.o[t]=bn(e.A.h,o,e)):o},has:function(e,t){return t in Gt(e)},ownKeys:function(e){return Reflect.ownKeys(Gt(e))},set:function(e,t,n){var r=yn(Gt(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=gn(Gt(e),t),a=null==i?void 0:i[kn];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Jt(n,i)&&(void 0!==n||Yt(e.t,t)))return!0;vn(e),mn(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==gn(e.t,t)||t in e.t?(e.D[t]=!1,vn(e),mn(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Gt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){zt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){zt(12)}},Tn={};Qt(Pn,(function(e,t){Tn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Tn.deleteProperty=function(e,t){return Pn.deleteProperty.call(this,e[0],t)},Tn.set=function(e,t,n){return Pn.set.call(this,e[0],t,n,e[0])};var _n=new(function(){function e(e){this.O=$n,this.N=!0,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var r=t;t=e;var i=this;return function(e){var n=this;void 0===e&&(e=r);for(var a=arguments.length,o=Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(o))}))}}var a;if("function"!=typeof t&&zt(6),void 0!==n&&"function"!=typeof n&&zt(7),Ht(e)){var o=un(this),s=bn(this,e,void 0),c=!0;try{a=t(s),c=!1}finally{c?sn(o):cn(o)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return on(o,n),dn(e,o)}),(function(e){throw sn(o),e})):(on(o,n),dn(a,o))}if(!e||"object"!=typeof e){if((a=t(e))===In)return;return void 0===a&&(a=e),this.N&&en(a,!0),a}zt(21,e)},t.produceWithPatches=function(e,t){var n,r,i=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){Ht(e)||zt(8),Ut(e)&&(e=function(e){return Ut(e)||zt(22,e),function e(t){if(!Ht(t))return t;var n,r=t[kn],i=Bt(t);if(r){if(!r.P&&(r.i<4||!rn("ES5").K(r)))return r.t;r.I=!0,n=wn(t,i),r.I=!1}else n=wn(t,i);return Qt(n,(function(t,i){var a,o;r&&(o=t,(2===Bt(a=r.t)?a.get(o):a[o])===i)||Wt(n,t,e(i))})),3===i?new Set(n):n}(e)}(e));var t=un(this),n=bn(this,e,void 0);return n[kn].C=!0,cn(t),n},t.finishDraft=function(e,t){var n=(e&&e[kn]).A;return on(n,t),dn(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!$n&&zt(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=rn("Patches").$;return Ut(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),Fn=_n.produce;_n.produceWithPatches.bind(_n),_n.setAutoFreeze.bind(_n),_n.setUseProxies.bind(_n),_n.applyPatches.bind(_n),_n.createDraft.bind(_n),_n.finishDraft.bind(_n);var Mn,Vn,Dn=("function"==typeof(Vn=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()).Symbol)?Vn.observable?Mn=Vn.observable:(Mn=Vn("observable"),Vn.observable=Mn):Mn="@@observable",Mn),Ln=function(){return Math.random().toString(36).substring(7).split("").join(".")},Nn={INIT:"@@redux/INIT"+Ln(),REPLACE:"@@redux/REPLACE"+Ln(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ln()}};function zn(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Un(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(Un)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,a=t,o=[],s=o,c=!1;function u(){s===o&&(s=o.slice())}function l(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function d(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,u();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!zn(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,a=i(a,e)}finally{c=!1}for(var t=o=s,n=0;n<t.length;n++)(0,t[n])();return e}function h(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,f({type:Nn.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Dn]=function(){return this},e}return f({type:Nn.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:h})[Dn]=p,r}function Hn(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function Qn(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var a,o,s=Object.keys(n);try{o=n,Object.keys(o).forEach((function(e){var t=o[e];if(void 0===t(void 0,{type:Nn.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===t(void 0,{type:Nn.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+Nn.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}catch(o){a=o}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var c=s[o],u=n[c],l=e[c],d=u(l,t);if(void 0===d){var f=Hn(c,t);throw new Error(f)}i[c]=d,r=r||d!==l}return(r=r||s.length!==Object.keys(e).length)?i:e}}function Bn(e,t){return function(){return t(e.apply(this,arguments))}}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(n,!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Zn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return Jn({},n,{dispatch:r=Kn.apply(void 0,a)(n.dispatch)})}}}var Gn=Object.freeze({__proto__:null,__DO_NOT_USE__ActionTypes:Nn,applyMiddleware:Zn,bindActionCreators:function(e,t){if("function"==typeof e)return Bn(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=Bn(i,t))}return n},combineReducers:Qn,compose:Kn,createStore:Un});function Xn(e,t){return e===t}function er(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function tr(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var nr=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=0,o=r.pop(),s=tr(r),c=e.apply(void 0,[function(){return a++,o.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments));return c.apply(null,e)}));return u.resultFunc=o,u.dependencies=s,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xn,n=null,r=null;return function(){return er(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));function rr(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var ir=rr();function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(yi){return!1}}function ur(e,t,n){return(ur=cr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&sr(i,n.prototype),i}).apply(null,arguments)}function lr(e){var t="function"==typeof Map?new Map:void 0;return(lr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ur(e,arguments,or(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),sr(r,e)})(e)}ir.withExtraArgument=rr;var dr="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Kn:Kn.apply(null,arguments)},fr=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.concat=function(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return ur(r,(t=e.prototype.concat).call.apply(t,[this].concat(i)))},i.prepend=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?ur(r,t[0].concat(this)):ur(r,t.concat(this))},r}(lr(Array));function hr(e){void 0===e&&(e={});var t=e,n=t.thunk,r=void 0===n||n;t.immutableCheck,t.serializableCheck;var i=new fr;return r&&("boolean"!=typeof r?i.push(ir.withExtraArgument(r.extraArgument)):i.push(ir)),i}function pr(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return ar({type:e,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function gr(e,t,n,r){void 0===n&&(n=[]);var i="function"==typeof t?function(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}(t):[t,n,r],a=i[0],o=i[1],s=i[2];return function(t,n){void 0===t&&(t=e);var r=[a[n.type]].concat(o.filter((function(e){return(0,e.matcher)(n)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[s]),r.reduce((function(e,t){if(t){if(Ut(e)){var r=t(e,n);return void 0===r?e:r}if(Ht(e))return Fn(e,(function(e){return t(e,n)}));var i=t(e,n);if(void 0===i){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return e}),t)}}"undefined"==typeof Symbol||Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")),"undefined"==typeof Symbol||Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"));var yr=["name","message","stack","code"],mr=function(e){this.payload=e,this.name="RejectWithValue",this.message="Rejected"},vr=function(e){if("object"==typeof e&&null!==e){var t={},n=yr,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;"string"==typeof e[o]&&(t[o]=e[o])}return t}return{message:String(e)}};function br(e,t,n){var r=pr(e+"/fulfilled",(function(e,t,n){return{payload:e,meta:{arg:n,requestId:t,requestStatus:"fulfilled"}}})),i=pr(e+"/pending",(function(e,t){return{payload:void 0,meta:{arg:t,requestId:e,requestStatus:"pending"}}})),a=pr(e+"/rejected",(function(e,t,r){var i=e instanceof mr,a=!!e&&"AbortError"===e.name,o=!!e&&"ConditionError"===e.name;return{payload:e instanceof mr?e.payload:void 0,error:(n&&n.serializeError||vr)(e||"Rejected"),meta:{arg:r,requestId:t,rejectedWithValue:i,requestStatus:"rejected",aborted:a,condition:o}}})),o="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(s,c,u){var l,d=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t}(),f=new o,h=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),p=!1,g=function(){try{var o,l=function(e){return g?e:(n&&!n.dispatchConditionRejection&&a.match(o)&&o.meta.condition||s(o),o)},g=!1,y=function(l,g){try{var y=function(){if(n&&n.condition&&!1===n.condition(e,{getState:c,extra:u}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,s(i(d,e)),Promise.resolve(Promise.race([h,Promise.resolve(t(e,{dispatch:s,getState:c,extra:u,requestId:d,signal:f.signal,rejectWithValue:function(e){return new mr(e)}})).then((function(t){return t instanceof mr?a(t,d,e):r(t,d,e)}))])).then((function(e){o=e}))}()}catch(m){return g(m)}return y&&y.then?y.then(void 0,g):y}(0,(function(t){o=a(t,d,e)}));return Promise.resolve(y&&y.then?y.then(l):l(y))}catch(m){return Promise.reject(m)}}();return Object.assign(g,{abort:function(e){p&&(l=e,f.abort())},requestId:d,arg:e})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}!function(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[kn];return Pn.get(t,e)},set:function(t){var n=this[kn];Pn.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][kn];if(!i.P)switch(i.i){case 5:r(i)&&mn(i);break;case 4:n(i)&&mn(i)}}}function n(e){for(var t=e.t,n=e.k,r=An(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==kn){var o=t[a];if(void 0===o&&!Yt(t,a))return!0;var s=n[a],c=s&&s[kn];if(c?c.t!==o:!Jt(s,o))return!0}}var u=!!t[kn];return r.length!==An(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};!function(e,t){Rn.ES5||(Rn.ES5=t)}(0,{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=jn(n);delete a[kn];for(var o=An(a),s=0;s<o.length;s++){var c=o[s];a[c]=e(c,t||!!a[c].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:an(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,kn,{value:a,writable:!0}),i},S:function(e,n,i){i?Ut(n)&&n[kn].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[kn];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)Qt(a,(function(t){t!==kn&&(void 0!==i[t]||Yt(i,t)?o[t]||e(a[t]):(o[t]=!0,mn(n)))})),Qt(i,(function(e){void 0!==a[e]||Yt(a,e)||(o[e]=!1,mn(n))}));else if(5===s){if(r(n)&&(mn(n),o.length=!0),a.length<i.length)for(var c=a.length;c<i.length;c++)o[c]=!1;else for(var u=i.length;u<a.length;u++)o[u]=!0;for(var l=Math.min(a.length,i.length),d=0;d<l;d++)void 0===o[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}();const wr=pr("history/undo"),Sr=pr("history/redo"),Or=pr("history/snapshot"),Cr=br("history/back",(async(e,{dispatch:t})=>{t(wr()),await t(qr())})),xr=br("history/forward",(async(e,{dispatch:t})=>{t(Sr()),await t(qr())})),qr=br("history/change",(async(e,{getState:t})=>t().history.present));class $r extends Error{constructor(e){super(e),this.name="SchemaValidationError"}}class Ir{constructor(e){this.definition=e}validate(e={},t=""){const n=s(s({},this.default),e),r=[];for(const i in this.definition){const e=this.definition[i].validate(n[i]);e&&r.push(`${i}: ${e}`)}if(r.length)throw function(e,t){const n=`\n  The following properties are invalid:\n\n    ${e.join("\n\t")}\n  \n  ${t}\n  `;return new $r(n)}(r,t);return n}get default(){const e={};for(const t in this.definition){const n=this.definition[t].default;void 0!==n&&(e[t]=n)}return e}}class Er{constructor(e={}){this.baseConfig=e}validate(e){return this.baseConfig.required&&Ar(e)?"value is required.":null}get default(){return this.baseConfig.default instanceof Function?this.baseConfig.default():this.baseConfig.default}get required(){return!0===this.baseConfig.required}}function kr(e){return void 0===e}function Ar(e){return kr(e)||null===e}class jr{constructor(e={}){this.config=e,this.value=new Er(e)}validate(e){return this.value.validate(e)||(kr(t=e)||Rr(t)?e<this.config.min?`minimum value of ${this.config.min} not respected.`:e>this.config.max?`maximum value of ${this.config.max} not respected.`:null:"value is not a number.");var t}get default(){return this.value.default}get required(){return this.value.required}}function Rr(e){return"number"==typeof e&&!isNaN(e)}class Pr{constructor(e={}){this.value=new Er(e)}validate(e){return this.value.validate(e)||(kr(t=e)||Tr(t)?null:"value is not a boolean.");var t}get default(){return this.value.default}get required(){return this.value.required}}function Tr(e){return"boolean"==typeof e}const _r=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i;class Fr{constructor(e={}){this.config=s({emptyAllowed:!0,url:!1},e),this.value=new Er(this.config)}validate(e){const{emptyAllowed:t,url:n,regex:r,constrainTo:i}=this.config;return this.value.validate(e)||(kr(e)?null:Mr(e)?t||e.length?n&&!_r.test(e)?"value is not a valid URL.":r&&!r.test(e)?"value did not match provided regex "+r:i&&!i.includes(e)?`value should be one of: ${i.join(", ")}.`:null:"value is an empty string.":"value is not a string.")}get default(){return this.value.default}get required(){return this.value.required}}function Mr(e){return"[object String]"===Object.prototype.toString.call(e)}class Vr{constructor(e={}){this.config=s({options:{required:!1},values:{}},e)}validate(e){if(kr(e))return this.config.options.required?"value is required and is currently undefined":null;if(!Dr(e))return"value is not an object";for(const[n,r]of Object.entries(this.config.values))if(r.required&&Ar(e[n]))return"value does not contain "+n;let t="";for(const[n,r]of Object.entries(this.config.values)){const i=e[n],a=r.validate(i);null!==a&&(t+=" "+a)}return""===t?null:t}get default(){}get required(){return!!this.config.options.required}}function Dr(e){return void 0!==e&&"object"==typeof e}class Lr{constructor(e={}){this.config=e,this.value=new Er(this.config)}validate(e){if(!Ar(e)&&!Array.isArray(e))return"value is not an array";const t=this.value.validate(e);if(null!==t)return t;if(Ar(e))return null;if(void 0!==this.config.max&&e.length>this.config.max)return"value contains more than "+this.config.max;if(void 0!==this.config.min&&e.length<this.config.min)return"value contains less than "+this.config.min;if(void 0!==this.config.each){let t="";return e.forEach((n=>{this.config.each.required&&Ar(n)&&(t="value is null or undefined: "+e.join(","));const r=this.validatePrimitiveValue(n,this.config.each);null!==r&&(t+=" "+r)})),""===t?null:t}return null}validatePrimitiveValue(e,t){return Tr(e)||Mr(e)||Rr(e)||Dr(e)?t.validate(e):"value is not a primitive value"}get default(){}get required(){return this.value.required}}function Nr(e){return Array.isArray(e)}class zr{constructor(e){this.config=e,this.value=new Er(e)}validate(e){const t=this.value.validate(e);return null!==t?t:kr(e)||Object.values(this.config.enum).find((t=>t===e))?null:"value is not in enum."}get default(){return this.value.default}get required(){return this.value.required}}const Ur=new Fr({required:!0,emptyAllowed:!1}),Hr=new Fr({required:!0,emptyAllowed:!0}),Qr=({message:e,name:t,stack:n})=>({message:e,name:t,stack:n}),Br=(e,t)=>"required"in t?{payload:new Ir({value:t}).validate({value:e}).value}:{payload:new Ir(t).validate(e)},Yr=(e,t)=>{try{return Br(e,t)}catch(n){return{payload:e,error:Qr(n)}}},Wr=(e,t,n,r)=>Jr(e,t,n,"Check the options of "+r,"Controller initialization error"),Jr=(e,t,n,r,i)=>{try{return t.validate(n,r)}catch(a){throw e.logger.error(a,i),a}},Kr=pr("advancedSearchQueries/update",(e=>Yr(e,{aq:new Fr({required:!1,emptyAllowed:!0}),cq:new Fr({required:!1,emptyAllowed:!0})}))),Zr=pr("advancedSearchQueries/register",(e=>Yr(e,{aq:new Fr({required:!1,emptyAllowed:!0}),cq:new Fr({required:!1,emptyAllowed:!0})}))),Gr={q:new Fr,enableQuerySyntax:new Pr,aq:new Fr,cq:new Fr,firstResult:new jr({min:0}),numberOfResults:new jr({min:0}),sortCriteria:new Fr,f:new Vr,cf:new Vr,nf:new Vr,df:new Vr,debug:new Pr},Xr=pr("searchParameters/restore",(e=>Yr(e,Gr))),ei=gr({cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,defaultFilters:{cq:"",aq:""}},(e=>{e.addCase(Kr,((e,t)=>{const{aq:n,cq:r}=t.payload;kr(n)||(e.aq=n,e.aqWasSet=!0),kr(r)||(e.cq=r,e.cqWasSet=!0)})).addCase(Zr,((e,t)=>{const{aq:n,cq:r}=t.payload;kr(n)||(e.defaultFilters.aq=n,e.aqWasSet||(e.aq=n)),kr(r)||(e.defaultFilters.cq=r,e.cqWasSet||(e.cq=r))})).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.advancedSearchQueries)&&void 0!==r?r:e})).addCase(Xr,((e,t)=>{const{aq:n,cq:r}=t.payload;kr(n)||(e.aq=n,e.aqWasSet=!0),kr(r)||(e.cq=r,e.cqWasSet=!0)}))})),ti=new Fr({emptyAllowed:!1,required:!1}),ni=()=>new Fr({emptyAllowed:!1,required:!1}),ri=()=>new Fr({emptyAllowed:!1,required:!0}),ii=pr("configuration/updateBasicConfiguration",(e=>Yr(e,{accessToken:new Fr({emptyAllowed:!1}),organizationId:new Fr({emptyAllowed:!1}),platformUrl:new Fr({url:!0,emptyAllowed:!1})}))),ai=pr("configuration/updateSearchConfiguration",(e=>Yr(e,{apiBaseUrl:new Fr({url:!0,emptyAllowed:!1}),pipeline:new Fr({emptyAllowed:!1}),searchHub:new Fr({emptyAllowed:!1}),locale:ti}))),oi=pr("configuration/updateAnalyticsConfiguration",(e=>Yr(e,{enabled:new Pr({default:!0}),originLevel2:ni(),originLevel3:ni(),apiBaseUrl:new Fr({url:!0,emptyAllowed:!1}),runtimeEnvironment:new Er}))),si=br("configuration/renewAccessToken",(async e=>await e())),ci=pr("configuration/analytics/disable"),ui=pr("configuration/analytics/enable"),li=pr("configuration/analytics/originlevel2",(e=>Yr(e,{originLevel2:ri()}))),di=pr("configuration/analytics/originlevel3",(e=>Yr(e,{originLevel3:ri()})));var fi=fetch,hi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function pi(e){var t={exports:{}};return e(t,t.exports),t.exports}var gi,yi,mi=hi&&hi.__assign||function(){return(mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},vi={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2},bi=Object.defineProperty({getSanitizedOptions:function(e){var t=mi(mi({},vi),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}},"__esModule",{value:!0}),wi=Object.defineProperty({fullJitter:function(e){var t=Math.random()*e;return Math.round(t)}},"__esModule",{value:!0}),Si=Object.defineProperty({noJitter:function(e){return e}},"__esModule",{value:!0}),Oi=Object.defineProperty({JitterFactory:function(e){switch(e.jitter){case"full":return wi.fullJitter;case"none":default:return Si.noJitter}}},"__esModule",{value:!0}),Ci=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise((function(t){return setTimeout(t,e.jitteredDelay)}))},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return Oi.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){var e=this.options.startingDelay,t=this.options.timeMultiple,n=this.numOfDelayedAttempts,r=e*Math.pow(t,n);return Math.min(r,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}(),xi=Object.defineProperty({Delay:Ci},"__esModule",{value:!0}),qi=hi&&hi.__extends||(gi=function(e,t){return(gi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}gi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$i=hi&&hi.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Ii=hi&&hi.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Ei=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qi(t,e),t.prototype.apply=function(){return $i(this,void 0,void 0,(function(){return Ii(this,(function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]}))}))},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(xi.Delay),ki=Object.defineProperty({SkipFirstDelay:Ei},"__esModule",{value:!0}),Ai=hi&&hi.__extends||(yi=function(e,t){return(yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}yi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ai(t,e),t}(xi.Delay),Ri=Object.defineProperty({AlwaysDelay:ji},"__esModule",{value:!0}),Pi=Object.defineProperty({DelayFactory:function(e,t){var n,r=(n=e).delayFirstAttempt?new Ri.AlwaysDelay(n):new ki.SkipFirstDelay(n);return r.setAttemptNumber(t),r}},"__esModule",{value:!0}),Ti=hi&&hi.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},_i=hi&&hi.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Fi=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return Ti(this,void 0,void 0,(function(){var e;return _i(this,(function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}}))}))},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return Ti(this,void 0,void 0,(function(){return _i(this,(function(e){switch(e.label){case 0:return[4,Pi.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}}))}))},e}();function Mi(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function Vi(e){return 429===e}const Di=e=>e;class Li{static async call(e){const t=s(s({},e),await e.deprecatedPreprocessRequest(e)),n=function(e){const{url:t,method:n,requestParams:r,contentType:i,accessToken:a,signal:o}=e,c=(u=r,"application/x-www-form-urlencoded"===i?"object"==typeof(l=u)&&l&&Object.values(l).every(Mi)?function(e){const t=[];for(const n in e){const r=encodeURIComponent(n),i=encodeURIComponent(e[n]);t.push(`${r}=${i}`)}return t.join("&")}(u):"":JSON.stringify(u));var u,l;return{url:t,method:n,headers:s({"Content-Type":i,Authorization:"Bearer "+a},e.headers),body:c,signal:o}}(t),{preprocessRequest:r,logger:i}=e,a=s(s({},n),r?await r(n,"searchApiFetch"):{});i.info(a,"Platform request");const o=a,{url:l}=o,d=u(o,["url"]),f=async()=>{const e=await fi(l,d);if(Vi(e.status))throw e;return e};try{const e=await function(e,t){return void 0===t&&(t={}),Ti(this,void 0,void 0,(function(){var n;return _i(this,(function(r){switch(r.label){case 0:return n=bi.getSanitizedOptions(t),[4,new Fi(e,n).execute()];case 1:return[2,r.sent()]}}))}))}(f,{retry:e=>{const t=e&&Vi(e.status);return t&&i.info("Platform retrying request"),t}});if(419===e.status){i.info("Platform renewing token");const e=await t.renewAccessToken();if(""!==e)return Li.call(c(s({},t),{accessToken:e}))}return i.info({response:e,requestInfo:a},"Platform response"),e}catch(h){if("AbortError"===h.name)throw h;return h}}}function Ni(e){return`https://platform${e&&e.environment&&"prod"!==e.environment?e.environment:""}${e&&e.region&&"us-east-1"!==e.region?"-"+e.region:""}.cloud.coveo.com`}const zi=()=>({organizationId:"",accessToken:"",platformUrl:Ni(),search:{apiBaseUrl:Ni()+"/rest/search/v2",locale:"en-US"},analytics:{enabled:!0,apiBaseUrl:Ni()+"/rest/ua",originLevel2:"default",originLevel3:"default"}}),Ui=gr(zi(),(e=>e.addCase(ii,((e,t)=>{t.payload.accessToken&&(e.accessToken=t.payload.accessToken),t.payload.organizationId&&(e.organizationId=t.payload.organizationId),t.payload.platformUrl&&(e.platformUrl=t.payload.platformUrl,e.search.apiBaseUrl=t.payload.platformUrl+"/rest/search/v2",e.analytics.apiBaseUrl=t.payload.platformUrl+"/rest/ua")})).addCase(ai,((e,t)=>{t.payload.apiBaseUrl&&(e.search.apiBaseUrl=t.payload.apiBaseUrl),t.payload.locale&&(e.search.locale=t.payload.locale)})).addCase(oi,((e,t)=>{void 0!==t.payload.enabled&&(e.analytics.enabled=t.payload.enabled),void 0!==t.payload.originLevel2&&(e.analytics.originLevel2=t.payload.originLevel2),void 0!==t.payload.originLevel3&&(e.analytics.originLevel3=t.payload.originLevel3),void 0!==t.payload.apiBaseUrl&&(e.analytics.apiBaseUrl=t.payload.apiBaseUrl),void 0!==t.payload.runtimeEnvironment&&(e.analytics.runtimeEnvironment=t.payload.runtimeEnvironment)})).addCase(si.fulfilled,((e,t)=>{e.accessToken=t.payload})).addCase(ci,(e=>{e.analytics.enabled=!1})).addCase(ui,(e=>{e.analytics.enabled=!0})).addCase(li,((e,t)=>{e.analytics.originLevel2=t.payload.originLevel2})).addCase(di,((e,t)=>{e.analytics.originLevel3=t.payload.originLevel3})))),Hi=new Lr({each:Ur,required:!0}),Qi=(e,t)=>(Yr(e,Ur),Mr(t)?Yr(t,Ur):Yr(t,Hi),{payload:{contextKey:e,contextValue:t}}),Bi=pr("context/set",(e=>{for(const[t,n]of Object.entries(e))Qi(t,n);return{payload:e}})),Yi=pr("context/add",(e=>Qi(e.contextKey,e.contextValue))),Wi=pr("context/remove",(e=>Yr(e,Ur))),Ji=gr({contextValues:{}},(e=>{e.addCase(Bi,((e,t)=>{e.contextValues=t.payload})).addCase(Yi,((e,t)=>{e.contextValues[t.payload.contextKey]=t.payload.contextValue})).addCase(Wi,((e,t)=>{delete e.contextValues[t.payload]})).addCase(qr.fulfilled,((e,t)=>{t.payload&&(e.contextValues=t.payload.context.contextValues)}))})),Ki=pr("debug/enable"),Zi=pr("debug/disable"),Gi=gr(!1,(e=>{e.addCase(Ki,(()=>!0)).addCase(Zi,(()=>!1)).addCase(Xr,((e,t)=>{var n;return null!==(n=t.payload.debug)&&void 0!==n?n:e}))})),Xi=gr("0.13.0",(e=>e)),ea=pr("didYouMean/enable"),ta=pr("didYouMean/disable"),na=pr("didYouMean/correction",(e=>Yr(e,Ur))),ra=(e,t,n,r)=>({accessToken:e.accessToken,method:t,contentType:n,url:`${e.url}${r}?${ia(e)}`}),ia=e=>"organizationId="+e.organizationId,aa=TextDecoder;class oa{constructor(e){this.options=e,this.searchAbortController=null}async plan(e){const t=await Li.call(s(c(s({},ra(e,"POST","application/json","/plan")),{requestParams:ha(e)}),this.options)),n=await t.json();return void 0!==n.preprocessingOutput?{success:n}:{error:sa({response:t,body:n})}}async querySuggest(e){const t=await Li.call(s(c(s({},ra(e,"POST","application/json","/querySuggest")),{requestParams:ha(e)}),this.options)),n=await t.json(),r={response:t,body:n};return void 0!==n.completions?{success:(await this.options.postprocessQuerySuggestResponseMiddleware(r)).body}:{error:sa(r)}}async search(e){var t;this.searchAbortController&&(this.options.logger.warn("Cancelling current pending search query"),this.searchAbortController.abort()),this.searchAbortController=this.getAbortControllerInstanceIfAvailable();const n=await Li.call(c(s(c(s({},ra(e,"POST","application/json","")),{requestParams:ha(e)}),this.options),{signal:null===(t=this.searchAbortController)||void 0===t?void 0:t.signal}));this.searchAbortController=null;const r=await n.json(),i={response:n,body:r};return fa(r)?{success:(await this.options.postprocessSearchResponseMiddleware(i)).body}:{error:sa(i)}}async facetSearch(e){const t=await Li.call(s(c(s({},ra(e,"POST","application/json","/facet")),{requestParams:ha(e)}),this.options)),n=await t.json(),r={response:t,body:n};return(await this.options.postprocessFacetSearchResponseMiddleware(r)).body}async recommendations(e){const t=await Li.call(s(c(s({},ra(e,"POST","application/json","")),{requestParams:ha(e)}),this.options)),n=await t.json();return fa(n)?{success:n}:{error:sa({response:t,body:n})}}async html(e){const t=await Li.call(s(c(s({},ra(e,"POST","application/x-www-form-urlencoded","/html")),{requestParams:ha(e)}),this.options)),n=((t.headers.get("content-type")||"").split(";").find((e=>-1!==e.indexOf("charset=")))||"").split("=")[1]||"UTF-8",r=await t.arrayBuffer(),i=new aa(n).decode(r);return function(e){return"string"==typeof e}(i)?{success:i}:{error:sa({response:t,body:i})}}async productRecommendations(e){const t=await Li.call(s(c(s({},ra(e,"POST","application/json","")),{requestParams:ha(e)}),this.options)),n=await t.json();return fa(n)?{success:n}:{error:sa({response:t,body:n})}}getAbortControllerInstanceIfAvailable(){return"undefined"==typeof window?new(require("node-abort-controller")):"undefined"==typeof AbortController?null:new AbortController}}const sa=e=>{const{response:t}=e;return t.body?ca(e):ua(t)},ca=e=>void 0!==e.body.exception?la(e):function(e){return void 0!==e.body.statusCode}(e)?e.body:{message:"unknown",statusCode:0,type:"unknown"},ua=e=>{const t=JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e)));return c(s({},t),{message:"Client side error: "+(t.message||""),statusCode:400,type:"ClientError"})},la=e=>({message:e.body.exception.code,statusCode:e.response.status,type:e.body.exception.code}),da=e=>void 0!==e.error;function fa(e){return void 0!==e.results}function ha(e){const t=e,{url:n,accessToken:r,organizationId:i}=t;return u(t,["url","accessToken","organizationId"])}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function pa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ga(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}var ya;!function(e){e.search="search",e.click="click",e.custom="custom",e.view="view",e.collect="collect"}(ya||(ya={}));class ma{constructor(e){this.opts=e}sendEvent(e,t){return ga(this,void 0,void 0,(function*(){const{baseUrl:n,visitorIdProvider:r,preprocessRequest:i}=this.opts,a=this.shouldAppendVisitorId(e)?yield this.getVisitorIdParam():"",o={url:`${n}/analytics/${e}${a}`,credentials:"include",mode:"cors",headers:this.getHeaders(),method:"POST",body:JSON.stringify(t)},s=Object.assign(Object.assign({},o),i?yield i(o,"analyticsFetch"):{}),{url:c}=s,u=pa(s,["url"]),l=yield fetch(c,u);if(l.ok){const e=yield l.json();return e.visitorId&&r.setCurrentVisitorId(e.visitorId),e}try{l.json()}catch(d){}throw console.error(`An error has occured when sending the "${e}" event.`,l,t),new Error(`An error has occurred when sending the "${e}" event. Check the console logs for more details.`)}))}shouldAppendVisitorId(e){return-1!==[ya.click,ya.custom,ya.search,ya.view].indexOf(e)}getVisitorIdParam(){return ga(this,void 0,void 0,(function*(){const{visitorIdProvider:e}=this.opts,t=yield e.getCurrentVisitorId();return t?"?visitor="+t:""}))}getHeaders(){const{token:e}=this.opts;return Object.assign(Object.assign({},e?{Authorization:"Bearer "+e}:{}),{"Content-Type":"application/json"})}}function va(){return"undefined"!=typeof navigator}function ba(){return"undefined"!=typeof document}function wa(){return"undefined"!=typeof localStorage}function Sa(){return va()&&navigator.cookieEnabled}const Oa=[ya.click,ya.custom,ya.search,ya.view],Ca=(e,t)=>-1!==Oa.indexOf(e)?Object.assign({language:ba()?document.documentElement.lang:"unknown",userAgent:va()?navigator.userAgent:"unknown"},t):t;class xa{static set(e,t,n){var r,i,a,o,s;n?((a=new Date).setTime(a.getTime()+n),o="; expires="+a.toGMTString()):o="",-1===(s=location.hostname).indexOf(".")?document.cookie=e+"="+t+o+"; path=/":((i=s.split(".")).shift(),r="."+i.join("."),document.cookie=e+"="+t+o+"; path=/; domain="+r,null!=xa.get(e)&&xa.get(e)==t||(r="."+s,document.cookie=e+"="+t+o+"; path=/; domain="+r))}static get(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r];if(0==(i=i.replace(/^\s+/,"")).indexOf(t))return i.substring(t.length,i.length)}return null}static erase(e){xa.set(e,"",-1)}}class qa{getItem(e){return xa.get(`${qa.prefix}${e}`)}removeItem(e){xa.erase(`${qa.prefix}${e}`)}setItem(e,t){xa.set(`${qa.prefix}${e}`,t)}}qa.prefix="coveo_";class $a{constructor(){this.cookieStorage=new qa}getItem(e){return localStorage.getItem(e)||this.cookieStorage.getItem(e)}removeItem(e){this.cookieStorage.removeItem(e),localStorage.removeItem(e)}setItem(e,t){localStorage.setItem(e,t),this.cookieStorage.setItem(e,t)}}class Ia{getItem(e){return null}removeItem(e){}setItem(e,t){}}const Ea="__coveo.analytics.history";class ka{constructor(e){this.store=e||(wa()?localStorage:Sa()?new qa:"undefined"!=typeof sessionStorage?sessionStorage:new Ia)}addElement(e){e.internalTime=(new Date).getTime(),this.cropQueryElement(e);let t=this.getHistoryWithInternalTime();null!=t?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])}addElementAsync(e){return ga(this,void 0,void 0,(function*(){e.internalTime=(new Date).getTime(),this.cropQueryElement(e);let t=yield this.getHistoryWithInternalTimeAsync();null!=t?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])}))}getHistory(){const e=this.getHistoryWithInternalTime();return this.stripInternalTime(e)}getHistoryAsync(){return ga(this,void 0,void 0,(function*(){const e=yield this.getHistoryWithInternalTimeAsync();return this.stripInternalTime(e)}))}getHistoryWithInternalTime(){try{const e=this.store.getItem(Ea);return e&&"string"==typeof e?JSON.parse(e):[]}catch(yi){return[]}}getHistoryWithInternalTimeAsync(){return ga(this,void 0,void 0,(function*(){try{const e=yield this.store.getItem(Ea);return e?JSON.parse(e):[]}catch(yi){return[]}}))}setHistory(e){try{this.store.setItem(Ea,JSON.stringify(e.slice(0,20)))}catch(t){}}clear(){try{this.store.removeItem(Ea)}catch(yi){}}getMostRecentElement(){let e=this.getHistoryWithInternalTime();return null!=e?e.sort(((e,t)=>(t.internalTime||0)-(e.internalTime||0)))[0]:null}cropQueryElement(e){e.name&&"query"==e.name.toLowerCase()&&null!=e.value&&(e.value=e.value.slice(0,75))}isValidEntry(e){let t=this.getMostRecentElement();return!t||t.value!=e.value||(e.internalTime||0)-(t.internalTime||0)>6e4}stripInternalTime(e){return e.map((e=>{const{name:t,time:n,value:r}=e;return{name:t,time:n,value:r}}))}}var Aa=Object.freeze({__proto__:null,STORE_KEY:Ea,MAX_NUMBER_OF_HISTORY_ELEMENTS:20,MIN_THRESHOLD_FOR_DUPLICATE_VALUE:6e4,MAX_VALUE_SIZE:75,HistoryStore:ka,default:ka});const ja=(e,t)=>ga(void 0,void 0,void 0,(function*(){return e===ya.view?(yield Ra(t.contentIdValue),Object.assign({location:window.location.toString(),referrer:document.referrer,title:document.title},t)):t})),Ra=e=>ga(void 0,void 0,void 0,(function*(){const t=new ka,n={name:"PageView",value:e,time:JSON.stringify(new Date)};yield t.addElementAsync(n)})),Pa=e=>e?(Number(e)^Ta(new Uint8Array(1))[0]%16>>Number(e)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,Pa),Ta=e=>{if("undefined"!=typeof crypto&&void 0!==crypto.getRandomValues)return crypto.getRandomValues(e);for(var t=0,n=0;t<e.length;t++)0==(3&t)&&(n=4294967296*Math.random()),e[t]=n>>>((3&t)<<3)&255;return e},_a=Object.keys,Fa={id:"svc_ticket_id",subject:"svc_ticket_subject",description:"svc_ticket_description",category:"svc_ticket_category",productId:"svc_ticket_product_id",custom:"svc_ticket_custom"},Ma=[..._a(Fa).map((e=>Fa[e]))].join("|"),Va=new RegExp(`^(${Ma}$)`),Da=[e=>Va.test(e)],La={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",price:"pr",quantity:"qt",coupon:"cc",position:"ps",group:"group"},Na={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr"},za={action:"pa",list:"pal",listSource:"pls"},Ua={id:"ti",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",affiliation:"ta",step:"cos",option:"col"},Ha={id:"quoteId",affiliation:"quoteAffiliation"},Qa={id:"reviewId",rating:"reviewRating",comment:"reviewComment"},Ba={add:za,click:za,checkout:za,checkout_option:za,detail:za,remove:za,refund:Object.assign(Object.assign({},za),Ua),purchase:Object.assign(Object.assign({},za),Ua),quote:Object.assign(Object.assign({},za),Ha),review:Object.assign(Object.assign({},za),Qa)},Ya=_a(La).map((e=>La[e])),Wa=_a(Na).map((e=>Na[e])),Ja=_a(za).map((e=>za[e])),Ka=_a(Ua).map((e=>Ua[e])),Za=_a(Qa).map((e=>Qa[e])),Ga=_a(Ha).map((e=>Ha[e])),Xa=[...Ya,"custom"].join("|"),eo=[...Wa,"custom"].join("|"),to=new RegExp(`^(pr[0-9]+)(${Xa})$`),no=new RegExp(`^((il[0-9]+pi[0-9]+)(${eo}))|(il[0-9]+nm)$`),ro=new RegExp(`^(${Ja.join("|")})$`),io=new RegExp(`^(${Ka.join("|")})$`),ao=new RegExp("^(pr[0-9]+)custom$"),oo=new RegExp("^(il[0-9]+pi[0-9]+)custom$"),so=new RegExp(`^(${["loyaltyCardId","loyaltyTier","thirdPartyPersona","companyName","favoriteStore","storeName","userIndustry","userRole","userDepartment","businessUnit",...Za,...Ga].join("|")})$`),co=[e=>no.test(e),e=>to.test(e),e=>ro.test(e),e=>io.test(e),e=>so.test(e)],uo=[ao,oo],lo=Object.assign(Object.assign(Object.assign({},{anonymizeIp:"aip"}),{eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",page:"dp",visitorId:"cid",clientId:"cid",userId:"uid",currencyCode:"cu"}),{hitType:"t",pageViewId:"pid",encoding:"de",location:"dl",referrer:"dr",screenColor:"sd",screenResolution:"sr",title:"dt",userAgent:"ua",language:"ul",eventId:"z",time:"tm"}),fo=Object.assign(Object.assign({},lo),{svcAction:"svc_action",svcActionData:"svc_action_data"}),ho=_a(fo).map((e=>fo[e])),po=e=>-1!==ho.indexOf(e),go=e=>"custom"===e;class yo{constructor(e){this.opts=e}sendEvent(e,t){return ga(this,void 0,void 0,(function*(){if(!navigator.sendBeacon)throw new Error('navigator.sendBeacon is not supported in this browser. Consider adding a polyfill like "sendbeacon-polyfill".');const{baseUrl:n,preprocessRequest:r}=this.opts,i=this.encodeForEventType(e,t),a=yield this.getQueryParamsForEventType(e),o={url:`${n}/analytics/${e}?${a}`,body:new Blob([i],{type:"application/x-www-form-urlencoded"})},{url:s,body:c}=Object.assign(Object.assign({},o),r?yield r(o,"analyticsBeacon"):{});console.log(`Sending beacon for "${e}" with: `,JSON.stringify(t)),navigator.sendBeacon(s,c)}))}encodeForEventType(e,t){return this.isEventTypeLegacy(e)?this.encodeForLegacyType(e,t):this.encodeForFormUrlEncoded(Object.assign({access_token:this.opts.token},t))}getQueryParamsForEventType(e){return ga(this,void 0,void 0,(function*(){const{token:t,visitorIdProvider:n}=this.opts,r=yield n.getCurrentVisitorId();return[t&&this.isEventTypeLegacy(e)?"access_token="+t:"",r?"visitorId="+r:"","discardVisitInfo=true"].filter((e=>!!e)).join("&")}))}isEventTypeLegacy(e){return-1!==[ya.click,ya.custom,ya.search,ya.view].indexOf(e)}encodeForLegacyType(e,t){return`${e}Event=${encodeURIComponent(JSON.stringify(t))}`}encodeForFormUrlEncoded(e){return Object.keys(e).filter((t=>!!e[t])).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(this.encodeValue(e[t]))}`)).join("&")}encodeValue(e){return"number"==typeof e||"string"==typeof e||"boolean"==typeof e?e:JSON.stringify(e)}}class mo{sendEvent(e,t){return ga(this,void 0,void 0,(function*(){return Promise.resolve()}))}}class vo{constructor(e,t){wa()&&Sa()?this.storage=new $a:wa()?this.storage=localStorage:(console.warn("BrowserRuntime detected no valid storage available.",this),this.storage=new Ia),this.beaconClient=new yo(e),window.addEventListener("beforeunload",(()=>t()))}}class bo{constructor(e,t){this.storage=t||new Ia,this.beaconClient=new ma(e)}}class wo{constructor(){this.storage=new Ia,this.beaconClient=new mo}}class So{constructor(e){if(!e)throw new Error("You have to pass options to this constructor");this.options=Object.assign(Object.assign({},this.defaultOptions),e),this.visitorId="",this.bufferedRequests=[],this.beforeSendHooks=[ja,Ca].concat(this.options.beforeSendHooks),this.eventTypeMapping={};const t={baseUrl:this.baseUrl,token:this.options.token,visitorIdProvider:this,preprocessRequest:this.options.preprocessRequest};this.runtime=this.options.runtimeEnvironment||this.initRuntime(t),this.analyticsFetchClient=new ma(t)}get defaultOptions(){return{endpoint:"https://platform.cloud.coveo.com/rest/ua",token:"",version:"v15",beforeSendHooks:[]}}initRuntime(e){return"undefined"!=typeof window&&ba()?new vo(e,(()=>this.flushBufferWithBeacon())):("undefined"!=typeof navigator&&"ReactNative"==navigator.product&&console.warn("\n        We've detected you're using React Native but have not provided the corresponding runtime, \n        for an optimal experience please install @react-native-async-storage/async-storage and instantiate \n        your analytics client as follows:\n        \n        import {ReactNativeRuntime} from 'coveo.analytics/react-native';\n        \n        const analytics = new CoveoAnalytics({\n            ...your options,\n            runtimeEnvironment: new ReactNativeRuntime();\n        })\n    "),new bo(e))}get analyticsBeaconClient(){return this.runtime.beaconClient}get storage(){return this.runtime.storage}determineVisitorId(){return ga(this,void 0,void 0,(function*(){try{return(yield this.storage.getItem("visitorId"))||Pa()}catch(yi){return console.log("Could not get visitor ID from the current runtime environment storage. Using a random ID instead.",yi),Pa()}}))}getCurrentVisitorId(){return ga(this,void 0,void 0,(function*(){if(!this.visitorId){const e=yield this.determineVisitorId();yield this.setCurrentVisitorId(e)}return this.visitorId}))}setCurrentVisitorId(e){return ga(this,void 0,void 0,(function*(){this.visitorId=e,yield this.storage.setItem("visitorId",e)}))}get currentVisitorId(){return"string"!=typeof(this.visitorId||this.storage.getItem("visitorId"))&&this.setCurrentVisitorId(Pa()),this.visitorId}set currentVisitorId(e){this.visitorId=e,this.storage.setItem("visitorId",e)}sendEvent(e,...t){return ga(this,void 0,void 0,(function*(){const{newEventType:n=e,variableLengthArgumentsNames:r=[],addVisitorIdParameter:i=!1,usesMeasurementProtocol:a=!1}=this.eventTypeMapping[e]||{},o=yield[e=>r.length>0?this.parseVariableArgumentsPayload(r,e):e[0],e=>ga(this,void 0,void 0,(function*(){return Object.assign({visitorId:i?yield this.getCurrentVisitorId():""},e)})),e=>a?this.ensureAnonymousUserWhenUsingApiKey(e):e,t=>this.beforeSendHooks.reduce(((t,n)=>ga(this,void 0,void 0,(function*(){const r=yield t;return yield n(e,r)}))),t),t=>this.removeEmptyPayloadValues(t,e),e=>this.validateParams(e),e=>a?(e=>{const t=e.action?Ba[e.action]:{};return _a(e).reduce(((n,r)=>{const i=t[r]||fo[r]||r;return Object.assign(Object.assign({},n),{[i]:e[r]})}),{})})(e):e,e=>a?this.removeUnknownParameters(e):e,e=>a?this.processCustomParameters(e):e].reduce(((e,t)=>ga(this,void 0,void 0,(function*(){const n=yield e;return yield t(n)}))),Promise.resolve(t));return this.bufferedRequests.push({eventType:n,payload:o,handled:!1}),yield this.deferExecution(),yield this.sendFromBufferWithFetch()}))}deferExecution(){return new Promise((e=>setTimeout(e,0)))}flushBufferWithBeacon(){for(;this.hasPendingRequests();){const{eventType:e,payload:t}=this.bufferedRequests.pop();this.analyticsBeaconClient.sendEvent(e,t)}}sendFromBufferWithFetch(){return ga(this,void 0,void 0,(function*(){const e=this.bufferedRequests.shift();if(e){const{eventType:t,payload:n}=e;return this.analyticsFetchClient.sendEvent(t,n)}}))}hasPendingRequests(){return this.bufferedRequests.length>0}clear(){this.storage.removeItem("visitorId"),(new ka).clear()}sendSearchEvent(e){return ga(this,void 0,void 0,(function*(){return this.sendEvent(ya.search,e)}))}sendClickEvent(e){return ga(this,void 0,void 0,(function*(){return this.sendEvent(ya.click,e)}))}sendCustomEvent(e){return ga(this,void 0,void 0,(function*(){return this.sendEvent(ya.custom,e)}))}sendViewEvent(e){return ga(this,void 0,void 0,(function*(){return this.sendEvent(ya.view,e)}))}getVisit(){return ga(this,void 0,void 0,(function*(){const e=yield fetch(this.baseUrl+"/analytics/visit"),t=yield e.json();return this.visitorId=t.visitorId,t}))}getHealth(){return ga(this,void 0,void 0,(function*(){const e=yield fetch(this.baseUrl+"/analytics/monitoring/health");return yield e.json()}))}registerBeforeSendEventHook(e){this.beforeSendHooks.push(e)}addEventTypeMapping(e,t){this.eventTypeMapping[e]=t}parseVariableArgumentsPayload(e,t){const n={};for(let r=0,i=t.length;r<i;r++){const i=t[r];if("string"==typeof i)n[e[r]]=i;else if("object"==typeof i)return Object.assign(Object.assign({},n),i)}return n}isKeyAllowedEmpty(e,t){return-1!==({[ya.search]:["queryText"]}[e]||[]).indexOf(t)}removeEmptyPayloadValues(e,t){return Object.keys(e).filter((n=>{return this.isKeyAllowedEmpty(t,n)||null!=(r=e[n])&&""!==r;var r})).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:e[n]})),{})}removeUnknownParameters(e){return Object.keys(e).filter((e=>{if(t=e,[...co,...Da,po,go].some((e=>e(t))))return!0;var t;console.log(e,"is not processed by coveoua")})).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:e[n]})),{})}processCustomParameters(e){const{custom:t}=e,n=pa(e,["custom"]),r=this.lowercaseKeys(t),i=_a(a=n).reduce(((e,t)=>{const n=(e=>{let t;return[...uo].every((n=>{var r;return t=null===(r=n.exec(e))||void 0===r?void 0:r[1],!Boolean(t)})),t})(t);return n?Object.assign(Object.assign({},e),((e,t)=>_a(t).reduce(((n,r)=>Object.assign(Object.assign({},n),{[`${e}${r}`]:t[r]})),{}))(n,a[t])):Object.assign(Object.assign({},e),{[t]:a[t]})}),{});var a;return Object.assign(Object.assign({},r),i)}lowercaseKeys(e){return Object.keys(e||{}).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n.toLowerCase()]:e[n]})),{})}validateParams(e){const{anonymizeIp:t}=e,n=pa(e,["anonymizeIp"]);return void 0!==t&&-1==["0","false","undefined","null","{}","[]",""].indexOf((""+t).toLowerCase())&&(n.anonymizeIp=1),n}ensureAnonymousUserWhenUsingApiKey(e){const{userId:t}=e,n=pa(e,["userId"]);return(null==(r=this.options.token)?void 0:r.startsWith("xx"))&&!t?(n.userId="anonymous",n):e;var r}get baseUrl(){const{version:e,endpoint:t}=this.options,n=-1!==t.indexOf(".cloud.coveo.com");return`${t}${n?"":"/rest"}/${e}`}}var Oo;!function(e){e.interfaceLoad="interfaceLoad",e.interfaceChange="interfaceChange",e.didyoumeanAutomatic="didyoumeanAutomatic",e.didyoumeanClick="didyoumeanClick",e.resultsSort="resultsSort",e.searchboxSubmit="searchboxSubmit",e.searchboxClear="searchboxClear",e.searchboxAsYouType="searchboxAsYouType",e.breadcrumbFacet="breadcrumbFacet",e.breadcrumbResetAll="breadcrumbResetAll",e.documentQuickview="documentQuickview",e.documentOpen="documentOpen",e.omniboxAnalytics="omniboxAnalytics",e.omniboxFromLink="omniboxFromLink",e.triggerNotify="notify",e.triggerExecute="execute",e.triggerQuery="query",e.triggerRedirect="redirect",e.pagerResize="pagerResize",e.pagerNumber="pagerNumber",e.pagerNext="pagerNext",e.pagerPrevious="pagerPrevious",e.pagerScrolling="pagerScrolling",e.facetClearAll="facetClearAll",e.facetSearch="facetSearch",e.facetSelect="facetSelect",e.facetSelectAll="facetSelectAll",e.facetDeselect="facetDeselect",e.facetExclude="facetExclude",e.facetUnexclude="facetUnexclude",e.facetUpdateSort="facetUpdateSort",e.facetShowMore="showMoreFacetResults",e.facetShowLess="showLessFacetResults",e.queryError="query",e.queryErrorBack="errorBack",e.queryErrorClear="errorClearQuery",e.queryErrorRetry="errorRetry",e.recommendation="recommendation",e.recommendationInterfaceLoad="recommendationInterfaceLoad"}(Oo||(Oo={}));const Co={[Oo.triggerNotify]:"queryPipelineTriggers",[Oo.triggerExecute]:"queryPipelineTriggers",[Oo.triggerQuery]:"queryPipelineTriggers",[Oo.triggerRedirect]:"queryPipelineTriggers",[Oo.queryError]:"errors",[Oo.queryErrorBack]:"errors",[Oo.queryErrorClear]:"errors",[Oo.queryErrorRetry]:"errors",[Oo.pagerNext]:"getMoreResults",[Oo.pagerPrevious]:"getMoreResults",[Oo.pagerNumber]:"getMoreResults",[Oo.pagerResize]:"getMoreResults",[Oo.pagerScrolling]:"getMoreResults",[Oo.facetSearch]:"facet",[Oo.facetShowLess]:"facet",[Oo.facetShowMore]:"facet",[Oo.recommendation]:"recommendation"};class xo{constructor(){this.runtime=new wo,this.currentVisitorId=""}sendEvent(){return Promise.resolve()}sendSearchEvent(){return Promise.resolve()}sendClickEvent(){return Promise.resolve()}sendCustomEvent(){return Promise.resolve()}sendViewEvent(){return Promise.resolve()}getVisit(){return Promise.resolve({id:"",visitorId:""})}getHealth(){return Promise.resolve({status:""})}registerBeforeSendEventHook(){}addEventTypeMapping(){}}function qo(e){const t=e.join(";");return t.length<=256?t:qo(e.slice(1))}const $o=e=>qo(function(e){let t="";return e.filter((e=>{const n=e!==t;return t=e,n}))}(e.map((e=>e.replace(/;/g,"")))));function Io(e){const t="string"==typeof e.partialQueries?e.partialQueries:$o(e.partialQueries),n="string"==typeof e.suggestions?e.suggestions:$o(e.suggestions);return Object.assign(Object.assign({},e),{partialQueries:t,suggestions:n})}class Eo{constructor(e,t){this.opts=e,this.provider=t,this.coveoAnalyticsClient=!1===e.enableAnalytics?new xo:new So(e)}disable(){this.coveoAnalyticsClient instanceof So&&this.coveoAnalyticsClient.clear(),this.coveoAnalyticsClient=new xo}enable(){this.coveoAnalyticsClient=new So(this.opts)}logInterfaceLoad(){return this.logSearchEvent(Oo.interfaceLoad)}logRecommendationInterfaceLoad(){return this.logSearchEvent(Oo.recommendationInterfaceLoad)}logRecommendation(){return this.logCustomEvent(Oo.recommendation)}logFetchMoreResults(){return this.logCustomEvent(Oo.pagerScrolling,{type:"getMoreResults"})}logInterfaceChange(e){return this.logSearchEvent(Oo.interfaceChange,e)}logDidYouMeanAutomatic(){return this.logSearchEvent(Oo.didyoumeanAutomatic)}logDidYouMeanClick(){return this.logSearchEvent(Oo.didyoumeanClick)}logResultsSort(e){return this.logSearchEvent(Oo.resultsSort,e)}logSearchboxSubmit(){return this.logSearchEvent(Oo.searchboxSubmit)}logSearchboxClear(){return this.logSearchEvent(Oo.searchboxClear)}logSearchboxAsYouType(){return this.logSearchEvent(Oo.searchboxAsYouType)}logBreadcrumbFacet(e){return this.logSearchEvent(Oo.breadcrumbFacet,e)}logBreadcrumbResetAll(){return this.logSearchEvent(Oo.breadcrumbResetAll)}logDocumentQuickview(e,t){return this.logClickEvent(Oo.documentQuickview,e,t)}logDocumentOpen(e,t){return this.logClickEvent(Oo.documentOpen,e,t)}logOmniboxAnalytics(e){return this.logSearchEvent(Oo.omniboxAnalytics,Io(e))}logOmniboxFromLink(e){return this.logSearchEvent(Oo.omniboxFromLink,Io(e))}logTriggerNotify(e){return this.logCustomEvent(Oo.triggerNotify,e)}logTriggerExecute(e){return this.logCustomEvent(Oo.triggerExecute,e)}logTriggerQuery(){const e={query:this.provider.getSearchEventRequestPayload().queryText};return this.logCustomEvent(Oo.triggerQuery,e)}logTriggerRedirect(e){const t=Object.assign(Object.assign({},e),{query:this.provider.getSearchEventRequestPayload().queryText});return this.logCustomEvent(Oo.triggerRedirect,t)}logPagerResize(e){return this.logCustomEvent(Oo.pagerResize,e)}logPagerNumber(e){return this.logCustomEvent(Oo.pagerNumber,e)}logPagerNext(e){return this.logCustomEvent(Oo.pagerNext,e)}logPagerPrevious(e){return this.logCustomEvent(Oo.pagerPrevious,e)}logPagerScrolling(){return this.logCustomEvent(Oo.pagerScrolling)}logFacetClearAll(e){return this.logSearchEvent(Oo.facetClearAll,e)}logFacetSearch(e){return this.logSearchEvent(Oo.facetSearch,e)}logFacetSelect(e){return this.logSearchEvent(Oo.facetSelect,e)}logFacetDeselect(e){return this.logSearchEvent(Oo.facetDeselect,e)}logFacetExclude(e){return this.logSearchEvent(Oo.facetExclude,e)}logFacetUnexclude(e){return this.logSearchEvent(Oo.facetUnexclude,e)}logFacetSelectAll(e){return this.logSearchEvent(Oo.facetSelectAll,e)}logFacetUpdateSort(e){return this.logSearchEvent(Oo.facetUpdateSort,e)}logFacetShowMore(e){return this.logCustomEvent(Oo.facetShowMore,e)}logFacetShowLess(e){return this.logCustomEvent(Oo.facetShowLess,e)}logQueryError(e){return this.logCustomEvent(Oo.queryError,e)}logQueryErrorBack(){return ga(this,void 0,void 0,(function*(){return yield this.logCustomEvent(Oo.queryErrorBack),this.logSearchEvent(Oo.queryErrorBack)}))}logQueryErrorRetry(){return ga(this,void 0,void 0,(function*(){return yield this.logCustomEvent(Oo.queryErrorRetry),this.logSearchEvent(Oo.queryErrorRetry)}))}logQueryErrorClear(){return ga(this,void 0,void 0,(function*(){return yield this.logCustomEvent(Oo.queryErrorClear),this.logSearchEvent(Oo.queryErrorClear)}))}logCustomEvent(e,t){const n=Object.assign(Object.assign({},this.provider.getBaseMetadata()),t),r=Object.assign(Object.assign({},this.getBaseCustomEventRequest(n)),{eventType:Co[e],eventValue:e});return this.coveoAnalyticsClient.sendCustomEvent(r)}logCustomEventWithType(e,t,n){const r=Object.assign(Object.assign({},this.provider.getBaseMetadata()),n),i=Object.assign(Object.assign({},this.getBaseCustomEventRequest(r)),{eventType:t,eventValue:e});return this.coveoAnalyticsClient.sendCustomEvent(i)}logSearchEvent(e,t){return this.coveoAnalyticsClient.sendSearchEvent(this.getBaseSearchEventRequest(e,t))}logClickEvent(e,t,n,r){const i=Object.assign(Object.assign(Object.assign({},t),this.getBaseEventRequest(Object.assign(Object.assign({},n),r))),{searchQueryUid:this.provider.getSearchUID(),queryPipeline:this.provider.getPipeline(),actionCause:e});return this.coveoAnalyticsClient.sendClickEvent(i)}getBaseSearchEventRequest(e,t){return Object.assign(Object.assign(Object.assign({},this.getBaseEventRequest(t)),this.provider.getSearchEventRequestPayload()),{searchQueryUid:this.provider.getSearchUID(),queryPipeline:this.provider.getPipeline(),actionCause:e})}getBaseCustomEventRequest(e){return Object.assign(Object.assign({},this.getBaseEventRequest(e)),{lastSearchQueryUid:this.provider.getSearchUID()})}getBaseEventRequest(e){const t=Object.assign(Object.assign({},this.provider.getBaseMetadata()),e);return Object.assign(Object.assign({},this.getOrigins()),{customData:t,language:this.provider.getLanguage(),facetState:this.provider.getFacetState?this.provider.getFacetState():[]})}getOrigins(){return{originLevel1:this.provider.getOriginLevel1(),originLevel2:this.provider.getOriginLevel2(),originLevel3:this.provider.getOriginLevel3()}}}const ko=e=>{const t=e.configuration.search.locale.split("-")[0];return t&&2===t.length?t:"en"},Ao=(e,t)=>e.search.response.facets.find((e=>e.facetId===t));function jo(e){if(!e)return{parents:[],values:[]};let t=[],n=e;for(;n.length&&n[0].children.length;)t=[...t,...n],n=n[0].children;const r=n.find((e=>"selected"===e.state));return r&&(t=[...t,r],n=[]),{parents:t,values:n}}const Ro=(e,t)=>{const n=((e,t)=>{const n=Ao(e,t);if(r=e,(i=n)&&i.facetId in r.categoryFacetSet)return n;var r,i})(e,t);return jo(null==n?void 0:n.values).parents},Po=(e,t)=>{const n=Mo(t,e),r=n?n.field:"";return{facetId:e,facetField:r,facetTitle:`${r}_${e}`}};function To(e,t){const{facetId:n,facetValue:r}=e;return c(s({},Po(n,t)),{facetValue:"hierarchical"===Vo(t,n)?Fo(t,n):r})}function _o(e){return{facetSet:e.facetSet||{},categoryFacetSet:e.categoryFacetSet||{},dateFacetSet:e.dateFacetSet||{},numericFacetSet:e.numericFacetSet||{},search:e.search||{response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],queryCorrections:[]},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[]}}}const Fo=(e,t)=>Ro(e,t).map((e=>e.value)).join(";"),Mo=(e,t)=>{var n;return e.facetSet[t]||(null===(n=e.categoryFacetSet[t])||void 0===n?void 0:n.request)||e.dateFacetSet[t]||e.numericFacetSet[t]},Vo=(e,t)=>{const n=Mo(e,t);return n?n.type:"specific"};class Do{constructor(e){this.state=e}getLanguage(){return ko(this.state)}getSearchEventRequestPayload(){return{queryText:this.queryText,responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults,getBaseMetadata:this.getBaseMetadata()}}getBaseMetadata(){const{context:e}=this.state,t=(null==e?void 0:e.contextValues)||{},n={};for(const[r,i]of Object.entries(t))n["context_"+r]=i;return n}getSearchUID(){var e,t;return(null===(e=this.state.search)||void 0===e?void 0:e.response.searchUid)||(null===(t=this.state.recommendation)||void 0===t?void 0:t.searchUid)||""}getPipeline(){return this.state.pipeline||"default"}getOriginLevel1(){return this.state.searchHub||"default"}getOriginLevel2(){return this.state.configuration.analytics.originLevel2||"default"}getOriginLevel3(){return this.state.configuration.analytics.originLevel3||"default"}getFacetState(){return(e=>{const t=[];return e.search.response.facets.forEach(((n,r)=>{const i=Vo(e,n.facetId),a=((e,t)=>({title:`${e.field}_${e.facetId}`,field:e.field,id:e.facetId,facetPosition:t}))(n,r+1);if("hierarchical"!==i)n.values.forEach(((e,n)=>{if("idle"===e.state)return;const r=((e,t,n)=>({state:e.state,valuePosition:t,facetType:n}))(e,n+1,i),o="specific"===i?(e=>({displayValue:e.value,value:e.value}))(e):(e=>({displayValue:`${e.start}..${e.end}`,value:`${e.start}..${e.end}`,start:e.start,end:e.end,endInclusive:e.endInclusive}))(e);t.push(s(s(s({},a),r),o))}));else{if(!Ro(e,n.facetId).length)return;t.push(c(s(s({},a),((e,t)=>{const n=Fo(e,t);return{value:n,valuePosition:1,displayValue:n}})(e,n.facetId)),{facetType:i,state:"selected"}))}})),t})(_o(this.state))}mapResultsToAnalyticsDocument(){var e;return null===(e=this.state.search)||void 0===e?void 0:e.response.results.map((e=>({documentUri:e.uri,documentUriHash:e.raw.urihash})))}get queryText(){var e;return(null===(e=this.state.query)||void 0===e?void 0:e.q)||""}get responseTime(){var e;return(null===(e=this.state.search)||void 0===e?void 0:e.duration)||0}get numberOfResults(){var e;return(null===(e=this.state.search)||void 0===e?void 0:e.response.results.length)||[].length}}const Lo=()=>new So({}).currentVisitorId,No=new Aa.HistoryStore;var zo;!function(e){e[e.Search=0]="Search",e[e.Custom=1]="Custom",e[e.Click=2]="Click"}(zo||(zo={}));const Uo=(e,t,n,r=(e=>new Do(e)))=>br(e,(async(e,{getState:i,extra:{analyticsClientMiddleware:a,preprocessRequest:o,logger:u}})=>{const l=i(),d=(({logger:e,state:t,analyticsClientMiddleware:n=((e,t)=>t),preprocessRequest:r,provider:i=new Do(t)})=>{const a=t.configuration.accessToken,o=t.configuration.analytics.apiBaseUrl,u=t.configuration.analytics.runtimeEnvironment,l=new Eo({token:a,endpoint:o,runtimeEnvironment:u,preprocessRequest:r,beforeSendHooks:[n,(t,n)=>(e.info(c(s({},n),{type:t,endpoint:o,token:a}),"Analytics request"),n)]},i);return!1===t.configuration.analytics.enabled&&l.disable(),l})({state:l,logger:u,analyticsClientMiddleware:a,preprocessRequest:o,provider:r(l)}),f=await n(d,l);return u.info({client:d.coveoAnalyticsClient,response:f},"Analytics response"),{analyticsType:t}})),Ho=(e,t)=>{var n;const r=(null===(n=t.search)||void 0===n?void 0:n.response.results.findIndex((({uniqueId:t})=>e.uniqueId===t)))||0,i=e.raw.collection;return{collectionName:"string"==typeof i?i:"default",documentAuthor:Wo(e),documentPosition:r+1,documentTitle:e.title,documentUri:e.uri,documentUriHash:e.raw.urihash,documentUrl:e.clickUri,rankingModifier:e.rankingModifier||"",sourceName:e.raw.sourcetype||"",queryPipeline:t.pipeline||"default"}},Qo=e=>({contentIDKey:"@permanentid",contentIDValue:e.raw.permanentid||""}),Bo={urihash:new Fr,sourcetype:new Fr,permanentid:new Fr},Yo={uniqueId:Ur,raw:new Vr({values:Bo}),title:Ur,uri:Ur,clickUri:Ur,rankingModifier:new Fr({required:!1,emptyAllowed:!0})};function Wo(e){const t=e.raw.author;return Ar(t)?"unknown":Array.isArray(t)?t.join(";"):""+t}const Jo=e=>new Ir(Yo).validate(function(e){return Object.assign({},...Object.keys(Yo).map((t=>({[t]:e[t]}))),{raw:(t=e.raw,Object.assign({},...Object.keys(Bo).map((e=>({[e]:t[e]})))))});var t}(e)),Ko=Uo("analytics/didyoumean/click",zo.Search,(e=>e.logDidYouMeanClick())),Zo=Uo("analytics/didyoumean/automatic",zo.Search,(e=>e.logDidYouMeanAutomatic())),Go=pr("query/updateQuery",(e=>Yr(e,{q:new Fr,enableQuerySyntax:new Pr})));var Xo,es;!function(e){e.Ascending="ascending",e.Descending="descending"}(Xo||(Xo={})),function(e){e.Relevancy="relevancy",e.QRE="qre",e.Date="date",e.Field="field",e.NoSort="nosort"}(es||(es={}));const ts=e=>{if(Nr(e))return e.map((e=>ts(e))).join(",");switch(e.by){case es.Relevancy:case es.QRE:case es.NoSort:return e.by;case es.Date:return"date "+e.order;case es.Field:return`@${e.field} ${e.order}`;default:return""}};function ns(){return ts({by:es.Relevancy})}function rs(){return is({})}function is(e){var t,n;return{context:e.context||{contextValues:{}},facetSet:e.facetSet||{},numericFacetSet:e.numericFacetSet||{},dateFacetSet:e.dateFacetSet||{},categoryFacetSet:e.categoryFacetSet||{},pagination:e.pagination||{firstResult:0,numberOfResults:10,totalCountFiltered:0},query:e.query||{q:"",enableQuerySyntax:!1},advancedSearchQueries:e.advancedSearchQueries||{cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,defaultFilters:{cq:"",aq:""}},querySet:e.querySet||{},sortCriteria:e.sortCriteria||ns(),pipeline:e.pipeline||"default",searchHub:e.searchHub||"default",facetOptions:e.facetOptions||{freezeFacetOrder:!1},facetOrder:null!==(t=e.facetOrder)&&void 0!==t?t:[],debug:null!==(n=e.debug)&&void 0!==n&&n}}new Vr({values:{by:new zr({enum:es,required:!0}),order:new zr({enum:Xo}),field:new Fr}});const as=Uo("search/logFetchMoreResults",zo.Search,(e=>e.logFetchMoreResults())),os=e=>Uo("search/queryError",zo.Search,((t,n)=>{var r,i,a;return t.logQueryError({query:(null===(r=n.query)||void 0===r?void 0:r.q)||"",aq:(null===(i=n.advancedSearchQueries)||void 0===i?void 0:i.aq)||"",cq:(null===(a=n.advancedSearchQueries)||void 0===a?void 0:a.cq)||"",dq:"",errorType:e.type,errorMessage:e.message})}))(),ss=async(e,t,n)=>{var r;const i=(new Date).getTime();return{response:await e.search(n),duration:(new Date).getTime()-i,queryExecuted:(null===(r=t.query)||void 0===r?void 0:r.q)||"",requestExecuted:n}},cs=br("search/executeSearch",(async(e,{getState:t,dispatch:n,rejectWithValue:r,extra:i})=>{const a=t();vs(a);const o=await ss(i.searchAPIClient,a,hs(a));if(da(o.response))return n(os(o.response.error)),r(o.response.error);if(!fs(a,o.response.success))return n(Or(is(a))),c(s({},o),{response:o.response.success,automaticallyCorrected:!1,originalQuery:bs(a),analyticsAction:e});const{correctedQuery:u}=o.response.success.queryCorrections[0],l=await ds(i.searchAPIClient,u,t,n);if(da(l.response))return n(os(l.response.error)),r(l.response.error);const d=o.response.success;return e(n,(()=>ls(o.queryExecuted,o.duration,a,d)),i),n(Or(is(t()))),c(s({},l),{response:c(s({},l.response.success),{queryCorrections:o.response.success.queryCorrections}),automaticallyCorrected:!0,originalQuery:bs(a),analyticsAction:Zo()})})),us=br("search/fetchMoreResults",(async(e,{getState:t,dispatch:n,rejectWithValue:r,extra:{searchAPIClient:i}})=>{const a=t(),o=await ss(i,a,ps(a));return da(o.response)?(n(os(o.response.error)),r(o.response.error)):(n(Or(is(a))),c(s({},o),{response:o.response.success,automaticallyCorrected:!1,originalQuery:bs(a),analyticsAction:as()}))})),ls=(e,t,n,r)=>{var i,a;return c(s({},n),{query:{q:e,enableQuerySyntax:null!==(a=null===(i=n.query)||void 0===i?void 0:i.enableQuerySyntax)&&void 0!==a&&a},search:{response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],queryCorrections:[]},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[],duration:t,response:r,results:r.results}})},ds=async(e,t,n,r)=>{r(Go({q:t}));const i=await ss(e,n(),hs(n()));return r(na(t)),i},fs=(e,t)=>{var n;return!0===(null===(n=e.didYouMean)||void 0===n?void 0:n.enableDidYouMean)&&0===t.results.length&&0!==t.queryCorrections.length},hs=e=>s(s(s(s(s(s(s(s(s(s(s(s({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,debug:e.debug},e.configuration.analytics.enabled&&{visitorId:Lo()}),e.advancedSearchQueries&&{aq:e.advancedSearchQueries.aq,cq:e.advancedSearchQueries.cq}),e.context&&{context:e.context.contextValues}),e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean}),e.facetSet&&{facets:gs(e)}),e.fields&&{fieldsToInclude:e.fields.fieldsToInclude}),e.pagination&&{numberOfResults:e.pagination.numberOfResults,firstResult:e.pagination.firstResult}),e.pipeline&&{pipeline:e.pipeline}),e.query&&{q:e.query.q,enableQuerySyntax:e.query.enableQuerySyntax}),e.searchHub&&{searchHub:e.searchHub}),e.sortCriteria&&{sortCriteria:e.sortCriteria}),e.facetOptions&&{facetOptions:e.facetOptions}),ps=e=>{var t,n,r,i;return c(s({},hs(e)),{firstResult:(null!==(n=null===(t=e.pagination)||void 0===t?void 0:t.firstResult)&&void 0!==n?n:0)+(null!==(i=null===(r=e.search)||void 0===r?void 0:r.results.length)&&void 0!==i?i:0)})};function gs(e){var t,n;return function(e,t){const n={};e.forEach((e=>n[e.facetId]=e));const r=[];t.forEach((e=>{e in n&&(r.push(n[e]),delete n[e])}));const i=Object.values(n);return[...r,...i]}([...ms((n=e).facetSet),...ms(n.numericFacetSet),...ms(n.dateFacetSet),...ys(n.categoryFacetSet)],null!==(t=e.facetOrder)&&void 0!==t?t:[])}function ys(e){return Object.values(e||{}).map((e=>e.request))}function ms(e={}){return Object.keys(e).map((t=>e[t]))}const vs=e=>{var t;e.configuration.analytics.enabled&&No.addElement({name:"Query",value:(null===(t=e.query)||void 0===t?void 0:t.q)||"",time:JSON.stringify(new Date)})},bs=e=>{var t;return void 0!==(null===(t=e.query)||void 0===t?void 0:t.q)?e.query.q:""},ws=gr({enableDidYouMean:!1,wasCorrectedTo:"",wasAutomaticallyCorrected:!1,queryCorrection:{correctedQuery:"",wordCorrections:[],originalQuery:""},originalQuery:""},(e=>{e.addCase(ea,(e=>{e.enableDidYouMean=!0})).addCase(ta,(e=>{e.enableDidYouMean=!1})).addCase(cs.pending,(e=>{e.queryCorrection={correctedQuery:"",wordCorrections:[],originalQuery:""},e.wasAutomaticallyCorrected=!1,e.wasCorrectedTo=""})).addCase(cs.fulfilled,((e,t)=>{e.queryCorrection=t.payload.response.queryCorrections[0]||{correctedQuery:"",wordCorrections:[],originalQuery:""},e.originalQuery=t.payload.originalQuery,e.wasAutomaticallyCorrected=t.payload.automaticallyCorrected})).addCase(na,((e,t)=>{e.wasCorrectedTo=t.payload}))})),Ss=pr("facetOptions/update",(e=>Yr(e,{freezeFacetOrder:new Pr({required:!1})}))),Os=gr({freezeFacetOrder:!1},(e=>{e.addCase(Ss,((e,t)=>s(s({},e),t.payload))).addCase(cs.fulfilled,(e=>{e.freezeFacetOrder=!1})).addCase(cs.rejected,(e=>{e.freezeFacetOrder=!1})).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.facetOptions)&&void 0!==r?r:e}))})),Cs=Ur,xs={value:Ur,numberOfResults:new jr({min:0}),state:Ur},qs={facetId:Cs,field:new Fr({required:!0,emptyAllowed:!0}),delimitingCharacter:new Fr({required:!1,emptyAllowed:!0}),filterFacetCount:new Pr({required:!1}),injectionDepth:new jr({required:!1,min:0}),numberOfValues:new jr({required:!1,min:1}),sortCriteria:new Er({required:!1})},$s=pr("facet/register",(e=>Yr(e,qs))),Is=pr("facet/toggleSelectValue",(e=>Yr(e,{facetId:Cs,selection:new Vr({values:xs})}))),Es=pr("facet/deselectAll",(e=>Yr(e,Cs))),ks=pr("facet/updateSortCriterion",(e=>Yr(e,{facetId:Cs,criterion:new Er({required:!0})}))),As=pr("facet/updateNumberOfValues",(e=>Yr(e,{facetId:Cs,numberOfValues:new jr({required:!0,min:1})}))),js=pr("facet/updateIsFieldExpanded",(e=>Yr(e,{facetId:Cs,isFieldExpanded:new Pr({required:!0})}))),Rs=pr("facet/updateFreezeCurrentValues",(e=>Yr(e,{facetId:Cs,freezeCurrentValues:new Pr({required:!0})}))),Ps={state:new Er({required:!0}),numberOfResults:new jr({required:!0,min:0}),value:new Fr({required:!0,emptyAllowed:!0}),path:new Lr({required:!0,each:Ur}),moreValuesAvailable:new Pr({required:!1})};function Ts(e){e.children.forEach((e=>{Ts(e)})),Br({state:e.state,numberOfResults:e.numberOfResults,value:e.value,path:e.path,moreValuesAvailable:e.moreValuesAvailable},Ps)}const _s={facetId:Cs,field:Ur,delimitingCharacter:new Fr({required:!1,emptyAllowed:!0}),filterFacetCount:new Pr({required:!1}),injectionDepth:new jr({required:!1,min:0}),numberOfValues:new jr({required:!1,min:1}),sortCriteria:new Er({required:!1}),basePath:new Lr({required:!1,each:Ur}),filterByBasePath:new Pr({required:!1})},Fs=pr("categoryFacet/register",(e=>Yr(e,_s))),Ms=pr("categoryFacet/toggleSelectValue",(e=>{try{return Br(e.facetId,Ur),Ts(e.selection),{payload:e,error:null}}catch(Mn){return{payload:e,error:Qr(Mn)}}})),Vs=Es,Ds=As,Ls=pr("categoryFacet/updateSortCriterion",(e=>Yr(e,{facetId:Cs,criterion:new Er})));function Ns(e,t){const{facetId:n,criterion:r}=t,i=e[n];i&&(i.sortCriteria=r)}function zs(e){e&&(e.currentValues=[],e.preventAutoSelect=!0)}function Us(e,t){e&&(e.numberOfValues=t)}const Hs={facetId:Cs,captions:new Vr({options:{required:!1}}),numberOfValues:new jr({required:!1,min:1}),query:new Fr({required:!1,emptyAllowed:!0})},Qs={path:new Lr({required:!0,each:Ur}),displayValue:Hr,rawValue:Hr,count:new jr({required:!0,min:0})},Bs=pr("categoryFacet/selectSearchResult",(e=>Yr(e,{facetId:Cs,value:new Vr({values:Qs}),retrieveCount:new jr({min:1,required:!1})}))),Ys=pr("categoryFacetSearch/register",(e=>Yr(e,Hs))),Ws=pr("facet/deselectAllFacets");function Js(e,t,n){e.currentValues=function(e,t){if(!e.length)return[];const n=Ks(e[0],t);let r=n;for(const i of e.splice(1)){const e=Ks(i,t);r.children.push(e),r=e}return r.state="selected",r.retrieveChildren=!0,[n]}(t,n),e.numberOfValues=t.length?1:n,e.preventAutoSelect=!0}function Ks(e,t){return{value:e,retrieveCount:t,children:[],state:"idle",retrieveChildren:!1}}const Zs=gr({},(e=>{e.addCase(Fs,((e,t)=>{const n=t.payload,{facetId:r}=n;if(r in e)return;const i=(a=n,s(c(s({},Gs),{currentValues:[],preventAutoSelect:!1,type:"hierarchical"}),a));var a;const o=i.numberOfValues;e[r]={request:i,initialNumberOfValues:o}})).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.categoryFacetSet)&&void 0!==r?r:e})).addCase(Xr,((e,t)=>{const n=t.payload.cf||{};Object.keys(e).forEach((t=>{Js(e[t].request,n[t]||[],e[t].initialNumberOfValues)}))})).addCase(Ls,((e,t)=>{var n;const{facetId:r,criterion:i}=t.payload,a=null===(n=e[r])||void 0===n?void 0:n.request;a&&(a.sortCriteria=i)})).addCase(Ms,((e,t)=>{var n;const{facetId:r,selection:i,retrieveCount:a}=t.payload,o=null===(n=e[r])||void 0===n?void 0:n.request;if(!o)return;let s=o.currentValues;const{path:c}=i,u=c.slice(0,c.length-1);for(const d of u){const e=s[0];if(d!==e.value)return;e.retrieveChildren=!1,e.state="idle",s=e.children}if(s.length){const e=s[0];return e.retrieveChildren=!0,e.state="selected",void(e.children=[])}const l=function(e,t){const{value:n}=e;return{value:n,state:"selected",children:[],retrieveChildren:!0,retrieveCount:t}}(i,a);s.push(l),o.numberOfValues=1})).addCase(Vs,((e,t)=>{Xs(e,t.payload)})).addCase(Ws,(e=>{Object.keys(e).forEach((t=>Xs(e,t)))})).addCase(Ds,((e,t)=>{var n;const{facetId:r,numberOfValues:i}=t.payload,a=null===(n=e[r])||void 0===n?void 0:n.request;if(a)return a.currentValues.length?void function(e,t){var n;const{facetId:r,numberOfValues:i}=t;let a=null===(n=e[r])||void 0===n?void 0:n.request.currentValues[0];if(a){for(;a.children.length&&"selected"!==(null==a?void 0:a.state);)a=a.children[0];a.retrieveCount=i}}(e,t.payload):Us(a,i)})).addCase(Bs,((e,t)=>{const{facetId:n,value:r}=t.payload,i=e[n];if(!i)return;const a=[...r.path,r.rawValue];Js(i.request,a,i.initialNumberOfValues)})).addCase(cs.fulfilled,((e,t)=>{const{facets:n}=t.payload.response;n.forEach((t=>{var n,r;if(r=e,!(t.facetId in r))return;const i=t.facetId,a=null===(n=e[i])||void 0===n?void 0:n.request;if(!a)return;const o=function(e,t){const n=jo(e.currentValues).parents,r=jo(t.values).parents;return n.length!==r.length}(a,t);a.currentValues=o?[]:a.currentValues,a.preventAutoSelect=!1}))}))})),Gs={delimitingCharacter:";",filterFacetCount:!0,injectionDepth:1e3,numberOfValues:5,sortCriteria:"occurrences",basePath:[],filterByBasePath:!0};function Xs(e,t){const n=e[t];n&&(n.request.numberOfValues=n.initialNumberOfValues,zs(n.request))}const ec=gr([],(e=>{e.addCase(cs.fulfilled,((e,t)=>t.payload.response.facets.map((e=>e.facetId)))).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.facetOrder)&&void 0!==r?r:e}))}));function tc(e,t,n){const{facetId:r}=t;if(e[r])return;const i=s(s({},cc),t),a=n();e[r]={options:i,isLoading:!1,response:a,initialNumberOfValues:i.numberOfValues}}function nc(e,t){const n=t,{facetId:r}=n,i=u(n,["facetId"]),a=e[r];a&&(a.options=s(s({},a.options),i))}function rc(e,t){const n=e[t];n&&(n.isLoading=!0)}function ic(e,t){const n=e[t];n&&(n.isLoading=!1)}function ac(e,t){const{facetId:n,response:r}=t,i=e[n];i&&(i.isLoading=!1,i.response=r)}function oc(e,t,n){const{facetId:r}=t,i=e[r];i&&(i.isLoading=!1,i.response=n(),i.options.numberOfValues=i.initialNumberOfValues,i.options.query=cc.query)}function sc(e,t){Object.keys(e).forEach((n=>oc(e,{facetId:n},t)))}const cc={captions:{},numberOfValues:10,query:""},uc={facetId:Cs,value:new Vr({values:{displayValue:Hr,rawValue:Hr,count:new jr({required:!0,min:0})}})},lc=pr("facetSearch/register",(e=>Yr(e,Hs))),dc=pr("facetSearch/update",(e=>Yr(e,Hs))),fc=pr("facetSearch/toggleSelectValue",(e=>Yr(e,uc))),hc=e=>Uo("analytics/facet/showMore",zo.Search,((t,n)=>{Yr(e,Cs);const r=Po(e,_o(n));return t.logFacetShowMore(r)}))(),pc=e=>Uo("analytics/facet/showLess",zo.Search,((t,n)=>{Yr(e,Cs);const r=Po(e,_o(n));return t.logFacetShowLess(r)}))(),gc=e=>Uo("analytics/facet/search",zo.Search,((t,n)=>{Yr(e,Cs);const r=_o(n),i=Po(e,r);return t.logFacetSearch(i)}))(),yc=e=>Uo("analytics/facet/sortChange",zo.Search,((t,n)=>{Yr(e,{facetId:Cs,criterion:new Er({required:!0})});const{facetId:r,criterion:i}=e,a=_o(n),o=c(s({},Po(r,a)),{criteria:i});return t.logFacetUpdateSort(o)}))(),mc=e=>Uo("analytics/facet/reset",zo.Search,((t,n)=>{Yr(e,Cs);const r=_o(n),i=Po(e,r);return t.logFacetClearAll(i)}))(),vc=e=>Uo("analytics/facet/select",zo.Search,((t,n)=>{Yr(e,{facetId:Cs,facetValue:Ur});const r=_o(n),i=To(e,r);return t.logFacetSelect(i)}))(),bc=e=>Uo("analytics/facet/deselect",zo.Search,((t,n)=>{Yr(e,{facetId:Cs,facetValue:Ur});const r=_o(n),i=To(e,r);return t.logFacetDeselect(i)}))(),wc=e=>Uo("analytics/facet/breadcrumb",zo.Search,((t,n)=>{Yr(e,{facetId:Cs,facetValue:Ur});const r=To(e,_o(n));return t.logBreadcrumbFacet(r)}))(),Sc=br("facetSearch/executeSearch",(async(e,{dispatch:t,getState:n,extra:{searchAPIClient:r,validatePayload:i}})=>{const a=n();let o;i(e,Ur),o=Cc(a,e)?((e,t)=>{const{captions:n,query:r,numberOfValues:i}=t.facetSearchSet[e].options,{field:a,delimitingCharacter:o,currentValues:s}=t.facetSet[e],c=hs(t),u=s.filter((e=>"idle"!==e.state)).map((e=>e.value)),l=`*${r}*`;return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,captions:n,numberOfValues:i,query:l,field:a,delimitingCharacter:o,ignoreValues:u,searchContext:c,type:"specific"}})(e,a):((e,t)=>{const n=t.categoryFacetSearchSet[e].options,r=t.categoryFacetSet[e].request,{captions:i,query:a,numberOfValues:o}=n,{field:s,delimitingCharacter:c,basePath:u}=r,l=hs(t),d=(e=>{const t=[];let n=e.currentValues[0];for(;n;)t.push(n.value),n=n.children[0];return t})(r),f=d.length?[d]:[],h=`*${a}*`;return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,basePath:u,captions:i,numberOfValues:o,query:h,field:s,delimitingCharacter:c,ignorePaths:f,searchContext:l,type:"hierarchical"}})(e,a);const s=await r.facetSearch(o);return t(gc(e)),{facetId:e,response:s}})),Oc=pr("facetSearch/clearResults",(e=>Yr(e,{facetId:Cs}))),Cc=(e,t)=>void 0!==e.facetSearchSet&&void 0!==e.facetSet&&void 0!==e.facetSet[t],xc=gr({},(e=>{e.addCase(Ys,((e,t)=>{tc(e,t.payload,qc)})).addCase(dc,((e,t)=>{nc(e,t.payload)})).addCase(Sc.pending,((e,t)=>{rc(e,t.meta.arg)})).addCase(Sc.rejected,((e,t)=>{ic(e,t.meta.arg)})).addCase(Sc.fulfilled,((e,t)=>{ac(e,t.payload)})).addCase(Oc,((e,{payload:{facetId:t}})=>{oc(e,{facetId:t},qc)})).addCase(cs.fulfilled,(e=>{sc(e,qc)}))}));function qc(){return{moreValuesAvailable:!1,values:[]}}const $c=gr({},(e=>{e.addCase(lc,((e,t)=>{tc(e,t.payload,Ic)})).addCase(dc,((e,t)=>{nc(e,t.payload)})).addCase(Sc.pending,((e,t)=>{rc(e,t.meta.arg)})).addCase(Sc.rejected,((e,t)=>{ic(e,t.meta.arg)})).addCase(Sc.fulfilled,((e,t)=>{ac(e,t.payload)})).addCase(Oc,((e,{payload:t})=>{oc(e,t,Ic)})).addCase(cs.fulfilled,(e=>{sc(e,Ic)}))}));function Ic(){return{moreValuesAvailable:!1,values:[]}}const Ec=gr({},(e=>{e.addCase($s,((e,t)=>{const{facetId:n}=t.payload;var r;n in e||(e[n]=(r=t.payload,s(c(s({},kc),{type:"specific",currentValues:[],freezeCurrentValues:!1,isFieldExpanded:!1,preventAutoSelect:!1}),r)))})).addCase(qr.fulfilled,((e,t)=>{if(t.payload&&0!==Object.keys(t.payload.facetSet).length)return t.payload.facetSet})).addCase(Xr,((e,t)=>{const n=t.payload.f||{};Object.keys(e).forEach((t=>{const r=e[t],i=n[t]||[];r.currentValues=i.map(jc),r.preventAutoSelect=!0,r.numberOfValues=Math.max(i.length,r.numberOfValues)}))})).addCase(Is,((e,t)=>{const{facetId:n,selection:r}=t.payload,i=e[n];if(!i)return;const a=i.currentValues.find((e=>e.value===r.value));if(!a)return;const o="selected"===a.state;a.state=o?"idle":"selected",i.freezeCurrentValues=!0,i.preventAutoSelect=!0})).addCase(Rs,((e,t)=>{const{facetId:n,freezeCurrentValues:r}=t.payload,i=e[n];i&&(i.freezeCurrentValues=r)})).addCase(Es,((e,t)=>{zs(e[t.payload])})).addCase(Ws,(e=>{Object.keys(e).forEach((t=>{zs(e[t])}))})).addCase(ks,((e,t)=>{Ns(e,t.payload)})).addCase(As,((e,t)=>{const{facetId:n,numberOfValues:r}=t.payload;Us(e[n],r)})).addCase(js,((e,t)=>{const{facetId:n,isFieldExpanded:r}=t.payload,i=e[n];i&&(i.isFieldExpanded=r)})).addCase(cs.fulfilled,((e,t)=>{t.payload.response.facets.forEach((t=>{const n=t.facetId,r=e[n];r&&(r.currentValues=t.values.map(Ac),r.freezeCurrentValues=!1,r.preventAutoSelect=!1)}))})).addCase(fc,((e,t)=>{const{facetId:n,value:r}=t.payload,i=e[n];if(!i)return;const{rawValue:a}=r,{currentValues:o}=i,s=o.find((e=>e.value===a));if(s)return void(s.state="selected");const c=jc(a),u=o.findIndex((e=>"idle"===e.state)),l=-1===u?o.length:u,d=o.slice(0,l),f=o.slice(l+1);i.currentValues=[...d,c,...f],i.numberOfValues=i.currentValues.length}))})),kc={delimitingCharacter:">",filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"automatic"};function Ac(e){const{value:t,state:n}=e;return{value:t,state:n}}function jc(e){return{value:e,state:"selected"}}var Rc=pi((function(e,t){e.exports=function(){var e="millisecond",t="second",n="minute",r="hour",i="day",a="week",o="month",s="quarter",c="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,d=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},p={s:h,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+h(r,2,"0")+":"+h(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,o),a=n-i<0,s=t.clone().add(r+(a?-1:1),o);return+(-(r+(n-i)/(a?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:o,y:c,w:a,d:i,D:u,h:r,m:n,s:t,ms:e,Q:s}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g="en",y={};y[g]=f;var m=function(e){return e instanceof S},v=function(e,t,n){var r;if(!e)return g;if("string"==typeof e)y[e]&&(r=e),t&&(y[e]=t,r=e);else{var i=e.name;y[i]=e,r=i}return!n&&r&&(g=r),r||!n&&g},b=function(e,t){if(m(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},w=p;w.l=v,w.i=m,w.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function f(e){this.$L=v(e.locale,null,!0),this.parse(e)}var h=f.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return w},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var n=b(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return b(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<b(e)},h.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var l=this,d=!!w.u(s)||s,f=w.p(e),h=function(e,t){var n=w.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return d?n:n.endOf(i)},p=function(e,t){return w.w(l.toDate()[e].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},g=this.$W,y=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case c:return d?h(1,0):h(31,11);case o:return d?h(1,y):h(0,y+1);case a:var b=this.$locale().weekStart||0,S=(g<b?g+7:g)-b;return h(d?m-S:m+(6-S),y);case i:case u:return p(v+"Hours",0);case r:return p(v+"Minutes",1);case n:return p(v+"Seconds",2);case t:return p(v+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(a,s){var l,d=w.p(a),f="set"+(this.$u?"UTC":""),h=(l={},l[i]=f+"Date",l[u]=f+"Date",l[o]=f+"Month",l[c]=f+"FullYear",l[r]=f+"Hours",l[n]=f+"Minutes",l[t]=f+"Seconds",l[e]=f+"Milliseconds",l)[d],p=d===i?this.$D+(s-this.$W):s;if(d===o||d===c){var g=this.clone().set(u,1);g.$d[h](p),g.init(),this.$d=g.set(u,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[w.p(e)]()},h.add=function(e,s){var u,l=this;e=Number(e);var d=w.p(s),f=function(t){var n=b(l);return w.w(n.date(n.date()+Math.round(t*e)),l)};if(d===o)return this.set(o,this.$M+e);if(d===c)return this.set(c,this.$y+e);if(d===i)return f(1);if(d===a)return f(7);var h=(u={},u[n]=6e4,u[r]=36e5,u[t]=1e3,u)[d]||1,p=this.$d.getTime()+e*h;return w.w(p,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),a=this.$H,o=this.$m,s=this.$M,c=i.weekdays,u=i.months,l=function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].substr(0,a)},f=function(e){return w.s(a%12||12,e,"0")},h=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:w.s(s+1,2,"0"),MMM:l(i.monthsShort,s,u,3),MMMM:l(u,s),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,c,2),ddd:l(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:w.s(a,2,"0"),h:f(1),hh:f(2),a:h(a,o,!0),A:h(a,o,!1),m:String(o),mm:w.s(o,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(d,(function(e,t){return t||p[e]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,u,l){var d,f=w.p(u),h=b(e),p=6e4*(h.utcOffset()-this.utcOffset()),g=this-h,y=w.m(this,h);return y=(d={},d[c]=y/12,d[o]=y,d[s]=y/3,d[a]=(g-p)/6048e5,d[i]=(g-p)/864e5,d[r]=g/36e5,d[n]=g/6e4,d[t]=g/1e3,d)[f]||g,l?y:w.a(y)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return y[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=v(e,t,!0);return r&&(n.$L=r),n},h.clone=function(){return w.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),O=S.prototype;return b.prototype=O,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W",i],["$M",o],["$y",c],["$D",u]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),b.extend=function(e,t){return e(t,S,b),b},b.locale=v,b.isDayjs=m,b.unix=function(e){return b(1e3*e)},b.en=y[g],b.Ls=y,b.p={},b}()}));const Pc=pr("rangeFacet/updateSortCriterion",(e=>Yr(e,{facetId:Cs,criterion:new Er({required:!0})}))),Tc={state:Ur,start:new jr({required:!0}),end:new jr({required:!0}),endInclusive:new Pr({required:!0}),numberOfResults:new jr({required:!0,min:0})},_c={start:Ur,end:Ur,endInclusive:new Pr({required:!0}),state:Ur,numberOfResults:new jr({required:!0,min:0})},Fc=e=>({facetId:Cs,selection:"string"==typeof e.start?new Vr({values:_c}):new Vr({values:Tc})});var Mc=pi((function(e,t){e.exports=function(e,t,n){var r=t.prototype;n.utc=function(e){return new t({date:e,utc:!0,args:arguments})},r.utc=function(e){var t=n(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),"minute"):t},r.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var i=r.parse;r.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),i.call(this,e)};var a=r.init;r.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else a.call(this)};var o=r.utcOffset;r.utcOffset=function(e,t){var n=this.$utils().u;if(n(e))return this.$u?0:n(this.$offset)?o.call(this):this.$offset;var r=Math.abs(e)<=16?60*e:e,i=this;if(t)return i.$offset=r,i.$u=0===e,i;if(0!==e){var a=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(i=this.local().add(r+a,"minute")).$offset=r,i.$x.$localOffset=a}else i=this.utc();return i};var s=r.format;r.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,t)},r.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*e},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var c=r.toDate;r.toDate=function(e){return"s"===e&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var u=r.diff;r.diff=function(e,t,r){if(this.$u===e.$u)return u.call(this,e,t,r);var i=this.local(),a=n(e).local();return u.call(i,a,t,r)}}})),Vc=pi((function(e,t){var n,r,i,a,o,s,c,u,l,d,f,h;e.exports=(r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=[/[+-]\d\d:?\d\d/,function(e){var t,n;(this.zone||(this.zone={})).offset=0==(n=60*(t=e.match(/([+-]|\d\d)/g))[1]+ +t[2])?0:"+"===t[0]?-n:n}],l=function(e){var t=n[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var r,i=n.meridiem;if(i){for(var a=1;a<=24;a+=1)if(e.indexOf(i(a,0,t))>-1){r=a>12;break}}else r=e===(t?"pm":"PM");return r},f={A:[s=/\d*[^\s\d-:/()]+/,function(e){this.afternoon=d(e,!1)}],a:[s,function(e){this.afternoon=d(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[a=/\d\d/,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[o=/\d\d?/,(c=function(e){return function(t){this[e]=+t}})("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[a,c("day")],Do:[s,function(e){var t=n.ordinal,r=e.match(/\d+/);if(this.day=r[0],t)for(var i=1;i<=31;i+=1)t(i).replace(/\[|\]/g,"")===e&&(this.day=i)}],M:[o,c("month")],MM:[a,c("month")],MMM:[s,function(e){var t=l("months"),n=(l("monthsShort")||t.map((function(e){return e.substr(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[s,function(e){var t=l("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,c("year")],YY:[a,function(e){e=+e,this.year=e+(e>68?1900:2e3)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u},h=function(e,t,a){try{var o=function(e){for(var t=(e=function(e,t){return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,i){var a=i&&i.toUpperCase();return n||t[i]||r[i]||t[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(e,n&&n.formats)).match(i),a=t.length,o=0;o<a;o+=1){var s=t[o],c=f[s],u=c&&c[0],l=c&&c[1];t[o]=l?{regex:u,parser:l}:s.replace(/^\[|\]$/g,"")}return function(e){for(var n={},r=0,i=0;r<a;r+=1){var o=t[r];if("string"==typeof o)i+=o.length;else{var s=o.regex,c=o.parser,u=e.substr(i),l=s.exec(u)[0];c.call(n,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(n),n}}(t)(e),s=o.year,c=o.month,u=o.day,l=o.hours,d=o.minutes,h=o.seconds,p=o.milliseconds,g=o.zone,y=new Date,m=u||(s||c?1:y.getDate()),v=s||y.getFullYear(),b=0;s&&!c||(b=c>0?c-1:y.getMonth());var w=l||0,S=d||0,O=h||0,C=p||0;return g?new Date(Date.UTC(v,b,m,w,S,O,C+60*g.offset*1e3)):a?new Date(Date.UTC(v,b,m,w,S,O,C)):new Date(v,b,m,w,S,O,C)}catch(x){return new Date("")}},function(e,t,r){r.p.customParseFormat=!0;var i=t.prototype,a=i.parse;i.parse=function(e){var t=e.date,i=e.utc,o=e.args;this.$u=i;var s=o[1];if("string"==typeof s){var c=!0===o[2],u=!0===o[3],l=c||u,d=o[2];u&&(d=o[2]),c||(n=d?r.Ls[d]:this.$locale()),this.$d=h(t,s,i),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),l&&t!==this.format(s)&&(this.$d=new Date("")),n=void 0}else if(s instanceof Array)for(var f=s.length,p=1;p<=f;p+=1){o[1]=s[p-1];var g=r.apply(this,o);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}p===f&&(this.$d=new Date(""))}else a.call(this,e)}})}));function Dc(e,t){const{dateFormat:n,useLocalTime:r}=t,i=Rc(e,n);if(!i.isValid())throw new Error(`Could not parse the provided date "${e}".\n      Please provide a dateFormat string in the configuration options.\n      See https://day.js.org/docs/en/parse/string-format for more information.\n       `);return function(e){return e.format("YYYY/MM/DD@HH:mm:ss")}(r?i:i.utc())}Rc.extend(Mc),Rc.extend(Vc);const Lc={start:Ur,end:Ur,endInclusive:new Pr({required:!0}),state:Ur},Nc={facetId:Cs,field:Ur,currentValues:new Lr({required:!1,each:new Vr({values:Lc})}),generateAutomaticRanges:new Pr({required:!0}),filterFacetCount:new Pr({required:!1}),injectionDepth:new jr({required:!1,min:0}),numberOfValues:new jr({required:!1,min:1}),sortCriteria:new Er({required:!1})};function zc(e){e.currentValues&&e.currentValues.forEach((e=>{const{start:t,end:n}=function(e){var t,n;return{start:Dc(e.start,e),end:Dc(e.end,e),endInclusive:null!==(t=e.endInclusive)&&void 0!==t&&t,state:null!==(n=e.state)&&void 0!==n?n:"idle"}}(e);if(Rc(t).isAfter(Rc(n)))throw new Error(`The start value is greater than the end value for the date range ${e.start} to ${e.end}`)}))}const Uc=pr("dateFacet/register",(e=>{try{return Br(e,Nc),zc(e),{payload:e,error:null}}catch(Mn){return{payload:e,error:Qr(Mn)}}})),Hc=pr("dateFacet/toggleSelectValue",(e=>Yr(e,{facetId:Cs,selection:new Vr({values:_c})}))),Qc=Pc,Bc=Es,Yc={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"ascending"};function Wc(e,t){const{facetId:n}=t;if(n in e)return;const r=function(e){const{generateAutomaticRanges:t,currentValues:n,numberOfValues:r}=e;return t?Math.max(r,n.length):n.length}(t);e[n]=c(s({},t),{numberOfValues:r})}function Jc(e,t,n){const r=e[t];if(!r)return;const i=Xc(r.currentValues,n);if(!i)return;const a="selected"===i.state;i.state=a?"idle":"selected",r.preventAutoSelect=!0}function Kc(e,t){const n=e[t];n&&n.currentValues.forEach((e=>e.state="idle"))}function Zc(e,t){Object.entries(e).forEach((([e,n])=>{const r=t[e]||[];n.currentValues.forEach((e=>{const t=!!Xc(r,e);return e.state=t?"selected":"idle",e}));const i=r.filter((e=>!Xc(n.currentValues,e))),a=n.currentValues;a.push(...i),n.numberOfValues=Math.max(n.numberOfValues,a.length)}))}function Gc(e,t,n){t.forEach((t=>{const r=t.facetId,i=e[r];if(!i)return;const a=n(t.values);i.currentValues=a,i.preventAutoSelect=!1}))}function Xc(e,t){const{start:n,end:r}=t;return e.find((e=>e.start===n&&e.end===r))}const eu=gr({},(e=>{e.addCase(Uc,((e,t)=>{const{payload:n}=t;var r;Wc(e,(r=n,s(c(s({},Yc),{currentValues:[],preventAutoSelect:!1,type:"dateRange"}),r)))})).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.dateFacetSet)&&void 0!==r?r:e})).addCase(Xr,((e,t)=>{Zc(e,t.payload.df||{})})).addCase(Hc,((e,t)=>{const{facetId:n,selection:r}=t.payload;Jc(e,n,r)})).addCase(Bc,((e,t)=>{Kc(e,t.payload)})).addCase(Ws,(e=>{Object.keys(e).forEach((t=>{Kc(e,t)}))})).addCase(Qc,((e,t)=>{Ns(e,t.payload)})).addCase(cs.fulfilled,((e,t)=>{Gc(e,t.payload.response.facets,tu)}))}));function tu(e){return e.map((e=>{const t=e,{numberOfResults:n}=t;return u(t,["numberOfResults"])}))}const nu={state:Ur,start:new jr({required:!0}),end:new jr({required:!0}),endInclusive:new Pr({required:!0})},ru={facetId:Cs,field:Ur,currentValues:new Lr({required:!1,each:new Vr({values:nu})}),generateAutomaticRanges:new Pr({required:!0}),filterFacetCount:new Pr({required:!1}),injectionDepth:new jr({required:!1,min:0}),numberOfValues:new jr({required:!1,min:1}),sortCriteria:new Er({required:!1})};const iu=pr("numericFacet/register",(e=>{try{return Yr(e,ru),function(e){e.currentValues&&e.currentValues.forEach((({start:e,end:t})=>{if(e>t)throw new Error(`The start value is greater than the end value for the numeric range ${e} to ${t}`)}))}(e),{payload:e,error:null}}catch(Mn){return{payload:e,error:Qr(Mn)}}})),au=pr("numericFacet/toggleSelectValue",(e=>Yr(e,{facetId:Cs,selection:new Vr({values:Tc})}))),ou=Pc,su=Es,cu=gr({},(e=>{e.addCase(iu,((e,t)=>{const{payload:n}=t;var r;Wc(e,(r=n,s(c(s({},Yc),{currentValues:[],preventAutoSelect:!1,type:"numericalRange"}),r)))})).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.numericFacetSet)&&void 0!==r?r:e})).addCase(Xr,((e,t)=>{Zc(e,t.payload.nf||{})})).addCase(au,((e,t)=>{const{facetId:n,selection:r}=t.payload;Jc(e,n,r)})).addCase(su,((e,t)=>{Kc(e,t.payload)})).addCase(Ws,(e=>{Object.keys(e).forEach((t=>{Kc(e,t)}))})).addCase(ou,((e,t)=>{Ns(e,t.payload)})).addCase(cs.fulfilled,((e,t)=>{Gc(e,t.payload.response.facets,uu)}))}));function uu(e){return e.map((e=>{const t=e,{numberOfResults:n}=t;return u(t,["numberOfResults"])}))}const lu=new Lr({each:Ur,required:!0}),du=pr("fields/registerFieldsToInclude",(e=>Yr(e,lu))),fu=gr({fieldsToInclude:["author","language","urihash","objecttype","collection","source","permanentid"]},(e=>e.addCase(du,((e,t)=>{e.fieldsToInclude=[...new Set(e.fieldsToInclude.concat(t.payload))]}))));function hu(e){return""===e.trim()}const pu=gr(rs(),(e=>{e.addCase(Or,((e,t)=>gu(e,t.payload)?void 0:t.payload))})),gu=(e,t)=>yu(e.context,t.context)&&Su(e.advancedSearchQueries,t.advancedSearchQueries)&&mu(e.facetSet,t.facetSet)&&mu(e.dateFacetSet,t.dateFacetSet)&&mu(e.numericFacetSet,t.numericFacetSet)&&vu(e.categoryFacetSet,t.categoryFacetSet)&&bu(e.pagination,t.pagination)&&wu(e.query,t.query)&&Ou(e,t)&&Cu(e.pipeline,t.pipeline)&&xu(e.searchHub,t.searchHub)&&qu(e.facetOrder,t.facetOrder)&&$u(e.debug,t.debug),yu=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),mu=(e,t)=>{for(const[n,r]of Object.entries(t)){if(!e[n])return!1;const t=e[n].currentValues.filter((e=>"selected"===e.state)),i=r.currentValues.filter((e=>"selected"===e.state));if(JSON.stringify(t)!==JSON.stringify(i))return!1}return!0},vu=(e,t)=>{var n;for(const[r,i]of Object.entries(t)){if(!e[r])return!1;const t=jo(null===(n=e[r])||void 0===n?void 0:n.request.currentValues).parents.map((({value:e})=>e)),a=jo(null==i?void 0:i.request.currentValues).parents.map((({value:e})=>e));if(JSON.stringify(t)!==JSON.stringify(a))return!1}return!0},bu=(e,t)=>e.firstResult===t.firstResult&&e.numberOfResults===t.numberOfResults,wu=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Su=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Ou=(e,t)=>e.sortCriteria===t.sortCriteria,Cu=(e,t)=>e===t,xu=(e,t)=>e===t,qu=(e,t)=>{return r=t,(n=e).length===r.length&&-1===n.findIndex(((e,t)=>r[t]!==e));var n,r},$u=(e,t)=>e===t,Iu=new jr({required:!0,min:0}),Eu=pr("pagination/registerNumberOfResults",(e=>Yr(e,Iu))),ku=pr("pagination/updateNumberOfResults",(e=>Yr(e,Iu))),Au=pr("pagination/registerPage",(e=>Yr(e,Iu))),ju=pr("pagination/updatePage",(e=>Yr(e,Iu))),Ru=pr("pagination/nextPage"),Pu=pr("pagination/previousPage"),Tu=gr({firstResult:0,numberOfResults:10,totalCountFiltered:0},(e=>{e.addCase(Eu,((e,t)=>{const n=_u(e),r=t.payload;e.numberOfResults=r,e.firstResult=Fu(n,r)})).addCase(ku,((e,t)=>{e.numberOfResults=t.payload,e.firstResult=0})).addCase(Au,((e,t)=>{const n=t.payload;e.firstResult=Fu(n,e.numberOfResults)})).addCase(ju,((e,t)=>{const n=t.payload;e.firstResult=Fu(n,e.numberOfResults)})).addCase(Pu,(e=>{const t=_u(e),n=Math.max(t-1,1);e.firstResult=Fu(n,e.numberOfResults)})).addCase(Ru,(e=>{const t=_u(e),n=function(e){const{totalCountFiltered:t,numberOfResults:n}=e;return Vu(t,n)}(e),r=Math.min(t+1,n);e.firstResult=Fu(r,e.numberOfResults)})).addCase(qr.fulfilled,((e,t)=>{t.payload&&(e.numberOfResults=t.payload.pagination.numberOfResults,e.firstResult=t.payload.pagination.firstResult)})).addCase(Xr,((e,t)=>{var n,r;e.firstResult=null!==(n=t.payload.firstResult)&&void 0!==n?n:e.firstResult,e.numberOfResults=null!==(r=t.payload.numberOfResults)&&void 0!==r?r:e.numberOfResults})).addCase(cs.fulfilled,((e,t)=>{const{response:n}=t.payload;e.totalCountFiltered=n.totalCountFiltered}))}));function _u(e){const{firstResult:t,numberOfResults:n}=e;return Mu(t,n)}function Fu(e,t){return(e-1)*t}function Mu(e,t){return e/t+1}function Vu(e,t){const n=Math.min(e,1e3);return Math.ceil(n/t)}const Du=pr("pipeline/set",(e=>Yr(e,new Fr({required:!0,emptyAllowed:!0})))),Lu=gr("default",(e=>{e.addCase(Du,((e,t)=>t.payload)).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.pipeline)&&void 0!==r?r:e})).addCase(ai,((e,t)=>t.payload.pipeline||e))})),Nu=["permanentid","ec_name","ec_brand","ec_category","ec_price","ec_promo_price","ec_shortdesc","ec_thumbnails","ec_images","ec_in_stock","ec_rating"];class zu{constructor(e){this.state=e,this.initialState={id:"",skus:[],maxNumberOfRecommendations:5,filter:{brand:"",category:""},additionalFields:[],recommendations:[],error:null,isLoading:!1,searchUid:"",duration:0}}getLanguage(){return ko(this.state)}getSearchEventRequestPayload(){return{queryText:"",responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getBaseMetadata(){var e;return{recommendation:(null===(e=this.state.productRecommendations)||void 0===e?void 0:e.id)||this.initialState.id}}getSearchUID(){var e;return(null===(e=this.state.productRecommendations)||void 0===e?void 0:e.searchUid)||this.initialState.searchUid}getPipeline(){return""}getOriginLevel1(){return this.state.searchHub||"default"}getOriginLevel2(){return this.state.configuration.analytics.originLevel2||"default"}getOriginLevel3(){return this.state.configuration.analytics.originLevel3||"default"}mapResultsToAnalyticsDocument(){return[]}get responseTime(){var e;return(null===(e=this.state.productRecommendations)||void 0===e?void 0:e.duration)||this.initialState.duration}get numberOfResults(){var e;return(null===(e=this.state.productRecommendations)||void 0===e?void 0:e.recommendations.length)||this.initialState.recommendations.length}}const Uu=Uo("analytics/productrecommendations/load",zo.Search,(e=>e.logRecommendationInterfaceLoad()),(e=>new zu(e))),Hu=pr("productrecommendations/setId",(e=>Yr(e,{id:Ur}))),Qu=pr("productrecommendations/setSku",(e=>Yr(e,{skus:new Lr({required:!0,min:1,each:new Fr({emptyAllowed:!1})})}))),Bu=pr("productrecommendations/setBrand",(e=>Yr(e,{brand:new Fr({required:!0,emptyAllowed:!0})}))),Yu=pr("productrecommendations/setCategory",(e=>Yr(e,{category:new Fr({required:!0,emptyAllowed:!0})}))),Wu=pr("productrecommendations/setAdditionalFields",(e=>Yr(e,{additionalFields:new Lr({required:!0,each:new Fr({emptyAllowed:!1})})}))),Ju=pr("productrecommendations/setMaxNumberOfRecommendations",(e=>Yr(e,{number:new jr({required:!0,max:50,min:1})}))),Ku=br("productrecommendations/get",(async(e,{getState:t,rejectWithValue:n,extra:{searchAPIClient:r}})=>{const i=t(),a=(new Date).getTime(),o=await r.productRecommendations(Xu(i)),c=(new Date).getTime()-a;return da(o)?n(o.error):{recommendations:o.success.results.map((e=>s(s({},Gu(e)),Zu(e,{additionalFields:i.productRecommendations.additionalFields||[]})))),analyticsAction:Uu(),searchUid:o.success.searchUid,duration:c}})),Zu=(e,{additionalFields:t})=>{const n=e.raw.ec_price,r=e.raw.ec_promo_price,i=e.raw.ec_in_stock;return{permanentid:e.raw.permanentid,clickUri:e.clickUri,ec_name:e.raw.ec_name,ec_brand:e.raw.ec_brand,ec_category:e.raw.ec_category,ec_price:n,ec_shortdesc:e.raw.ec_shortdesc,ec_thumbnails:e.raw.ec_thumbnails,ec_images:e.raw.ec_images,ec_promo_price:void 0===r||void 0!==n&&r>=n?void 0:r,ec_in_stock:void 0===i?void 0:"yes"===i.toLowerCase()||"true"===i.toLowerCase(),ec_rating:e.raw.ec_rating,additionalFields:t.reduce(((t,n)=>c(s({},t),{[n]:e.raw[n]})),{})}},Gu=e=>{const t=e.raw.ec_price,n=e.raw.ec_promo_price,r=e.raw.ec_in_stock;return{sku:e.raw.permanentid,name:e.raw.ec_name,link:e.clickUri,brand:e.raw.ec_brand,category:e.raw.ec_category,price:t,shortDescription:e.raw.ec_shortdesc,thumbnailUrl:e.raw.ec_thumbnail,imageUrls:e.raw.ec_images,promoPrice:void 0===n||void 0!==t&&n>=t?void 0:n,inStock:void 0===r?void 0:"yes"===r.toLowerCase(),rating:e.raw.ec_rating}},Xu=e=>s(s(c(s({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale},e.configuration.analytics.enabled&&{visitorId:Lo()}),{recommendation:e.productRecommendations.id,numberOfResults:e.productRecommendations.maxNumberOfRecommendations,fieldsToInclude:[...Nu,...e.productRecommendations.additionalFields||[]],mlParameters:s(s(s({},e.productRecommendations.skus&&e.productRecommendations.skus.length>0&&{itemIds:e.productRecommendations.skus}),e.productRecommendations.filter.brand&&{brandFilter:e.productRecommendations.filter.brand}),e.productRecommendations.filter.category&&{categoryFilter:e.productRecommendations.filter.category}),actionsHistory:e.configuration.analytics.enabled?No.getHistory():[]}),e.context&&{context:e.context.contextValues}),e.searchHub&&{searchHub:e.searchHub});gr({id:"",skus:[],maxNumberOfRecommendations:5,filter:{brand:"",category:""},additionalFields:[],recommendations:[],error:null,isLoading:!1,searchUid:"",duration:0},(e=>{e.addCase(Hu,((e,t)=>{e.id=t.payload.id})).addCase(Qu,((e,t)=>{e.skus=t.payload.skus})).addCase(Bu,((e,t)=>{e.filter.brand=t.payload.brand})).addCase(Yu,((e,t)=>{e.filter.category=t.payload.category})).addCase(Ju,((e,t)=>{e.maxNumberOfRecommendations=t.payload.number})).addCase(Wu,((e,t)=>{e.additionalFields=t.payload.additionalFields})).addCase(Ku.rejected,((e,t)=>{e.error=t.payload?t.payload:null,e.isLoading=!1})).addCase(Ku.fulfilled,((e,t)=>{e.error=null,e.searchUid=t.payload.searchUid,e.recommendations=t.payload.recommendations,e.isLoading=!1})).addCase(Ku.pending,(e=>{e.isLoading=!0}))}));const el={id:Ur,query:Hr},tl=pr("querySet/register",(e=>Yr(e,el))),nl=pr("querySet/update",(e=>Yr(e,el))),rl={id:Ur},il=pr("querySuggest/register",(e=>Yr(e,c(s({},rl),{q:new Fr,count:new jr({min:0})})))),al=pr("querySuggest/unregister",(e=>Yr(e,rl))),ol=pr("querySuggest/selectSuggestion",(e=>Yr(e,c(s({},rl),{expression:Hr})))),sl=pr("querySuggest/clear",(e=>Yr(e,rl))),cl=pr("querySuggest/clearSuggestions",(e=>Yr(e,rl))),ul=br("querySuggest/fetch",(async(e,{getState:t,rejectWithValue:n,extra:{searchAPIClient:r,validatePayload:i}})=>{i(e,rl);const a=e.id,o=await r.querySuggest(ll(a,t()));return da(o)?n(s({id:a},o.error)):s({id:a},o.success)})),ll=(e,t)=>s(s(s({accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,url:t.configuration.search.apiBaseUrl,count:t.querySuggest[e].count,q:t.querySuggest[e].q,locale:t.configuration.search.locale,actionsHistory:t.configuration.analytics.enabled?No.getHistory():[]},t.context&&{context:t.context.contextValues}),t.pipeline&&{pipeline:t.pipeline}),t.searchHub&&{searchHub:t.searchHub}),dl=gr({},(e=>{e.addCase(tl,((e,t)=>{const{id:n,query:r}=t.payload;n in e||(e[n]=r)})).addCase(nl,((e,t)=>{const{id:n,query:r}=t.payload;fl(e,n,r)})).addCase(ol,((e,t)=>{const{id:n,expression:r}=t.payload;fl(e,n,r)})).addCase(cs.fulfilled,((e,t)=>{const{queryExecuted:n}=t.payload;Object.keys(e).forEach((t=>e[t]=n))})).addCase(qr.fulfilled,((e,t)=>{if(t.payload)for(const[n,r]of Object.entries(t.payload.querySet))fl(e,n,r)}))})),fl=(e,t,n)=>{t in e&&(e[t]=n)},hl=gr({},(e=>e.addCase(il,((e,t)=>{e[t.payload.id]=s({id:"",completions:[],count:5,q:"",currentRequestId:"",error:null,partialQueries:[]},t.payload)})).addCase(al,((e,t)=>{delete e[t.payload.id]})).addCase(ul.pending,((e,t)=>{e[t.meta.arg.id].currentRequestId=t.meta.requestId})).addCase(ul.fulfilled,((e,t)=>{var n;const r=t.meta.arg.id;if(t.meta.requestId===(null===(n=e[r])||void 0===n?void 0:n.currentRequestId)){const{q:n}=e[r];n&&e[r].partialQueries.push(n),e[r].completions=t.payload.completions}})).addCase(ul.rejected,((e,t)=>{e[t.payload.id].error=t.payload})).addCase(nl,((e,t)=>{const{id:n,query:r}=t.payload;n in e&&(e[n].q=r)})).addCase(sl,((e,t)=>{const{id:n}=t.payload;e[n].q="",e[n].completions=[]})).addCase(cl,((e,t)=>{e[t.payload.id].completions=[]})).addCase(ol,((e,t)=>{const{id:n,expression:r}=t.payload;e[n].q=r,e[n].completions=[]})).addCase(cs.fulfilled,(e=>{for(const t of Object.values(e))t&&(t.partialQueries=[])})))),pl=gr({q:"",enableQuerySyntax:!1},(e=>e.addCase(Go,((e,t)=>s(s({},e),t.payload))).addCase(na,((e,t)=>{e.q=t.payload})).addCase(ol,((e,t)=>{e.q=t.payload.expression})).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.query)&&void 0!==r?r:e})).addCase(Xr,((e,t)=>{var n,r;e.q=null!==(n=t.payload.q)&&void 0!==n?n:e.q,e.enableQuerySyntax=null!==(r=t.payload.enableQuerySyntax)&&void 0!==r?r:e.enableQuerySyntax})))),gl=Uo("analytics/recommendation/update",zo.Search,(e=>e.logRecommendationInterfaceLoad())),yl=pr("recommendation/set",(e=>Yr(e,{id:Ur}))),ml=br("recommendation/get",(async(e,{getState:t,rejectWithValue:n,extra:{searchAPIClient:r}})=>{const i=t(),a=(new Date).getTime(),o=await r.recommendations(vl(i)),s=(new Date).getTime()-a;return da(o)?n(o.error):{recommendations:o.success.results,analyticsAction:gl(),duration:s,searchUid:o.success.searchUid}})),vl=e=>s(s(s(s(s({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,recommendation:e.recommendation.id,actionsHistory:e.configuration.analytics.enabled?No.getHistory():[]},e.advancedSearchQueries&&{aq:e.advancedSearchQueries.aq,cq:e.advancedSearchQueries.cq}),e.pipeline&&{pipeline:e.pipeline}),e.searchHub&&{searchHub:e.searchHub}),e.context&&{context:e.context.contextValues}),e.fields&&{fieldsToInclude:e.fields.fieldsToInclude});function bl(e){return"redirect"===e.type}gr({duration:0,error:null,isLoading:!1,id:"Recommendation",recommendations:[],searchUid:""},(e=>{e.addCase(yl,((e,t)=>{e.id=t.payload.id})).addCase(ml.rejected,((e,t)=>{e.error=t.payload?t.payload:null,e.isLoading=!1})).addCase(ml.fulfilled,((e,t)=>{e.error=null,e.recommendations=t.payload.recommendations,e.duration=t.payload.duration,e.isLoading=!1,e.searchUid=t.payload.searchUid})).addCase(ml.pending,(e=>{e.isLoading=!0}))}));class wl{constructor(e){this.response=e}get basicExpression(){return this.response.parsedInput.basicExpression}get largeExpression(){return this.response.parsedInput.largeExpression}get redirectionUrl(){const e=this.response.preprocessingOutput.triggers.filter(bl);return e.length?e[0].content:null}}const Sl=Uo("analytics/trigger/redirection",zo.Search,((e,t)=>{if(t.redirection&&null!==t.redirection.redirectTo)return e.logTriggerRedirect({redirectedTo:t.redirection.redirectTo})})),Ol=br("redirection/check",(async(e,{dispatch:t,getState:n,rejectWithValue:r,extra:{searchAPIClient:i,validatePayload:a}})=>{a(e,{defaultRedirectionUrl:new Fr({emptyAllowed:!1,url:!0})});const o=await i.plan(Cl(n()));if(da(o))return r(o.error);const s=new wl(o.success).redirectionUrl;return s&&t(Sl()),s||e.defaultRedirectionUrl})),Cl=e=>s(s(s({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,q:e.query.q},e.context&&{context:e.context.contextValues}),e.pipeline&&{pipeline:e.pipeline}),e.searchHub&&{searchHub:e.searchHub}),xl=gr({redirectTo:null},(e=>e.addCase(Ol.fulfilled,((e,t)=>{e.redirectTo=t.payload})))),ql=br("resultPreview/fetchResultContent",(async(e,{extra:t,getState:n,rejectWithValue:r})=>{const i=function(e,t){var n;const{search:r,accessToken:i,organizationId:a}=e.configuration,o=(null===(n=e.query)||void 0===n?void 0:n.q)||"";return s({url:r.apiBaseUrl,accessToken:i,organizationId:a,enableNavigation:!1,requestedOutputSize:0,q:o},t)}(n(),e),a=await t.searchAPIClient.html(i);return da(a)?r(a.error):{content:a.success,uniqueId:e.uniqueId}})),$l=gr({uniqueId:"",content:"",isLoading:!1},(e=>{e.addCase(ql.pending,(e=>{e.isLoading=!0})).addCase(ql.fulfilled,((e,t)=>{const{content:n,uniqueId:r}=t.payload;e.content=n,e.uniqueId=r,e.isLoading=!1}))})),Il=pr("searchHub/set",(e=>Yr(e,new Fr({required:!0,emptyAllowed:!0})))),El=gr("default",(e=>{e.addCase(Il,((e,t)=>t.payload)).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.searchHub)&&void 0!==r?r:e})).addCase(ai,((e,t)=>t.payload.searchHub||e))}));function kl(e,t){e.error=t.payload?t.payload:null,e.isLoading=!1}function Al(e,t){e.error=null,e.response=t.payload.response,e.queryExecuted=t.payload.queryExecuted,e.duration=t.payload.duration,e.isLoading=!1}function jl(e){e.isLoading=!0}const Rl=gr({response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],queryCorrections:[]},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[]},(e=>{e.addCase(cs.rejected,kl),e.addCase(us.rejected,kl),e.addCase(cs.fulfilled,((e,t)=>{Al(e,t),e.results=t.payload.response.results})),e.addCase(us.fulfilled,((e,t)=>{Al(e,t),e.results=[...e.results,...t.payload.response.results]})),e.addCase(cs.pending,jl),e.addCase(us.pending,jl)})),Pl={by:new zr({enum:es,required:!0})},Tl=pr("sortCriteria/register",(e=>Fl(e))),_l=pr("sortCriteria/update",(e=>Fl(e))),Fl=e=>Nr(e)?(e.forEach((e=>Yr(e,Pl))),{payload:e}):Yr(e,Pl),Ml=gr(ns(),(e=>{e.addCase(Tl,((e,t)=>ts(t.payload))).addCase(_l,((e,t)=>ts(t.payload))).addCase(qr.fulfilled,((e,t)=>{var n,r;return null!==(r=null===(n=t.payload)||void 0===n?void 0:n.sortCriteria)&&void 0!==r?r:e})).addCase(Xr,((e,t)=>{var n;return null!==(n=t.payload.sortCriteria)&&void 0!==n?n:e}))})),Vl=e=>({past:[],present:e,future:[]}),Dl=Ui,Ll=Tu,Nl=Ec,zl=$c,Ul=Rl,Hl=eu,Ql=ec,Bl=cu,Yl=Zs,Wl=Os,Jl=xc,Kl=pl,Zl=ei,Gl=dl,Xl=xl,ed=hl,td=Ml,nd=Ji,rd=ws,id=fu,ad=Lu,od=El,sd=Gi,cd=$l,ud=Xi,ld=(e=>{const{actionTypes:t,reducer:n}=e,r=Vl();return(e=r,i)=>{switch(i.type){case t.undo:return(e=>{const{past:t,present:n,future:r}=e;if(!n)return e;if(0===t.length)return e;const i=t[t.length-1];return{past:t.slice(0,t.length-1),present:i,future:[n,...r]}})(e);case t.redo:return(e=>{const{past:t,present:n,future:r}=e;return n?0===r.length?e:{past:[...t,n],present:r[0],future:r.slice(1)}:e})(e);case t.snapshot:return(e=>{const{action:t,state:n,reducer:r}=e,{past:i,present:a}=n,o=r(a,t);return a?a===o?n:{past:[...i,a],present:o,future:[]}:Vl(o)})({state:e,reducer:n,action:i});default:return e}}})({actionTypes:{redo:Sr.type,undo:wr.type,snapshot:Or.type},reducer:pu}),dd=e=>e,fd=e=>e,hd=e=>e,pd=e=>e,gd=e=>t=>n=>{var r,i;const a=null===(r=n.payload)||void 0===r?void 0:r.analyticsAction;void 0!==a&&(null===(i=n.payload)||void 0===i||delete i.analyticsAction);const o=t(n);return n.type===cs.fulfilled.type&&void 0===a&&console.error("No analytics action associated with search:",n),n.type===ml.fulfilled&&void 0===a&&console.error("No analytics action associated with recommendation:",n),n.type===Ku.fulfilled&&void 0===a&&console.error("No analytics action associated with product recommendation:",n),void 0!==a&&e.dispatch(a),o},yd=e=>()=>t=>n=>{if(!n.error)return t(n);const r=n.error;return e.error(r.stack||r.message||r.name||"Error","Action dispatch error "+n.type,n),"SchemaValidationError"!==n.error.name?t(n):void 0},md=e=>t=>n=>r=>(e.debug({action:r,nextState:t.getState()},"Action dispatched: "+r.type),n(r)),vd={configuration:Dl,version:ud};function bd(e,t){const n=function(e,t){const{configuration:n,reducers:r}=e,i=function(e){const t=s({},e);return{get combinedReducer(){return Qn(t)},add(e){Object.keys(e).filter((e=>!(e in t))).forEach((n=>t[n]=e[n]))}}}(s(s({},vd),r)),a=t.logger,o=function(e,t,n){const{preloadedState:r,middlewares:i}=e;return function({reducer:e,preloadedState:t,middlewares:n=[],thunkExtraArguments:r}){return function(e){var t,n=function(e){return hr(e)},r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,c=r.devTools,u=void 0===c||c,l=r.preloadedState,d=void 0===l?void 0:l,f=r.enhancers,h=void 0===f?void 0:f;if("function"==typeof a)t=a;else{if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Qn(a)}var p=Zn.apply(void 0,"function"==typeof s?s(n):s),g=Kn;u&&(g=dr(ar({trace:!1},"object"==typeof u&&u)));var y=[p];return Array.isArray(h)?y=[p].concat(h):"function"==typeof h&&(y=h(y)),Un(t,d,g.apply(void 0,y))}({reducer:e,preloadedState:t,devTools:{stateSanitizer:e=>e.history?c(s({},e),{history:"<<OMIT>>"}):e},middleware:e=>[yd(r.logger),gd,...n,...e({thunk:{extraArgument:r}}),md(r.logger)]})}({preloadedState:r,reducer:n.combinedReducer,middlewares:i,thunkExtraArguments:t})}(e,t,i);return{renewAccessToken:wd(n,o.dispatch),addReducers(e){i.add(e),o.replaceReducer(i.combinedReducer)},dispatch:o.dispatch,subscribe:o.subscribe,get state(){return o.getState()},logger:a,store:o}}(e,t),{accessToken:r,organizationId:i,platformUrl:a,analytics:o}=e.configuration;if(n.dispatch(ii({accessToken:r,organizationId:i,platformUrl:a})),o){const e=o,{analyticsClientMiddleware:t}=e,r=u(e,["analyticsClientMiddleware"]);n.dispatch(oi(r))}return n}function wd(e,t){let n=0;const r=function(e,t,n){var r,i,a;void 0===t&&(t=50),void 0===n&&(n={});var o=null!=(r=n.isImmediate)&&r,s=null!=(i=n.callback)&&i,c=n.maxWait,u=Date.now(),l=[];function d(){if(void 0!==c){var e=Date.now()-u;if(e+t>=c)return c-e}return t}var f=function(){var t=[].slice.call(arguments),n=this;return new Promise((function(r,i){var c=o&&void 0===a;if(void 0!==a&&clearTimeout(a),a=setTimeout((function(){if(a=void 0,u=Date.now(),!o){var r=e.apply(n,t);s&&s(r),l.forEach((function(e){return(0,e.resolve)(r)})),l=[]}}),d()),c){var f=e.apply(n,t);return s&&s(f),r(f)}l.push({resolve:r,reject:i})}))};return f.cancel=function(e){void 0!==a&&clearTimeout(a),l.forEach((function(t){return(0,t.reject)(e)})),l=[]},f}((()=>n=0),500);return async()=>{if(!e.renewAccessToken)return"";if(n++,r(),n>5)return"";try{const n=await e.renewAccessToken();return t(ii({accessToken:n})),n}catch(i){return""}}}const Sd={organizationId:Ur,accessToken:Ur,platformUrl:new Fr({required:!1,emptyAllowed:!1}),analytics:new Vr({options:{required:!1},values:{enabled:new Pr({required:!1}),originLevel2:new Fr({required:!1}),originLevel3:new Fr({required:!1})}})};function Od(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}var Cd=function(e,t,n){var r=n&&n.stringify||Od;if("object"==typeof e&&null!==e){var i=t.length+1;if(1===i)return e;var a=new Array(i);a[0]=r(e);for(var o=1;o<i;o++)a[o]=r(t[o]);return a.join(" ")}if("string"!=typeof e)return e;var s=t.length;if(0===s)return e;for(var c="",u=0,l=-1,d=e&&e.length||0,f=0;f<d;){if(37===e.charCodeAt(f)&&f+1<d){switch(l=l>-1?l:0,e.charCodeAt(f+1)){case 100:if(u>=s)break;if(l<f&&(c+=e.slice(l,f)),null==t[u])break;c+=Number(t[u]),l=f+=2;break;case 79:case 111:case 106:if(u>=s)break;if(l<f&&(c+=e.slice(l,f)),void 0===t[u])break;var h=typeof t[u];if("string"===h){c+="'"+t[u]+"'",l=f+2,f++;break}if("function"===h){c+=t[u].name||"<anonymous>",l=f+2,f++;break}c+=r(t[u]),l=f+2,f++;break;case 115:if(u>=s)break;l<f&&(c+=e.slice(l,f)),c+=String(t[u]),l=f+2,f++;break;case 37:l<f&&(c+=e.slice(l,f)),c+="%",l=f+2,f++}++u}++f}return-1===l?e:(l<d&&(c+=e.slice(l)),c)},xd=Id;const qd=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(Mn){return e(self)||e(window)||e(this)||{}}}().console||{},$d={mapHttpRequest:_d,mapHttpResponse:_d,wrapRequestSerializer:Fd,wrapResponseSerializer:Fd,wrapErrorSerializer:Fd,req:_d,res:_d,err:function(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}};function Id(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||qd;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},i=(a=e.browser.serialize,o=r,Array.isArray(a)?a.filter((function(e){return"!stdSerializers.err"!==e})):!0===a&&Object.keys(o));var a,o;let s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1),"function"==typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");const c=e.level||"info",u=Object.create(n);u.log||(u.log=Md),Object.defineProperty(u,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(u,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,Ed(l,u,"error","log"),Ed(l,u,"fatal","error"),Ed(l,u,"warn","error"),Ed(l,u,"info","log"),Ed(l,u,"debug","log"),Ed(l,u,"trace","log")}});const l={transmit:t,serialize:i,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:Td(e)};return u.levels=Id.levels,u.level=c,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=Md,u.serializers=r,u._serialize=i,u._stdErrSerialize=s,u.child=function(n){if(!n)throw new Error("missing bindings for child Pino");const a=n.serializers;if(i&&a){var o=Object.assign({},r,a),s=!0===e.browser.serialize?Object.keys(o):i;delete n.serializers,Ad([n],s,o,this._stdErrSerialize)}function c(e){this._childLevel=1+(0|e._childLevel),this.error=jd(e,n,"error"),this.fatal=jd(e,n,"fatal"),this.warn=jd(e,n,"warn"),this.info=jd(e,n,"info"),this.debug=jd(e,n,"debug"),this.trace=jd(e,n,"trace"),o&&(this.serializers=o,this._serialize=s),t&&(this._logEvent=Pd([].concat(e._logEvent.bindings,n)))}return c.prototype=this,new c(this)},t&&(u._logEvent=Pd()),u}function Ed(e,t,n,r){const i=Object.getPrototypeOf(t);var a,o,s,c;t[n]=t.levelVal>t.levels.values[n]?Md:i[n]?i[n]:qd[n]||qd[r]||Md,o=t,s=n,((a=e).transmit||o[s]!==Md)&&(o[s]=(c=o[s],function(){const e=a.timestamp(),t=new Array(arguments.length),n=Object.getPrototypeOf&&Object.getPrototypeOf(this)===qd?qd:this;for(var r=0;r<t.length;r++)t[r]=arguments[r];if(a.serialize&&!a.asObject&&Ad(t,this._serialize,this.serializers,this._stdErrSerialize),a.asObject?c.call(n,kd(this,s,t,e)):c.apply(n,t),a.transmit){const n=a.transmit.level||o.level,r=Id.levels.values[n],i=Id.levels.values[s];if(i<r)return;Rd(this,{ts:e,methodLevel:s,methodValue:i,transmitLevel:n,transmitValue:Id.levels.values[a.transmit.level||o.level],send:a.transmit.send,val:o.levelVal},t)}}))}function kd(e,t,n,r){e._serialize&&Ad(n,e._serialize,e.serializers,e._stdErrSerialize);const i=n.slice();let a=i[0];const o={};r&&(o.time=r),o.level=Id.levels.values[t];let s=1+(0|e._childLevel);if(s<1&&(s=1),null!==a&&"object"==typeof a){for(;s--&&"object"==typeof i[0];)Object.assign(o,i.shift());a=i.length?Cd(i.shift(),i):void 0}else"string"==typeof a&&(a=Cd(i.shift(),i));return void 0!==a&&(o.msg=a),o}function Ad(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=Id.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(const r in e[i])t&&t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function jd(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return e[n].apply(this,r)}}function Rd(e,t,n){const r=t.send,i=t.ts,a=t.methodLevel,o=t.methodValue,s=t.val,c=e._logEvent.bindings;Ad(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter((function(e){return-1===c.indexOf(e)})),e._logEvent.level.label=a,e._logEvent.level.value=o,r(a,e._logEvent,s),e._logEvent=Pd(c)}function Pd(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function Td(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?Vd:Dd}function _d(){return{}}function Fd(e){return e}function Md(){}function Vd(){return!1}function Dd(){return Date.now()}Id.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Id.stdSerializers=$d,Id.stdTimeFunctions=Object.assign({},{nullTime:Vd,epochTime:Dd,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}});const Ld={pipeline:ad,searchHub:od};class Nd{constructor(e){var t;this.options=e,this.logger=(t=e.loggerOptions,xd({name:"@coveo/headless",level:(null==t?void 0:t.level)||"warn",formatters:{log:null==t?void 0:t.logFormatter},browser:{transmit:{send:(null==t?void 0:t.browserPostLogHook)||(()=>{})}}})),this.validateConfiguration(e);const n=c(s({},function(e,t){return{analyticsClientMiddleware:function(e){const{analytics:t}=e;return(null==t?void 0:t.analyticsClientMiddleware)||((e,t)=>t)}(e),validatePayload:Br,preprocessRequest:(n=e,n.preprocessRequest||dd),logger:t};var n}(e.configuration,this.logger)),{searchAPIClient:this.createSearchAPIClient()}),r=c(s({},e),{reducers:s(s({},Ld),e.reducers)});this.engine=bd(r,n),e.configuration.search&&this.engine.dispatch(ai(e.configuration.search))}addReducers(e){this.engine.addReducers(e)}validateConfiguration(e){var t;(null===(t=e.configuration.search)||void 0===t?void 0:t.preprocessRequestMiddleware)&&this.logger.warn('The "search.preprocessRequestMiddleware" configuration option is now deprecated and will be removed in the upcoming @coveo/headless major version.\n      Please use the "preprocessRequest" option instead, which works for both the Search and Analytics API requests.');const n=new Ir(c(s({},Sd),{search:new Vr({options:{required:!1},values:{pipeline:new Fr({required:!1,emptyAllowed:!1}),searchHub:new Fr({required:!1,emptyAllowed:!1}),locale:ti}})}));try{n.validate(e.configuration)}catch(r){throw this.logger.error(r,"Headless engine configuration error"),r}}createSearchAPIClient(){const{search:e}=this.options.configuration,t=this.options.configuration.preprocessRequest||dd;return new oa({logger:this.logger,renewAccessToken:()=>this.renewAccessToken(),preprocessRequest:t,deprecatedPreprocessRequest:(null==e?void 0:e.preprocessRequestMiddleware)||Di,postprocessSearchResponseMiddleware:(null==e?void 0:e.preprocessSearchResponseMiddleware)||fd,postprocessFacetSearchResponseMiddleware:(null==e?void 0:e.preprocessFacetSearchResponseMiddleware)||hd,postprocessQuerySuggestResponseMiddleware:(null==e?void 0:e.preprocessQuerySuggestResponseMiddleware)||pd})}static getSampleConfiguration(){return{organizationId:"searchuisamples",accessToken:"xx564559b1-0045-48e1-953c-3addd1ee4457",search:{pipeline:"default",searchHub:"default"}}}enableAnalytics(){this.dispatch(ui())}disableAnalytics(){this.dispatch(ci())}get store(){return this.engine.store}get dispatch(){return this.engine.dispatch}get subscribe(){return this.engine.subscribe}get state(){return this.engine.state}async renewAccessToken(){return await this.engine.renewAccessToken()}}const zd={configuration:Dl,facetSet:Nl,dateFacetSet:Hl,facetOrder:Ql,numericFacetSet:Bl,categoryFacetSet:Yl,facetSearchSet:zl,facetOptions:Wl,categoryFacetSearchSet:Jl,query:Kl,advancedSearchQueries:Zl,querySet:Gl,pagination:Ll,redirection:Xl,querySuggest:ed,search:Ul,sortCriteria:td,context:nd,history:ld,didYouMean:rd,fields:id,pipeline:ad,searchHub:od,debug:sd,resultPreview:cd,version:ud};function Ud(e){let t="{}";return{subscribe(n){return n(),e.subscribe((()=>{(e=>{try{const n=JSON.stringify(e),r=t!==n;return t=n,r}catch(n){return console.warn('Could not detect if state has changed, check the controller "get state method"',n),!0}})(this.state)&&n()}))},get state(){return{}}}}new Ir({enabled:new Pr({default:!1})}),new Ir({automaticallyLogInformation:new Pr({default:!0})}),br("categoryFacetController/executeToggleSelect",(({facetId:e,selection:t,retrieveCount:n},{dispatch:r,extra:{validatePayload:i}})=>{i(e,Ur),Ts(t);const a=((e,t)=>{const n={facetId:e,facetValue:t.value};return"selected"===t.state?bc(n):vc(n)})(e,t);r(Ms({facetId:e,selection:t,retrieveCount:n})),r(Ss({freezeFacetOrder:!0})),r(cs(a))})),br("categoryFacetController/executeDeselectAll",(({facetId:e},{dispatch:t,extra:{validatePayload:n}})=>{n({facetId:e},{facetId:Cs}),t(Vs(e)),t(Ss({freezeFacetOrder:!0})),t(cs(mc(e)))}));const Hd=new Fr({regex:/^[a-zA-Z0-9-_]+$/}),Qd=new Fr({required:!0}),Bd=new Lr({each:new Fr}),Yd=new Fr,Wd=new Pr,Jd=new Pr,Kd=new jr({min:0}),Zd=new jr({min:1}),Gd=new Pr({required:!0}),Xd=new Vr,ef=new Fr,tf=new Vr({values:{captions:Xd,numberOfValues:Zd,query:ef}});function nf(e){const{facetSet:t,numericFacetSet:n,dateFacetSet:r,categoryFacetSet:i}=e;return[t,n,r,i]}function rf(e,t){const{state:n,logger:r}=e,{field:i,facetId:a}=t;return a||function(e,t){const{field:n,state:r}=e;if(!function(e){const{field:t,state:n}=e;return nf(n).some((e=>e&&t in e))}(e))return n;const i=n+"_",a=(o=i,function(e,t){const n=e.map((e=>{const n=e.split(t)[1],r=parseInt(n,10);return Number.isNaN(r)?0:r})).sort().pop();return null!=n?n:0}(nf(r).map((e=>Object.keys(e||{}))).reduce(((e,t)=>e.concat(t)),[]),o)+1);var o;return function(e,t){const n=`A facet with field "${e}" already exists.\n  To avoid unexpected behaviour, configure the #id option on the facet controller.`;t.warn(n)}(n,t),`${i}${a}`}({field:i,state:n},r)}new Ir({field:Qd,basePath:Bd,delimitingCharacter:Yd,facetId:Hd,facetSearch:tf,filterByBasePath:Wd,filterFacetCount:Jd,injectionDepth:Kd,numberOfValues:Zd,sortCriteria:new Fr({constrainTo:["alphanumeric","occurrences"]})});const af=e=>"selected"===e.state,of={facetId:Cs,selection:new Vr({values:xs})},sf=br("facet/executeToggleSelect",(({facetId:e,selection:t},{dispatch:n,extra:{validatePayload:r}})=>{const i=((e,t)=>{const n={facetId:e,facetValue:t.value};return af(t)?bc(n):vc(n)})(e,t);r({facetId:e,selection:t},of),n(Is({facetId:e,selection:t})),n(Ss({freezeFacetOrder:!0})),n(cs(i))})),cf=new Ir({facetId:Hd,field:Qd,delimitingCharacter:Yd,filterFacetCount:Jd,injectionDepth:Kd,numberOfValues:Zd,sortCriteria:new Fr({constrainTo:["score","alphanumeric","occurrences","automatic"]}),facetSearch:tf});function uf(e,t){e.addReducers({facetSet:Nl,configuration:Dl,facetSearchSet:zl,search:Ul});const{dispatch:n}=e,r=Ud(e),i=rf(e,t.options),a=c(s(s({facetSearch:s({},cc)},kc),t.options),{facetId:i});Wr(e,cf,a,"buildFacet");const o=()=>((e,t)=>e.facetSet[t])(e.state,i),l=()=>{const{currentValues:e}=o(),t=a.numberOfValues,n=!!e.find((e=>"idle"===e.state));return t<e.length&&n};n($s(a));const d=(()=>{const{facetId:t,facetSearch:n}=a,r=s({facetId:t},n);return function(e,t){const{dispatch:n}=e,{options:r}=t,{facetId:i}=r;n(lc(r));const a=function(e,t){const n=e.dispatch,{options:r,getFacetSearch:i}=t,{facetId:a}=r;return{updateText(e){n(dc({facetId:a,query:e,numberOfValues:i().initialNumberOfValues}))},showMoreResults(){const{initialNumberOfValues:e,options:t}=i();n(dc({facetId:a,numberOfValues:t.numberOfValues+e})),n(Sc(a))},search(){n(Sc(a))},select(e){const t=e.rawValue;n(Ss({freezeFacetOrder:!0})),n(cs(vc({facetId:a,facetValue:t})))},clear(){n(Oc({facetId:a}))},get state(){const{response:e,isLoading:t,options:n}=i(),{query:r}=n,a=e.values;return c(s({},e),{values:a,isLoading:t,query:r})}}}(e,{options:r,getFacetSearch:()=>e.state.facetSearchSet[i]});return c(s({},a),{select(e){n(fc({facetId:i,value:e})),a.select(e)},get state(){const{values:e}=a.state;return c(s({},a.state),{values:e.map((({count:e,displayValue:t,rawValue:n})=>({count:e,displayValue:t,rawValue:n})))})}})}(e,{options:r})})(),f=d,{state:h}=f,p=u(f,["state"]);return c(s({},r),{facetSearch:p,toggleSelect:e=>n(sf({facetId:a.facetId,selection:e})),isValueSelected:af,deselectAll(){n(Es(i)),n(Ss({freezeFacetOrder:!0})),n(cs(mc(i)))},sortBy(e){n(ks({facetId:i,criterion:e})),n(Ss({freezeFacetOrder:!0})),n(cs(yc({facetId:i,criterion:e})))},isSortedBy(e){return this.state.sortCriterion===e},showMoreValues(){const e=o().numberOfValues,t=a.numberOfValues;n(As({facetId:i,numberOfValues:e+(t-e%t)})),n(js({facetId:i,isFieldExpanded:!0})),n(Ss({freezeFacetOrder:!0})),n(cs(hc(i)))},showLessValues(){const e=a.numberOfValues,t=Math.max(e,(()=>{const{currentValues:e}=o();return e.filter((e=>"idle"!==e.state)).length})());n(As({facetId:i,numberOfValues:t})),n(js({facetId:i,isFieldExpanded:!1})),n(Ss({freezeFacetOrder:!0})),n(cs(pc(i)))},get state(){const t=o(),n=((e,t)=>{const n=Ao(e,t);if(r=e,(i=n)&&i.facetId in r.facetSet)return n;var r,i})(e.state,i),r=e.state.search.isLoading,a=t.sortCriteria,s=n?n.values:[],c=s.some((e=>"idle"!==e.state)),u=!!n&&n.moreValuesAvailable;return{facetId:i,values:s,sortCriterion:a,isLoading:r,hasActiveValues:c,canShowMoreValues:u,canShowLessValues:l(),facetSearch:d.state}}})}const lf=br("rangeFacet/executeToggleSelect",(({facetId:e,selection:t},{dispatch:n,extra:{validatePayload:r}})=>{r({facetId:e,selection:t},Fc(t));const i=((e,t)=>{const n={facetId:e,facetValue:`${t.start}..${t.end}`};return(e=>"selected"===e.state)(t)?bc(n):vc(n)})(e,t);n(Ss({freezeFacetOrder:!0})),n(cs(i))})),df={facetId:Cs,selection:new Vr({values:_c})};br("dateFacet/executeToggleSelect",((e,{dispatch:t,extra:{validatePayload:n}})=>{n(e,df),t(Hc(e)),t(lf(e))}));const ff=["idle","selected"],hf=["ascending","descending"],pf={start:new Fr,end:new Fr,endInclusive:new Pr,state:new Fr({constrainTo:ff})};new Ir({facetId:Hd,field:Qd,generateAutomaticRanges:Gd,filterFacetCount:Jd,injectionDepth:Kd,numberOfValues:Zd,currentValues:new Lr({each:new Vr({values:pf})}),sortCriteria:new Fr({constrainTo:hf})});const gf={facetId:Cs,selection:new Vr({values:Tc})};br("numericFacet/executeToggleSelect",((e,{dispatch:t,extra:{validatePayload:n}})=>{n(e,gf),t(au(e)),t(lf(e))}));const yf={start:new jr,end:new jr,endInclusive:new Pr,state:new Fr({constrainTo:ff})};new Ir({facetId:Hd,field:Qd,generateAutomaticRanges:Gd,filterFacetCount:Jd,injectionDepth:Kd,numberOfValues:Zd,currentValues:new Lr({each:new Vr({values:yf})}),sortCriteria:new Fr({constrainTo:hf})});const mf=Uo("history/analytics/forward",zo.Search,(e=>e.logSearchEvent("historyForward"))),vf=Uo("history/analytics/backward",zo.Search,(e=>e.logSearchEvent("historyBackward")));function bf(e){return e.pagination.numberOfResults}const wf=nr((function(e){return e.pagination.firstResult}),bf,Mu),Sf=nr((function(e){return e.pagination.totalCountFiltered}),bf,Vu);nr(wf,Sf,((e,t)=>t),((e,t,n)=>{let r=function(e,t){const n=t%2==0,r=Math.floor(t/2);return{start:e-r,end:e+(n?r-1:r)}}(e,n);return r=function(e){const t=Math.max(1-e.start,0);return{start:e.start+t,end:e.end+t}}(r),r=function(e,t){const n=Math.max(e.end-t,0);return{start:Math.max(e.start-n,1),end:e.end-n}}(r,t),function(e){const t=[];for(let n=e.start;n<=e.end;++n)t.push(n);return t}(r)}));const Of=Uo("analytics/pager/resize",zo.Search,((e,t)=>{var n;return e.logPagerResize({currentResultsPerPage:(null===(n=t.pagination)||void 0===n?void 0:n.numberOfResults)||10})})),Cf=Uo("analytics/pager/number",zo.Search,((e,t)=>e.logPagerNumber({pagerNumber:wf(t)}))),xf=Uo("analytics/pager/next",zo.Search,((e,t)=>e.logPagerNext({pagerNumber:wf(t)}))),qf=Uo("analytics/pager/previous",zo.Search,((e,t)=>e.logPagerPrevious({pagerNumber:wf(t)})));new Ir({numberOfPages:new jr({default:5,min:0})}),new Ir({page:new jr({min:1})});const $f=new Ir({fieldsToInclude:new Lr({required:!1,each:new Fr({required:!0,emptyAllowed:!1})})});function If(e,t){e.addReducers({search:Ul,configuration:Dl});const n=Ud(e),r=function(e){e.addReducers({search:Ul});const t=Ud(e);return c(s({},t),{get state(){const t=e.state;return{hasError:null!==t.search.error,isLoading:t.search.isLoading,hasResults:!!t.search.results.length,firstSearchExecuted:""!==t.search.response.searchUid}}})}(e),{dispatch:i}=e,a=Wr(e,$f,null==t?void 0:t.options,"buildResultList");a.fieldsToInclude&&i(du(a.fieldsToInclude));const o=()=>e.state.search.results.length<e.state.search.response.totalCountFiltered;let u=0,l=0,d=!1;return c(s({},n),{get state(){const t=e.state;return c(s({},r.state),{results:t.search.results,searchUid:t.search.response.searchUid,moreResultsAvailable:o()})},fetchMoreResults:()=>{if(!e.state.search.isLoading)if(o()){if(Date.now()-u<200){if(l++,l>=5)return u=Date.now(),!d&&e.logger.error('The result list method "fetchMoreResults" execution prevented because it has been triggered consecutively 5 times, with little delay. Please verify the conditions under which the function is called.'),void(d=!0)}else l=0;d=!1,i(us()).then((()=>u=Date.now()))}else e.logger.info("No more results are available for the result list to fetch.")}})}const Ef=e=>{return(t=e,Uo("analytics/result/open",zo.Click,((e,n)=>(Jo(t),e.logDocumentOpen(Ho(t,n),Qo(t))))))();var t};new Ir({numberOfResults:new jr({min:0})});const kf=Uo("analytics/searchbox/submit",zo.Search,(e=>e.logSearchboxSubmit())),Af={enableQuerySyntax:!1,numberOfSuggestions:5},jf={open:new Fr,close:new Fr},Rf={id:Ur,numberOfSuggestions:new jr({min:0}),enableQuerySyntax:new Pr,highlightOptions:new Vr({values:{notMatchDelimiters:new Vr({values:jf}),exactMatchDelimiters:new Vr({values:jf}),correctionDelimiters:new Vr({values:jf})}})},Pf=new Ir(Rf),Tf=({id:e,suggestion:t})=>Uo("analytics/querySuggest",zo.Search,((n,r)=>{const i=r.querySuggest&&r.querySuggest[e];if(null!=i){const e=i.completions.map((e=>e.expression)),r={suggestionRanking:e.indexOf(t),partialQuery:i.q,partialQueries:i.partialQueries,suggestions:e};return n.logOmniboxAnalytics(r)}}))();function _f(e,t){return(e=Mf(e)).replace(/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g,((e,n,r,i)=>n?Ff(n,t.notMatchDelimiters):r?Ff(r,t.exactMatchDelimiters):i?Ff(i,t.correctionDelimiters):e))}function Ff(e,t){return t?t.open+e+t.close:e}function Mf(e){return e.replace(/&/g,"&amp").replace(/</g,"&lt").replace(/>/g,"&gt").replace(/"/g,"&quot").replace(/`/g,"&#96").replace(/'/g,"&#x27")}function Vf(e,t={}){var n,r;e.addReducers({query:Kl,querySuggest:ed,configuration:Dl,querySet:Gl,search:Ul});const i=Ud(e),{dispatch:a}=e,o=(null===(n=t.options)||void 0===n?void 0:n.id)||((e,t=5)=>e+Math.random().toString(36).substr(2,2+t))("search_box"),u=s(s({id:o,highlightOptions:s({},null===(r=t.options)||void 0===r?void 0:r.highlightOptions)},Af),t.options);Wr(e,Pf,u,"buildSearchBox"),a(tl({id:o,query:""})),a(il({id:o,q:e.state.query.q,count:u.numberOfSuggestions}));const l=()=>e.state.querySet[u.id],d=e=>{const{enableQuerySyntax:t}=u;a(Ws()),a(Go({q:l(),enableQuerySyntax:t})),a(ju(1)),a(cs(e))};return c(s({},i),{updateText(e){a(nl({id:o,query:e})),this.showSuggestions()},clear(){a(nl({id:o,query:""})),a(sl({id:o}))},hideSuggestions(){a(cl({id:o}))},showSuggestions(){u.numberOfSuggestions&&a(ul({id:o}))},selectSuggestion(e){a(ol({id:o,expression:e})),d(Tf({id:o,suggestion:e}))},submit(){d(kf())},get state(){const t=e.state,n=function(e,t){return e?e.completions.map((e=>({highlightedValue:_f(e.highlighted,t),rawValue:e.expression}))):[]}(t.querySuggest[u.id],u.highlightOptions);return{value:l(),suggestions:n,isLoading:t.search.isLoading}}})}Object.freeze({__proto__:null,highlightString:function(e){if(hu(e.openingDelimiter)||hu(e.closingDelimiter))throw Error("delimiters should be a non-empty string");if(Ar(e.content)||hu(e.content))return e.content;const t=e.content.length;let n="",r=0;for(let i=0;i<e.highlights.length;i++){const a=e.highlights[i],o=a.offset,s=o+a.length;if(s>t)break;n+=Mf(e.content.slice(r,o)),n+=e.openingDelimiter,n+=Mf(e.content.slice(o,s)),n+=e.closingDelimiter,r=s}return r!==t&&(n+=e.content.slice(r)),n},getHighlightedSuggestion:_f,escape:Mf});const Df=Uo("analytics/sort/results",zo.Search,((e,t)=>e.logResultsSort({resultsSortBy:t.sortCriteria||ns()}))),Lf=e=>Yr(e,{evt:Ur,type:new Fr({required:!1,emptyAllowed:!1})}),Nf=e=>Uo("analytics/generic/search",zo.Search,(t=>{Lf(e);const{evt:n,meta:r}=e;return t.logSearchEvent(n,r)}))(),zf=e=>Uo("analytics/generic/click",zo.Click,((t,n)=>(Jo(e.result),Lf(e),t.logClickEvent(e.evt,Ho(e.result,n),Qo(e.result)))))(),Uf=e=>Uo("analytics/generic/custom",zo.Custom,(t=>(Lf(e),t.logCustomEventWithType(e.evt,e.type,e.meta))))(),Hf=Uo("analytics/interface/load",zo.Search,(e=>e.logInterfaceLoad())),Qf=Uo("analytics/interface/change",zo.Search,((e,t)=>{var n;return e.logInterfaceChange({interfaceChangeTo:(null===(n=t.advancedSearchQueries)||void 0===n?void 0:n.cq)||""})}));new Ir({expression:new Fr}),new Ir({isActive:new Pr});const Bf=()=>Uo("analytics/facet/deselectAllFacets",zo.Search,(e=>e.logBreadcrumbResetAll()))(),Yf={categoryFacetId:Cs,categoryFacetPath:new Lr({required:!0,each:Ur})},Wf=e=>Uo("analytics/categoryFacet/breadcrumb",zo.Search,((t,n)=>(Yr(e,Yf),t.logBreadcrumbFacet(((e,{categoryFacetId:t,categoryFacetPath:n})=>{const r=e.categoryFacetSet[t],i=null==r?void 0:r.request.field;return{categoryFacetId:t,categoryFacetPath:n,categoryFacetField:i,categoryFacetTitle:`${i}_${t}`}})(n,e)))))(),Jf=e=>Uo("analytics/rangeFacet/breadcrumb",zo.Search,((t,n)=>{Yr(e,Fc(e.selection));const r=((e,{facetId:t,selection:n})=>{const r=e.dateFacetSet[t]||e.numericFacetSet[t];return{facetId:t,facetField:r.field,facetTitle:`${r.field}_${t}`,facetRangeEndInclusive:n.endInclusive,facetRangeEnd:""+n.end,facetRangeStart:""+n.start}})(n,e);return t.logBreadcrumbFacet(r)}))(),Kf=Jf,Zf=Jf;new Ir({id:new Fr({emptyAllowed:!0,required:!1,default:""})}),new Ir(c(s({},Rf),{redirectionUrl:new Fr({required:!0,emptyAllowed:!1,url:!0})}));const Gf={additionalFields:new Lr({required:!1,each:new Fr({emptyAllowed:!1})}),skus:new Lr({required:!1,each:new Fr({emptyAllowed:!1})}),maxNumberOfRecommendations:new jr({required:!1,max:50,min:1,default:5})};new Ir(s({id:new Fr({required:!0,emptyAllowed:!1})},Gf)),new Ir({sku:new Fr({required:!0,emptyAllowed:!1}),maxNumberOfRecommendations:Gf.maxNumberOfRecommendations,additionalFields:Gf.additionalFields}),new Ir(s({},Gf)),new Ir(s({},Gf)),new Ir({maxNumberOfRecommendations:Gf.maxNumberOfRecommendations,additionalFields:Gf.additionalFields}),new Ir({maxNumberOfRecommendations:Gf.maxNumberOfRecommendations,additionalFields:Gf.additionalFields}),new Ir({maxNumberOfRecommendations:Gf.maxNumberOfRecommendations,additionalFields:Gf.additionalFields}),new Ir({parameters:new Vr({options:{required:!0},values:Gr})}),new Ir({fragment:new Fr}),new Ir({priority:new jr({required:!1,default:0,min:0}),fields:new Lr({required:!1,each:new Fr({required:!0,emptyAllowed:!1})})});const Xf=(e,t)=>t in e?e[t]:t in e.raw?e.raw[t]:null,eh=e=>t=>e.every((e=>void 0!==t.raw[e])),th=e=>t=>e.every((e=>void 0===t.raw[e])),nh=(e,t)=>n=>{const r=ih(e,n);return t.some((e=>r.some((t=>(""+t).toLowerCase()===e.toLowerCase()))))},rh=(e,t)=>n=>{const r=ih(e,n);return t.every((e=>r.every((t=>(""+t).toLowerCase()!==e.toLowerCase()))))},ih=(e,t)=>{const n=t.raw[e];return r=n,Array.isArray(r)?n:[n];var r};var ah,oh,sh,ch,uh,lh,dh,fh,hh,ph,gh,yh,mh,vh,bh,wh,Sh,Oh,Ch,xh,qh,$h,Ih,Eh,kh,Ah,jh,Rh,Ph,Th,_h,Fh,Mh,Vh,Dh,Lh,Nh,zh,Uh,Hh,Qh;function Bh(e={}){return s({configuration:zi(),advancedSearchQueries:{cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,defaultFilters:{cq:"",aq:""}},facetSet:{},dateFacetSet:{},numericFacetSet:{},categoryFacetSet:{},facetSearchSet:{},categoryFacetSearchSet:{},facetOptions:{freezeFacetOrder:!1},pagination:{firstResult:0,numberOfResults:10,totalCountFiltered:0},query:{q:"",enableQuerySyntax:!1},querySet:{},querySuggest:{},redirection:{redirectTo:null},search:{response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],queryCorrections:[]},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[]},sortCriteria:ns(),context:{contextValues:{}},didYouMean:{enableDidYouMean:!1,wasCorrectedTo:"",wasAutomaticallyCorrected:!1,queryCorrection:{correctedQuery:"",wordCorrections:[],originalQuery:""},originalQuery:""},fields:{fieldsToInclude:["author","language","urihash","objecttype","collection","source","permanentid"]},history:Vl(rs()),pipeline:"default",facetOrder:[],searchHub:"default",debug:!1,resultPreview:{uniqueId:"",content:"",isLoading:!1},version:"unit-testing-version"},e)}(ah||(ah={})).updateAdvancedSearchQueries=Kr,function(e){e.registerCategoryFacet=Fs,e.toggleSelectCategoryFacetValue=Ms,e.deselectAllCategoryFacetValues=Vs,e.updateCategoryFacetNumberOfValues=Ds,e.updateCategoryFacetSortCriterion=Ls}(oh||(oh={})),function(e){e.registerFacet=$s,e.toggleSelectFacetValue=Is,e.updateFacetIsFieldExpanded=js,e.updateFacetNumberOfValues=As,e.updateFacetSortCriterion=ks,e.updateFreezeCurrentValues=Rs,e.deselectAllFacetValues=Es}(sh||(sh={})),function(e){e.updateBasicConfiguration=ii,e.updateSearchConfiguration=ai,e.updateAnalyticsConfiguration=oi,e.renewAccessToken=si,e.disableAnalytics=ci,e.enableAnalytics=ui,e.setOriginLevel2=li,e.setOriginLevel3=di}(ch||(ch={})),function(e){e.setContext=Bi,e.addContext=Yi,e.removeContext=Wi}(uh||(uh={})),function(e){e.enableDebug=Ki,e.disableDebug=Zi}(lh||(lh={})),function(e){e.registerDateFacet=Uc,e.toggleSelectDateFacetValue=Hc,e.updateDateFacetSortCriterion=Qc,e.deselectAllDateFacetValues=Bc}(dh||(dh={})),function(e){e.enableDidYouMean=ea,e.applyDidYouMeanCorrection=na,e.disableDidYouMean=ta}(fh||(fh={})),(hh||(hh={})).registerFieldsToInclude=du,function(e){e.snapshot=Or,e.back=Cr,e.change=qr,e.forward=xr}(ph||(ph={})),function(e){e.registerNumericFacet=iu,e.deselectAllNumericFacetValues=su,e.toggleSelectNumericFacetValue=au,e.updateNumericFacetSortCriterion=ou}(gh||(gh={})),function(e){e.registerNumberOfResults=Eu,e.registerPage=Au,e.nextPage=Ru,e.previousPage=Pu,e.updateNumberOfResults=ku,e.updatePage=ju}(yh||(yh={})),(mh||(mh={})).setPipeline=Du,(vh||(vh={})).updateQuery=Go,function(e){e.registerQuerySetQuery=tl,e.updateQuerySetQuery=nl}(bh||(bh={})),function(e){e.registerQuerySuggest=il,e.buildQuerySuggestRequest=ll,e.clearQuerySuggest=sl,e.clearQuerySuggestCompletions=cl,e.fetchQuerySuggestions=ul,e.selectQuerySuggestion=ol,e.unregisterQuerySuggest=al}(wh||(wh={})),function(e){e.checkForRedirection=Ol,e.buildPlanRequest=Cl}(Sh||(Sh={})),function(e){e.executeSearch=cs,e.buildSearchRequest=hs,e.fetchMoreResults=us}(Oh||(Oh={})),(Ch||(Ch={})).setSearchHub=Il,function(e){e.registerSortCriterion=Tl,e.updateSortCriterion=_l}(xh||(xh={})),function(e){e.buildRecommendationRequest=vl,e.getRecommendations=ml,e.setRecommendationId=yl}(qh||(qh={})),function(e){e.setProductRecommendationsBrandFilter=Bu,e.buildProductRecommendationsRequest=Xu,e.getProductRecommendations=Ku,e.setProductRecommendationsCategoryFilter=Yu,e.setProductRecommendationsMaxNumberOfRecommendations=Ju,e.setProductRecommendationsRecommenderId=Hu,e.setProductRecommendationsSkus=Qu}($h||($h={})),(Ih||(Ih={})).deselectAllFacets=Ws,function(e){e.getResultProperty=Xf,e.fieldsMustBeDefined=eh,e.fieldsMustNotBeDefined=th,e.fieldMustMatch=nh,e.fieldMustNotMatch=rh}(Eh||(Eh={})),function(e){e.logInterfaceLoad=Hf,e.logInterfaceChange=Qf,e.logClickEvent=zf,e.logCustomEvent=Uf,e.logSearchEvent=Nf}(kh||(kh={})),function(e){e.logDidYouMeanClick=Ko,e.logDidYouMeanAutomatic=Zo}(Ah||(Ah={})),function(e){e.logFacetShowMore=hc,e.logFacetShowLess=pc,e.logFacetSelect=vc,e.logFacetDeselect=bc,e.logFacetClearAll=mc,e.logFacetSearch=gc,e.logFacetUpdateSort=yc,e.logFacetBreadcrumb=wc}(jh||(jh={})),(Rh||(Rh={})).logClearBreadcrumbs=Bf,(Ph||(Ph={})).logDateFacetBreadcrumb=Zf,(Th||(Th={})).logNumericFacetBreadcrumb=Kf,(_h||(_h={})).logCategoryFacetBreadcrumb=Wf,function(e){e.logNavigateForward=mf,e.logNavigateBackward=vf}(Fh||(Fh={})),function(e){e.logPageNext=xf,e.logPagePrevious=qf,e.logPageNumber=Cf,e.logPagerResize=Of}(Mh||(Mh={})),(Vh||(Vh={})).logProductRecommendations=Uu,(Dh||(Dh={})).logSearchboxSubmit=kf,(Lh||(Lh={})).logQuerySuggestionClick=Tf,(Nh||(Nh={})).logRecommendationUpdate=gl,(zh||(zh={})).logTriggerRedirect=Sl,(Uh||(Uh={})).logDocumentOpen=Ef,(Hh||(Hh={})).logResultsSort=Df,function(e){e.logFetchMoreResults=as,e.logQueryError=os}(Qh||(Qh={}));var Yh,Wh,Jh,Kh=Function.prototype,Zh=Object.prototype,Gh=Kh.toString,Xh=Zh.hasOwnProperty,ep=Gh.call(Object),tp=Zh.toString,np=(Yh=Object.getPrototypeOf,Wh=Object,function(e){return Yh(Wh(e))}),rp=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}(Gn),ip=(Jh=function(e){if(!(t=e)||"object"!=typeof t||"[object Object]"!=tp.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t,n=np(e);if(null===n)return!0;var r=Xh.call(n,"constructor")&&n.constructor;return"function"==typeof r&&r instanceof r&&Gh.call(r)==ep})&&Jh.__esModule?Jh:{default:Jh};function ap(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var op=function(e){return"function"==typeof e};function sp(e={}){return s({configuration:zi(),advancedSearchQueries:{cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,defaultFilters:{cq:"",aq:""}},context:{contextValues:{}},fields:{fieldsToInclude:["author","language","urihash","objecttype","collection","source","permanentid"]},searchHub:"default",pipeline:"default",recommendation:{duration:0,error:null,isLoading:!1,id:"Recommendation",recommendations:[],searchUid:""},debug:!1,version:"unit-testing-version"},e)}function cp(e={}){return s({configuration:zi(),context:{contextValues:{}},searchHub:"default",productRecommendations:{id:"",skus:[],maxNumberOfRecommendations:5,filter:{brand:"",category:""},additionalFields:[],recommendations:[],error:null,isLoading:!1,searchUid:"",duration:0},version:"unit-testing-version"},e)}function up(e){return new oa(s({renewAccessToken:async()=>"",logger:xd({level:"silent"}),preprocessRequest:dd,deprecatedPreprocessRequest:Di,postprocessSearchResponseMiddleware:fd,postprocessFacetSearchResponseMiddleware:hd,postprocessQuerySuggestResponseMiddleware:pd},e))}const lp=async()=>"";function dp(e={},t){const n=xd({level:"silent"}),r=fp(n)(e.state||t()),i=()=>{};return c(s({store:r,state:c(s({},t()),{searchHub:"default",pipeline:"default"}),subscribe:jest.fn((()=>i)),get dispatch(){return r.dispatch},get actions(){return r.getActions()},findAsyncAction(e){const t=this.actions.find((t=>t.type===e.type));return(n=t)&&"meta"in n?t:void 0;var n}},e),{renewAccessToken:lp,logger:n,addReducers:jest.fn()})}const fp=e=>function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function n(){var e=[],n=[];return{getState:function(){return op(t)?t(e):t},getActions:function(){return e},dispatch:function(t){if(!(0,ip.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant? Action: '+JSON.stringify(t));e.push(t);for(var r=0;r<n.length;r++)n[r]();return t},clearActions:function(){e=[]},subscribe:function(e){return op(e)&&n.push(e),function(){var t=n.indexOf(e);t<0||n.splice(t,1)}},replaceReducer:function(e){if(!op(e))throw new Error("Expected the nextReducer to be a function.")}}}return rp.applyMiddleware.apply(void 0,ap(e))(n)()}}([yd(e),gd,ir.withExtraArgument({searchAPIClient:up({logger:e}),validatePayload:Br,logger:e}),...hr(),md(e)]);function hp(e={}){return s({urihash:"",parents:"",sfid:"",sfparentid:"",sfinsertedbyid:"",documenttype:"",sfcreatedbyid:"",permanentid:"",date:0,objecttype:"",sourcetype:"",sftitle:"",size:0,sffeeditemid:"",clickableuri:"",sfcreatedby:"",source:"",collection:"",connectortype:"",filetype:"",sfcreatedbyname:"",sflikecount:0,language:[]},e)}Object.freeze({__proto__:null,buildMockSearchAppEngine:function(e={}){return dp(e,Bh)},buildMockRecommendationAppEngine:function(e={}){return dp(e,sp)},buildMockProductRecommendationsAppEngine:function(e={}){return dp(e,cp)},createMockState:Bh,buildMockResult:function(e={}){return s({title:"",uri:"",printableUri:"",clickUri:"",uniqueId:"",excerpt:"",firstSentences:"",summary:null,flags:"",hasHtmlVersion:!1,score:0,percentScore:0,rankingInfo:null,isTopResult:!1,isRecommendation:!1,titleHighlights:[],firstSentencesHighlights:[],excerptHighlights:[],printableUriHighlights:[],summaryHighlights:[],absentTerms:[],raw:hp()},e)},buildMockRaw:hp});export{If as $,d as A,de as B,$e as C,Nt as D,Ke as E,U as F,C as G,v as H,w as I,l as J,tt as K,Nd as L,Tt as M,zd as N,Vf as O,jt as P,G as Q,me as R,xe as S,ie as T,Pe as U,uf as V,m as W,Ne as X,Fe as Y,He as Z,$ as _,_ as a,Mt as a0,Ye as a1,R as b,F as c,q as d,I as e,x as f,M as g,D as h,Ce as i,ve as j,k,A as l,be as m,V as n,we as o,ge as p,ye as q,pe as r,y as s,E as t,fe as u,he as v,Se as w,J as x,W as y,Y as z};
